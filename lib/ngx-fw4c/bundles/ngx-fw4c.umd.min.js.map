{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-fw4c/lib/components/shared/validation/validation.model.ts","ng://ngx-fw4c/lib/components/shared/services/cache.service.ts","ng://ngx-fw4c/lib/components/shared/services/setting.service.ts","ng://ngx-fw4c/lib/components/shared/enums/base.enum.ts","ng://ngx-fw4c/lib/components/shared/models/base.model.ts","ng://ngx-fw4c/lib/components/shared/services/data.service.ts","ng://ngx-fw4c/lib/components/shared/services/action.service.ts","ng://ngx-fw4c/lib/components/shared/services/aggregator.service.ts","ng://ngx-fw4c/lib/components/shared/services/mock.service.ts","ng://ngx-fw4c/lib/components/shared/services/menu.service.ts","ng://ngx-fw4c/lib/components/shared/services/utils.service.ts","ng://ngx-fw4c/lib/components/shared/services/base-notification.service.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.provider.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.service.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.module.ts","ng://ngx-fw4c/lib/components/shared/models/setting.model.ts","ng://ngx-fw4c/lib/components/shared/models/notification.model.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.model.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.const.ts","ng://ngx-fw4c/lib/components/shared/modals/components/notification/notification.component.ts","ng://ngx-fw4c/lib/components/shared/modals/components/confirm/confirm.component.ts","ng://ngx-fw4c/lib/components/shared/loader/html.pipe.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.component.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.provider.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.module.ts","ng://ngx-fw4c/lib/components/shared/modals/components/template/template.component.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.service.ts","ng://ngx-fw4c/lib/components/shared/modals/components/loading/loading.component.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.module.ts","ng://ngx-fw4c/lib/components/auth/auth.model.ts","ng://ngx-fw4c/lib/components/auth/auth.const.ts","ng://ngx-fw4c/lib/components/auth/auth.service.ts","ng://ngx-fw4c/lib/components/shared/triggers/animation.trigger.ts","ng://ngx-fw4c/lib/components/shared/pages/404/404.component.ts","ng://ngx-fw4c/lib/components/shared/pages/403/403.component.ts","ng://ngx-fw4c/lib/components/shared/pages/400/400.component.ts","ng://ngx-fw4c/lib/components/shared/pages/page.module.ts","ng://ngx-fw4c/lib/components/shared/file/file.model.ts","ng://ngx-fw4c/lib/components/shared/file/file.service.ts","ng://ngx-fw4c/lib/components/shared/file/file.const.ts","ng://ngx-fw4c/lib/components/shared/file/file.provider.ts","ng://ngx-fw4c/lib/components/shared/cropper/cropper.component.ts","ng://ngx-fw4c/lib/components/shared/file/file.component.ts","ng://ngx-fw4c/lib/components/shared/cropper/cropper.module.ts","ng://ngx-fw4c/lib/components/shared/file/file.module.ts","ng://ngx-fw4c/lib/components/shared/tab/tab-item.component.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.adaptor.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.component.ts","ng://ngx-fw4c/lib/components/shared/form/form-director-extra-item.directive.ts","ng://ngx-fw4c/lib/components/shared/form/form-director.component.ts","ng://ngx-fw4c/lib/components/shared/form/form-item.directive.ts","ng://ngx-fw4c/lib/components/shared/form/form.component.ts","ng://ngx-fw4c/lib/components/shared/form/form.module.ts","ng://ngx-fw4c/lib/components/shared/dropdown/dropdown.component.ts","ng://ngx-fw4c/lib/components/shared/dropdown/dropdown.module.ts","ng://ngx-fw4c/lib/components/shared/spinner/spinner.component.ts","ng://ngx-fw4c/lib/components/shared/spinner/spinner.module.ts","ng://ngx-fw4c/lib/components/shared/card/card.component.ts","ng://ngx-fw4c/lib/components/shared/card/card.module.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordion.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordionlink.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordionanchor.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordion.module.ts","ng://ngx-fw4c/lib/components/shared/formatter/badge.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/currency.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/date.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/datetime.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/time.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/number.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/safe.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/oembed-video.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/kb.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/file.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/formatter.module.ts","ng://ngx-fw4c/lib/components/shared/constants/key.const.ts","ng://ngx-fw4c/lib/components/shared/constants/menu.const.ts","ng://ngx-fw4c/lib/components/shared/checkbox/checkbox.component.ts","ng://ngx-fw4c/lib/components/shared/checkbox/checkbox.module.ts","ng://ngx-fw4c/lib/components/shared/textbox/textbox.component.ts","ng://ngx-fw4c/lib/components/shared/textbox/textbox.module.ts","ng://ngx-fw4c/lib/components/shared/table/table-row-detail.directive.ts","ng://ngx-fw4c/lib/components/shared/table/table.model.ts","ng://ngx-fw4c/lib/components/shared/table/table.component.ts","ng://ngx-fw4c/lib/components/shared/button/button/button.component.ts","ng://ngx-fw4c/lib/components/shared/button/dropdown-buttons/dropdown-button.component.ts","ng://ngx-fw4c/lib/components/shared/button/dropdown-buttons/dropdown-buttons.component.ts","ng://ngx-fw4c/lib/components/shared/button/button.module.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/datetime/datetime.component.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/daterange/daterange.component.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/datetime-picker.module.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.module.ts","ng://ngx-fw4c/lib/components/shared/table/table.module.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/full-media/full-media.component.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/media-viewer/media-viewer.component.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/media-viewer.module.ts","ng://ngx-fw4c/lib/components/shared/image-viewer/image-viewer.component.ts","ng://ngx-fw4c/lib/components/shared/image-viewer/image-viewer.module.ts","ng://ngx-fw4c/lib/components/shared/viewer/gallery/gallery.component.ts","ng://ngx-fw4c/lib/components/shared/viewer/viewer.component.ts","ng://ngx-fw4c/lib/components/shared/viewer/viewer.module.ts","ng://ngx-fw4c/lib/components/shared/radio/radio-item/radio-item.component.ts","ng://ngx-fw4c/lib/components/shared/radio/radio.component.ts","ng://ngx-fw4c/lib/components/shared/radio/radio.module.ts","ng://ngx-fw4c/lib/components/shared/timeline/timeline.component.ts","ng://ngx-fw4c/lib/components/shared/timeline/timeline.module.ts","ng://ngx-fw4c/lib/components/shared/chip/chip.component.ts","ng://ngx-fw4c/lib/components/shared/chip/chip.module.ts","ng://ngx-fw4c/lib/components/shared/panel/panel-header.directive.ts","ng://ngx-fw4c/lib/components/shared/panel/panel.component.ts","ng://ngx-fw4c/lib/components/shared/panel/panel.module.ts","ng://ngx-fw4c/lib/components/shared/list/list-item.directive.ts","ng://ngx-fw4c/lib/components/shared/list/list.component.ts","ng://ngx-fw4c/lib/components/shared/list/list.module.ts","ng://ngx-fw4c/lib/components/auth/auth.component.ts","ng://ngx-fw4c/lib/components/auth/auth.module.ts","ng://ngx-fw4c/lib/components/shared/tab/tab.component.ts","ng://ngx-fw4c/lib/components/shared/tab/tab.module.ts","ng://ngx-fw4c/lib/components/layout/layout.service.ts","ng://ngx-fw4c/lib/components/layout/backsite-layout.component.ts","ng://ngx-fw4c/lib/components/layout/breadcrumbs.component.ts","ng://ngx-fw4c/lib/components/layout/customizer.component.ts","ng://ngx-fw4c/lib/components/layout/footer.component.ts","ng://ngx-fw4c/lib/components/layout/header.component.ts","ng://ngx-fw4c/lib/components/layout/navbar.component.ts","ng://ngx-fw4c/lib/components/layout/sidebar.component.ts","ng://ngx-fw4c/lib/components/layout/toolbar.component.ts","ng://ngx-fw4c/lib/components/layout/floating-toolbar.component.ts","ng://ngx-fw4c/lib/components/layout/layout.module.ts","ng://ngx-fw4c/lib/fw4c.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__values","o","m","Symbol","iterator","next","value","done","__read","r","e","ar","push","error","__spread","concat","SummaryError","init","ValidationRuleResponse","overridenErrorMessage","errorMessage","RequiredValidationRule","_super","_this","key","ValidationConstant","Required","tslib_1.__extends","ValidationRule","EmailValidationRule","Email","PhoneValidationRule","Phone","CustomValidationRule","execute","Custom","rules","dirtyCheck","errorMessageClass","ErrorMessageClass","errorElementClass","ErrorElementClass","successElementClass","SuccessElementClass","ClientValidator","options","relatedValidationProviders","requiredMessage","invalidMessage","ChangedItem","change","ErrorMessage","DefaultErrorStyles","DefaultErrorClass","AttributeName","AttributeOptionName","AttributeDynamicName","ErrorTargetId","DynamicErrorAttribute","ERROR_ELEMENT_ID","ERROR_ITEM_ELEMENT_ID","VALIDATION_ID","ARRAY_SEQUENCE_ID","CacheService","set","data","window","localStorage","setItem","JSON","stringify","get","parse","getItem","remove","removeItem","Injectable","args","providedIn","SettingService","httpClient","_cacheService","search","request","params","useMock","currentValue","HttpClient","Save","Cancel","Back","SaveAll","EditColumnOptions","SaveAndNew","Reset","Update","Add","Delete","BaseRequest","MockData","SearchBaseRequest","BaseTemplate","AggregatorViewModel","ButtonDefinition","style","ToolbarActionPayload","ObjectChange","LookupItem","ExtendedMainMenuGroup","KeyValueItem","BreadCrumbItem","ControlType","Textbox","Dropdown","Button","MenuTab","MenuItem","Breadcrumb","MediaItem","Audit","TrackingGroup","TrackingDetail","DataService","_sanitizer","cloneItem","item","response","fields","keys","forEach","field","cloneItems","items","id","newItem","newGuid","transformToSafeHtml","input","bypassSecurityTrustHtml","initDebounceTime","time","delegator","Subject","pipe","debounceTime","subscribe","action","removeHTML","str","replace","removeAllSpaces","replaceAt","substring","isValidEmail","email","test","convertUCode","c","indexOf","fuzzysearch","needle","haystack","haystackLC","toLowerCase","needleLC","hlen","nlen","outer","j","nch","Math","random","toString","isNullOrEmpty","obj","undefined","toPascalCase","text","lowerCase","toUpperCase","compareObjects","source","target","changes","sourceProperties","getOwnPropertyNames","targetProperties","addedProperties","filter","x","removedProperties","modifiedProperties","modifiedProperties_1","tslib_1.__values","modifiedProperties_1_1","property","_.isEqual","propertyName","changeType","ChangeType","oldValue","newValue","map","getField","valueRef","isNumber","isDigit","DomSanitizer","ActionService","_settingService","executeAsync","callback","timeout","setTimeout","scrollTop","scrollTo","isMobile","userAgent","navigator","verify","of","changeItem","menuTabs","parent","retrieveParent","state","find","label","name","url","mainState","children","k","retrieveChild","retrieveStateName","AggregatorService","emitters","publish","currentEmitter","register","emit","emitter","EventEmitter","MockService","MenuService","tabs","menuTabbedItems","reduce","result","current","role","menu","subName","loadMenuItems","tab","loadFirstTabItems","currentMenu","loadFirstTab","getTabs","UtilityService","BaseNotificationService","ValidationProvider","required","isRequired","phone","isValidPhone","trimmedValue","trim","isArray","ValidationService","rendererFactory","validationProvider","_dataService","_actionService","onDestroy","elements","errClass","styles","attributeName","relatedProviders","subscriptions","Subscription","virtualValidationOptions","changedItems","renderer","createRenderer","ngOnDestroy","unsubscribe","model","validator","payloadRef","addRelatedProviders","option","displayText","validationName","element","rowIndex","displayingRowIndex","dynamic","updateAsync","relatedProvidersToRegister","registerElements","registerEvents","validCallback","invalidCallback","retrieveSummaryErrors","isValid","show","focus","errors","el","valid","handleErrors","res","commit","take","setElementError","removeClass","addClass","errorElement","findErrorElement","createElement","setAttribute","parentElement","parentNode","appendChild","errorItemElementKey","errorItemElement","findErrorItemElement","dynamicSequenceId","findDynamicSequenceId","createText","clearErrorItemElement","removeChild","isDirty","validateElement","payload","fieldValue","valueResolver","validatedActions$","Error","requiredRule","sequenceId","status","message","forkJoin","validatedActions","relevantFields","validateRelevantFields","attributes","findElementOption","newOption","syncErrorMessages","errors$","validationOption","errorBatch","relatedErrors","previous","provider","subErrors$","merge","defaultIfEmpty","validationIdAttribute","validationId","from","sequenceIdAttribute","nonDynamicOptions","nonDynamicElements","query","scope","formRef","nativeElement","querySelectorAll","generatedDynamicOptions","dynamicElements","clonedOptions","index","elementOption","focusoutListener","listen","handleBlurEvent","$event","currentItem","errorMessages","messages","providers","newProviders","_a","RendererFactory2","Output","ValidationModule","forRoot","ngModule","NgModule","declarations","imports","SettingSearchRequest","SettingSearchResponse","BaseResponse","GetLookupItemsRequest","GetLookupItemsResponse","SendNotificationRequest","notificationTypes","payloadItems","recipients","SendNotificationResponse","NotificationType","Sms","Local","EditNotificationThreadViewModel","detailGroups","NotificationDetailGroup","details","NotificationDetail","RetrieveNotificationThreadRequest","RetrieveNotificationThreadResponse","NotificationTemplateVariable","OrderIdentifier","PendingApprovalProductsCount","SuppliersCount","PendingInquiriesCount","BuyerName","ProductName","RegisterChannelRequest","SendLiveNotificationRequest","RemoveNotificationDetailRequest","RemoveNotificationDetailResponse","RemoveNotificationDetailGroupType","All","GroupByDate","Single","RetrieveNotificationDetailRequest","RetrieveNotificationDetailResponse","SearchInboxNotificationsRequest","SearchInboxNotificationsResponse","MarkAllNotificationsReadRequest","MarkAllNotificationsReadResponse","threshold","NotificationViewModel","ConfirmViewModel","TemplateViewModel","ModalServiceConstant","Mode","Create","Picker","NotificationComponent","_sanitizationService","_modalRef","html","cancel","hide","autoClose","Component","selector","template","encapsulation","ViewEncapsulation","None","BsModalRef","ConfirmComponent","cancelCallback","accept","acceptCallback","HtmlPipe","transform","v","Pipe","LoaderComponent","_componentFactoryResolver","_viewContainerRef","ngAfterViewInit","createComponent","clear","factory","resolveComponentFactory","componentRef","instance","rootNodes","containerRef","ComponentFactoryResolver","ViewContainerRef","Input","ViewChild","static","LoaderProvider","LoaderModule","CommonModule","FormsModule","ReactiveFormsModule","entryComponents","exports","TemplateComponent","loader","mode","ModalService","_bsModalService","Ng4LoadingSpinnerService","showLoading","hideLoading","showNotificationDialog","customCss","customSize","center","_modalInstance","backdrop","class","keyboard","ignoreBackdropClick","animated","content","showConfirmDialog","showTemplateDialog","BsModalService","LoadingComponent","ngOnInit","LoadingViewModel","CModalModule","ComponentLoaderFactory","PositioningService","ModalModule","Ng4LoadingSpinnerModule","AuthenticationViewModel","AuthenticationLoginRequest","AuthenticationLoginResponse","AuthenticationCreateRequest","AuthenticationCreateResponse","AuthenticationUpdateRequest","AuthenticationUpdateResponse","AuthenticationRetrieveRequest","AuthenticationRetrieveResponse","AuthenticationDeleteRequest","AuthenticationDeleteResponse","AuthenticationSearchRequest","AuthenticationSearchResponse","SearchBaseResponse","AuthConst","Token","User","AuthenticationService","_router","api","user","currentUser","mockData","retrieve","userName","login","post","update","put","delete","ids","logout","path","refresh","navigate","location","href","Router","fadeInOut","trigger","transition","opacity","animate","fadeDownInOut","fadeRightInOut","NotFoundComponent","gotoHome","AccessDeniedComponent","_location","back","Location","WorkingComponent","PageModule","FileViewModel","FileRequest","FileResponse","FileService","authenticationService","uploadFiles","uploadProgress","file","HttpResponse","body","src","createdDate","Date","lastModifiedDate","createdBy","lastModifiedBy","FileConst","AcceptedFiles","MaxSize","FileProvider","_fileService","_modalService","_authenticationService","uploadAsync","files","attachments","fileRef","buildRequest","calculateTotalBytes","title","btnTitle","others","uploadFileAsync","otherTypes_1","type","btnAcceptTitle","btnCancelTitle","totalAmount","attachment","size","otherFiles","reader_1","FileReader","readAsDataURL","onloadend","base64String","CropperComponent","cutRatio","resizeToWidth","maintainAspectRatio","imageChangedEvent","croppedImage","showCropper","setImage","image","eventFile","imageLoaded","console","log","cropperReady","loadImageFailed","imageCropped","event","base64","getErrors","UploaderComponent","modalService","fileService","icon","multiple","maxSize","fileType","changeLoading","changeProgress","fileUploaded","progress","onFileUploaded","validationResult","initValidation","cropImage","reader","loadEvent","imageElement","base64FileParts","split","base64FileData","loading","finalize","uploadedFilePath","uploadFileSubscription","tap","HttpEventType","UploadProgress","round","loaded","total","Response","err","add","initExtentionFile","types","extension","currentTypes","CropperModule","LibraryModule","FileModule","TabItemComponent","TemplateRef","EditorAdapter","upload","then","Promise","resolve","base64Data","default","EditorComponent","disabled","emitNullOnDestroy","modelChange","plainTextChange","editor","Editor","config","height","plainText","nativeEditor","elementRef","textContent","ready","plugins","createUploadAdapter","ui","getEditableElement","FormDirectorExtraItemDirective","Directive","FormDirectorComponent","direction","alignVertical","FormItemDirective","FormComponent","column","smallWidth","mediumWidth","largeWidth","ngOnChanges","firstChange","ContentChildren","FormModule","DropdownComponent","changeDetectorRef","closeOnSelect","dropdownPosition","loadingText","notFoundText","placeholder","pageSize","readonly","typeToSearchText","searchable","lazyload","totalItems","searchItems","searchText$","BehaviorSubject","currentPage","numberOfItemsFromEndBeforeFetchingMore","fetchMore$","search$","distinctUntilChanged","switchMap","searchFunction","rebind","pageIndex","getValue","append","beforeSearch","afterSearch","afterSearchSubscription","skip","onBlur","scroll","lastIndex","fetchMore","totalRecords","markForCheck","ChangeDetectorRef","ContentChild","DropdownModule","NgSelectModule","SpinnerComponent","router","isSpinnerVisible","routerSubscription","events","NavigationStart","NavigationEnd","NavigationCancel","NavigationError","SpinnerModule","CardComponent","classHeader","cardToggle","cardClose","loadCard","isCardToggled","toggleCard","closeCard","fullScreen","fullCard","fullCardIcon","cardRefresh","cardLoad","animations","overflow","AUTO_STYLE","display","CardModule","AccordionDirective","navlinks","countState","closeOtherLinks","openLink","group","innerWidth","document","querySelector","click","link","open","addLink","removeGroup","splice","getUrl","AccordionLinkDirective","nav","defineProperty","_open","classList","toggle","decorators","Inject","HostBinding","AccordionAnchorDirective","navlink","onClick","HostListener","AccordionModule","BadgePipe","CurrencyPipe","digits","locale","DecimalPipe","CDatePipe","DatePipe","CDatetimePipe","TimePipe","NumberPipe","SafePipe","sanitizer","CembedVideoPipe","extractOembedTagPattern","RegExp","extractOembedTagsResult","exec","oembedTags","tag","KbPipe","FilePipe","pipes","FormatterModule","forChild","KeyConst","ViewImage","PageChanged","NewNotifications","MenuChanged","MenuKey","Admin","Admin2","CheckboxComponent","customModelChange","customModel","customModelTransformation","onModelChange","CheckboxModule","TextboxComponent","maxCharacters","getElementsByTagName","submitNumeric","minNumber","preventDefault","maxNumber","CustomCurrencyMaskConfig","align","allowNegative","decimal","precision","prefix","suffix","thousands","TextboxModule","CurrencyMaskModule","provide","CURRENCY_MASK_CONFIG","useValue","TableRowDetailDirective","TableColumn","TableSorter","TableAction","TableConstant","ActionType","Inline","TableText","placeholderSearch","DisplayText","PlaceholderSearch","btnSearch","BtnSearch","btnReset","BtnReset","Action","selectPageSize","SelectPageSize","deleteTitle","DeleteTitle","BtnAcceptTitle","BtnCancelTitle","filterTitle","FilterTitle","applyFilter","ApplyFilter","detailTitle","DetailTitle","pageTitle","PageTitle","advancedSearchTitle","AdvancedSearchTitle","advancedBtnTitle","AdvancedBtnTitle","advancedBtnCancelTitle","AdvancedBtnCancelTitle","allTitle","AllTitle","TableMessage","notFoundMessage","Message","NotFoundMessage","foundMessage","FoundMessage","invalidFormatMessage","InvalidFormatMessage","selectedItemsMessage","SelectedItemsMessage","confirmSelectAllRecordsMessage","ConfirmSelectAllRecordsMessage","confirmClearAllRecordsMessage","ConfirmClearAllRecordsMessage","deleteMessage","DeleteMessage","loadingMessage","LoadingMessage","refMessage","RefMessage","TableDatetimeFormat","format","full","EdittedField","TableOption","datetimeFormat","mainColumns","actions","topButtons","defaultPageSize","totalToolbarItem","TableMode","hideSequenceColumn","hideCheckboxColumn","inlineEdit","compact","ComponentClass","Key","DatetimeLocate","PageSizes","Direction","ASC","DESC","TextAlign","Left","Right","Center","Edit","Both","Toolbar","Number","String","DateTime","DateRange","DateTimeRange","Time","TimeRange","Boolean","Description","Currency","TableComponent","thisElement","dataService","selectedItems","totalPages","maxPage","selectedAll","filterColumns","toolbarActions","inlineActions","filterSectionToggle","textSearched","showReset","changePage$","previousRequest","recursiveCounter","edittedFields","_render","changePageSubscription","searchAsync","defaultOrderBy","defautOrderDirection","componentClass","maxLenghtext","initTableTableTexts","initTableTableMessages","initMainColumns","inFullMode","allowFilter","sort","a","order","hasFilterSection","paging","pageSizes","hasToolbarActions","hasTopButtons","hasToolbarSection","hasFooterSection","hasPageSizeChooser","copy","copyItem","localData","acceptInlineEdit","closeInlineEdit","cancelInlineEdit","retrieveInlineEdit","itemIndex","findIndex","editInline","hasInlineEdit","resetFilters","getToolbarActions","standard","changePageSize","handkeKeypress","which","goto","blur","toggleFilterSection","showSorter","toggleRowDetail","sortAsync","resetSortAsync","allowSort","orderBy","selectAll","selected","clearAll","selectItem","existingItemIndex","isRowSelected","hasAnyAction","executeActionAsync","loadedCallback","isActive","checkedRow","getCurrentIndex","getDropdownDisplayText","values","dropdownConfiguration","bindLabel","join","getPages","pages","count","floor","reload","keepSelectedItems","advancedFilter","trackRecords","record","searchLocalItems","bindResultData","serviceProvider","checkedAllPageItems","check","setDefaultOrder","setFilter","retrieveAdvancedFilters","datetimeValues","convertDatetime","searchText","dt","convertedDatetime","days","getDate","months","getMonth","hours","getHours","minutes","getMinutes","year","getFullYear","localResult_1","searchFields","delay","calculatePages","currentColumn","textAlign","TableColumnType","gotoRef","max","parseInt","ElementRef","ButtonComponent","customClass","loadingIcon","handleAction","preventdefault","retrieveButtonClass","DropdownButtonComponent","DropdownButtonsComponent","ButtonModule","BsDropdownModule","DatetimePickerComponent","startView","pickerType","pickerMode","DaterangePickerComponent","selectMode","DatetimePickerModule","OWL_DATE_TIME_LOCALE","OwlDateTimeIntl","useClass","DefaultDateTimeLabels","OwlDateTimeModule","OwlNativeDateTimeModule","upSecondLabel","downSecondLabel","upMinuteLabel","downMinuteLabel","upHourLabel","downHourLabel","prevMonthLabel","nextMonthLabel","prevYearLabel","nextYearLabel","prevMultiYearLabel","nextMultiYearLabel","switchToMonthViewLabel","switchToMultiYearViewLabel","cancelBtnLabel","setBtnLabel","rangeFromLabel","rangeToLabel","hour12AMLabel","hour12PMLabel","EditorModule","CKEditorModule","TableModule","NgStringPipesModule","FullMediaComponent","videoPlayerHtml","generateHtml","videoTag","fullSrc","MediaViewerComponent","removed","videoId","thumbnailHtml","viewMedia","MediaViewerModule","ImageViewerComponent","defaultImageUrl","editable","imageRemoved","radious","selectedChange","imageSrc","removeImage","selectImage","ImageViewerModule","GalleryComponent","initTable","tableRef","headers","customTemplate","imageTemplate","nameTemplate","sizeTemplate","ViewerComponent","isLoading","images","useLibrary","componentTitle","uploadDialogTitle","uploadDialogIcon","uploadTitle","uploadIcon","openGalleryTitle","openGalleryIcon","zoomPrimaryImage","onOpenUserMediaGallery","addImage","setLoading","openUserMediaGallery","galleryItems","code","ViewerModule","ImageCropperModule","NgxDnDModule","RadioItemComponent","checked","stopPropagation","selectedCallBack","select","registerSelectedCallback","RadioComponent","ngAfterContentInit","groupIndex","y","RadioModule","TimelineComponent","TimelineModule","ChipComponent","onAdd","onRemove","ChipModule","TagInputModule","PanelHeaderDirective","PanelComponent","includeBorder","expand","PanelModule","ListItemDirective","ListComponent","eventSelect","emptyListMessage","itemSelected","isSelected","getSelectedItems","fetchMoreSubsription","ListModule","AuthComponent","_validationService","completed","initValidations","success","succeedPath","failurePath","ValidationOption","password","AuthModule","TabComponent","_changeDetectorRef","displayMode","activeTabIndex","clicked","switchTab","tabIndex","detectChanges","TabModule","DefaultLayoutService","_aggregatorService","toolbarItems","navType","themeLayout","vNavigationView","verticalPlacement","verticalLayout","deviceType","verticalNavType","verticalEffect","pcodedHeaderPosition","pcodedSidebarPosition","headerTheme","logoTheme","toggleOn","headerFixedMargin","navBarTheme","activeItemTheme","isCollapsedMobile","chatToggle","chatToggleInverse","chatInnerToggle","chatInnerToggleInverse","menuTitleTheme","itemBorder","itemBorderStyle","subItemBorder","subItemIcon","dropDownIcon","isSidebarChecked","isHeaderChecked","scrollHeight","screen","innerHeight","windowWidth","setMenuAttributes","navigationSubscription","onResize","reSizeFlag","toggleOpened","onClickedOutside","onMobileMenu","toggleChat","toggleChatInner","setSidebarPosition","setHeaderPosition","setBackgroundPattern","pattern","setLayoutType","layoutType","setNavBarTheme","theme","initToolbarItems","ToolbarAction","getToolbarItems","hasToolbarItems","showImage","AdminLayoutComponent","workspaceLayoutService","route","actionService","aggregatorService","notifications","logo","isModalShow","modalImageSrc","imageAltText","breadcrumbs","breadcrumb","altText","closeImage","changeMenu","ActivatedRoute","DefaultBreadcrumbsComponent","child","DefaultCustomizerComponent","toggleRightbar","configOpenRightBar","DefaultFooterComponent","DefaultHeaderComponent","layoutService","toggleMenu","UserViewModel","fullName","DefaultNavBarComponent","hideBreadcrumbsSection","states","retrieveCurrentItem","DefaultSidebarComponent","menuService","menuItems","collapsedItems","isSupplier","isPageLoad","currentUrl","isCollapsedSideBar","navigateTo","removeActiveStateNavigationMenu","navigationLevelArr","subMenuLevelArr","toggleGroup","srcElement","currentTarget","closest","contains","listChildrenItemInTarget","isGroupCollapsed","toggleOpenedSidebar","loadMenu","toLocaleLowerCase","naviLevelAll","DefaultToolbarComponent","errorContainer","onButtonClicked","createEmbeddedView","errorTemplate","read","FloatingToolbarComponent","widthProcess","clickHide","bottom","LayoutModule","RouterModule","ClickOutsideModule","Framework4CModule","BrowserModule","BrowserAnimationsModule","HttpClientModule"],"mappings":"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CAAC,CACR6T,aAAc,CACZm5B,GACAgB,GACAE,GACAG,GACAC,GACAK,GACAI,GACAuB,GACAM,IAEF98B,QAAS,CACP4F,EAAAA,YACAD,EAAAA,aACAw3B,EAAAA,aACA1lB,GACAkB,GACAykB,EAAAA,mBACAphB,GACAvB,GACAmS,IAEF7mB,QAAS,CACPmzB,GACAgB,GACAE,GACAG,GACAC,GACAK,GACAI,GACAuB,GACAM,QAcJI,EApEA,GCAAG,GAAA,WAmCA,SAAAA,KAyEA,OARgBA,EAAAz9B,QAAd,WACE,MAAO,CACLC,SAAUw9B,EACV/9B,UAAW,CACTtJ,0BArEP8J,EAAAA,SAAQ5T,KAAA,CAAC,CACR8T,QAAS,CACP2F,EAAAA,aACAC,EAAAA,YACAC,EAAAA,oBACAy3B,EAAAA,cACAC,EAAAA,wBACAC,EAAAA,iBACAjI,GACAxG,GACAnC,GACAjU,GACA8B,GACAnG,GACA8oB,EAAAA,mBACA3lB,GACAkB,GACAoE,GACAgB,GACAkR,GACArd,GACAie,GACAU,GACA2B,GACAa,GACAE,GACAI,GACAM,GACAS,GACApY,GAAgBC,WAChBtc,GAAiBC,UACjB6H,GAAa7H,UACbk1B,GAAWl1B,UACXwtB,GAAqBnR,WACrBihB,GAAat9B,WAEfmG,QAAS,CACP+uB,GACAS,GACA9tB,GACA2lB,GACA2B,GACAza,GACAwC,GACAW,GACAkB,GACAiU,GACAnS,GACAsC,GACAgB,GACAkR,GACArd,GACAie,GACAU,GACA2B,GACAa,GACAE,GACAI,GACAM,GACAS,IAEF90B,UAAW,OAYb+9B,EA5GA","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { ElementRef } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ValidationService } from './validation.service';\r\n\r\nexport interface IValidation {\r\n    callback(): Observable<any>;\r\n    getErrors(): Observable<SummaryError[]>;\r\n}\r\n\r\nexport class SummaryError {\r\n    element: ElementRef;\r\n    messages: string[];\r\n    constructor(init?: Partial<SummaryError>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ValidationRuleResponse {\r\n    status?: boolean;\r\n    message?: string;\r\n    constructor(init?: Partial<ValidationRuleResponse>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport abstract class ValidationRule {\r\n    key: string;\r\n    execute: (value?: any, payload?: any, rowIndex?: number) => Observable<ValidationRuleResponse>;\r\n    errorMessage: (element?: any, rowIndex?: string) => string;\r\n    id?: string;\r\n    isValid?: boolean;\r\n    required?: boolean;\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        this.errorMessage = overridenErrorMessage;\r\n    }\r\n}\r\n\r\nexport class RequiredValidationRule extends ValidationRule {\r\n    constructor(\r\n        overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Required;\r\n    }\r\n}\r\n\r\nexport class EmailValidationRule extends ValidationRule {\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Email;\r\n    }\r\n}\r\n\r\nexport class PhoneValidationRule extends ValidationRule {\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Phone;\r\n    }\r\n}\r\n\r\nexport class CustomValidationRule extends ValidationRule {\r\n    constructor(\r\n        execute: (value?: any, payload?: any, rowIndex?: number) => Observable<ValidationRuleResponse>,\r\n        overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.execute = execute;\r\n        this.key = ValidationConstant.Custom;\r\n    }\r\n}\r\n\r\nexport class ValidationOption {\r\n    validationName: string;\r\n    rules: ValidationRule[] = [];\r\n    valueResolver: (payload: any, rowIndex?: number) => any | any[];\r\n    displayText?: string;\r\n    validationId?: string;\r\n    payloadRef?: () => any;\r\n    relevantFields: (payload: any) => string[];\r\n    dynamic?: boolean;\r\n    dirtyCheck: boolean = true;\r\n    scope?: string;\r\n    errorTargetId?: string;\r\n    errorMessageClass?: string = ValidationConstant.ErrorMessageClass;\r\n    errorElementClass?: string = ValidationConstant.ErrorElementClass;\r\n    successElementClass?: string = ValidationConstant.SuccessElementClass;\r\n    constructor(init?: Partial<ValidationOption>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ClientValidator {\r\n    formRef: ElementRef;\r\n    options: ValidationOption[] = [];\r\n    payloadRef?: () => any;\r\n    scope?: string;\r\n    relatedValidationProviders?: ValidationService[] = [];\r\n    requiredMessage: string = ValidationConstant.requiredMessage;\r\n    invalidMessage: string = ValidationConstant.invalidMessage;\r\n    constructor(init?: Partial<ClientValidator>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ChangedItem {\r\n    id?: string;\r\n    oldValue?: any;\r\n    value?: any;\r\n    field?: string;\r\n    change: boolean = false;\r\n    constructor(init?: Partial<ChangedItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ValidationConstant {\r\n    public static Required: string = 'Required';\r\n    public static Email: string = 'Email';\r\n    public static Phone: string = 'Phone';\r\n    public static Custom: string = 'Custom';\r\n    public static ErrorMessage: string = 'KhÃ´ng há»£p lá» vui lÃ²ng thá»­ láº¡i.';\r\n    public static ErrorElementClass: string = 'ng-invalid';\r\n    public static SuccessElementClass: string = 'ng-valid';\r\n    public static ErrorMessageClass: string = 'text-danger';\r\n    public static DefaultErrorStyles: string = 'padding:0;list-style:none;font-weight:400;font-size:13px; width: 100%';\r\n    public static DefaultErrorClass: string = 'validation-error';\r\n    public static AttributeName: string = 'validation-name';\r\n    public static AttributeOptionName: string = 'dynamic-option';\r\n    public static AttributeDynamicName: string = 'dynamic-validation';\r\n    public static ErrorTargetId: string = 'error-target-id';\r\n    public static DynamicErrorAttribute: string = 'dynamic-error-attribute';\r\n    public static ERROR_ELEMENT_ID = 'error-element-id';\r\n    public static ERROR_ITEM_ELEMENT_ID = 'error-item-element-id';\r\n    public static VALIDATION_ID = 'validation-id';\r\n    public static ARRAY_SEQUENCE_ID = 'array-sequence-id';\r\n    public static requiredMessage: string = 'lÃ  báº¯t buá»c';\r\n    public static invalidMessage: string = 'khÃ´ng há»£p lá»';\r\n};\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class CacheService {\r\n    public set(key: string, data: any): void {\r\n        window.localStorage.setItem(key, JSON.stringify(data));\r\n    }\r\n\r\n    public get(key: string): any {\r\n        return JSON.parse(window.localStorage.getItem(key));\r\n    }\r\n\r\n    public remove(key: string): void {\r\n        window.localStorage.removeItem(key);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { SettingSearchResponse } from '../models';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SearchBaseRequest } from '../models/base.model';\r\nimport { CacheService } from './cache.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SettingService {\r\n    constructor(\r\n        protected httpClient: HttpClient,\r\n        private _cacheService: CacheService\r\n    ) { }\r\n\r\n    public search(request: SearchBaseRequest): Observable<SettingSearchResponse> {\r\n        return this.httpClient.get<SettingSearchResponse>(`v1/settings/search`, { params: request as any });\r\n    }\r\n\r\n    public useMock(value?: boolean): boolean {\r\n        if (value == true || value == false) {\r\n            this._cacheService.set('mock', value);\r\n            return value;\r\n        }\r\n        var currentValue = <boolean>this._cacheService.get('mock');\r\n        if (!currentValue) return false;\r\n        return currentValue;\r\n    }\r\n}\r\n","export enum ToolbarAction {\r\n    Save = 'Save',\r\n    Cancel = 'Cancel',\r\n    Back = 'Back',\r\n    SaveAll = 'SaveAll',\r\n    EditColumnOptions = 'EditColumnOptions',\r\n    SaveAndNew = 'SaveAndNew',\r\n    Reset = 'Reset',\r\n}\r\n\r\nexport enum ChangeType {\r\n    Update,\r\n    Add,\r\n    Delete\r\n}","import { Type, EventEmitter } from '@angular/core';\r\nimport { ChangeType } from '../enums/base.enum';\r\n\r\nexport class MockData<T> {\r\n    mockData?: any;\r\n    constructor(init?: Partial<MockData<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseRequest<T> extends MockData<T> {\r\n    payload?: T;\r\n    constructor(init?: Partial<BaseRequest<T>>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseResponse<T> {\r\n    data?: T;\r\n    success?: boolean;\r\n    code?: number;\r\n    message?: string;\r\n    constructor(init?: Partial<BaseResponse<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class SearchBaseRequest extends MockData<any> {\r\n    searchText?: string;\r\n    pageIndex?: number;\r\n    pageSize?: number;\r\n    direction?: string;\r\n    orderBy?: string;\r\n    all?: boolean;\r\n    constructor(init?: Partial<SearchBaseRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class SearchBaseResponse<T> {\r\n    items?: T[];\r\n    success?: boolean;\r\n    code?: number;\r\n    message?: string;\r\n    constructor(init?: Partial<SearchBaseResponse<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseTemplate {\r\n    data?: any;\r\n    template?: Type<any>;\r\n    constructor(init?: Partial<BaseTemplate>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class AggregatorViewModel {\r\n    value?: EventEmitter<any>;\r\n    key?: string;\r\n    currentEmitter: any;\r\n    constructor(init?: Partial<AggregatorViewModel>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class ButtonDefinition {\r\n    action: string;\r\n    title: string;\r\n    icon: string;\r\n    hide: boolean;\r\n    disabled: boolean;\r\n    lazyload: boolean;\r\n    style: 'default' | 'success' | 'warning' | 'danger' | 'link' | 'info' | 'inverse' | 'primary' | 'outline-primary' | 'outline-inverse' = 'default';\r\n    constructor(init?: Partial<ButtonDefinition>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ToolbarActionPayload {\r\n    loadedCallback: Function;\r\n    action: string;\r\n    callback: Function;\r\n    constructor(init?: Partial<ToolbarActionPayload>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ObjectChange {\r\n    propertyName: string;\r\n    oldValue: any;\r\n    newValue: any;\r\n    changeType: ChangeType;\r\n    constructor(init?: Partial<ObjectChange>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class LookupItem {\r\n    name: string;\r\n    key?: string;\r\n    constructor(init?: Partial<LookupItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ExtendedMainMenuGroup {\r\n    label: string;\r\n    children: any[];\r\n    icon: string;\r\n    constructor(init?: Partial<ExtendedMainMenuGroup>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class KeyValueItem {\r\n    key: string;\r\n    value: string;\r\n    constructor(init?: Partial<KeyValueItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class BreadCrumbItem {\r\n    label: string;\r\n    url: string;\r\n    constructor(init?: Partial<BreadCrumbItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ControlType {\r\n    static Textbox: string = 'Textbox';\r\n    static Dropdown: string = 'Dropdown';\r\n    static Button: string = 'Button';\r\n    constructor(init?: Partial<ControlType>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MenuTab {\r\n    role: string;\r\n    items: ExtendedMainMenuGroup[];\r\n    constructor(init?: Partial<MenuTab>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MenuItem {\r\n    menu: string;\r\n    items: ExtendedMainMenuGroup[];\r\n    subName: string;\r\n    name?: string;\r\n    constructor(init?: Partial<MenuItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class Breadcrumb {\r\n    label: string;\r\n    url: string;\r\n    state?: string;\r\n    constructor(init?: Partial<Breadcrumb>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MediaItem {\r\n    src: string;\r\n    name: string;\r\n    fullSrc: string;\r\n    constructor(init?: Partial<MediaItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class Audit {\r\n    createdDate?: Date;\r\n    createdBy?: string;\r\n    lastModifiedDate?: Date;\r\n    lastModifiedBy?: string;\r\n    constructor(init?: Partial<Audit>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class TrackingGroup {\r\n    date: Date;\r\n    details: TrackingDetail[];\r\n    constructor(init?: Partial<TrackingGroup>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class TrackingDetail {\r\n    description: string;\r\n    time: Date;\r\n    constructor(init?: Partial<TrackingDetail>) {\r\n        Object.assign(this, init);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { ChangeType } from '../enums/base.enum';\r\nimport { ObjectChange } from '../models/base.model';\r\nimport * as _ from 'lodash';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DataService {\r\n    constructor(\r\n        private _sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    public cloneItem(item: any): any {\r\n        if (!item) return null;\r\n        const response: any = {};\r\n        const fields = Object.keys(item);\r\n        if (fields) {\r\n            fields.forEach((field) => {\r\n                response[field] = item[field];\r\n            });\r\n        }\r\n        return response;\r\n    }\r\n\r\n    public cloneItems(items: any[], id: boolean = true): any {\r\n        if (!items || items.length == 0) return null;\r\n        const response: any[] = [];\r\n        items.forEach((item) => {\r\n            var newItem = this.cloneItem(item);\r\n            if (id) newItem.id = this.newGuid();\r\n            response.push(newItem);\r\n        });\r\n        return response;\r\n    }\r\n\r\n    public transformToSafeHtml(input: string): SafeHtml {\r\n        return this._sanitizer.bypassSecurityTrustHtml(input);\r\n    }\r\n\r\n    public initDebounceTime(time: number = 500): Subject<any> {\r\n        const delegator: Subject<any> = new Subject();\r\n        delegator.pipe(debounceTime(time)).subscribe((action) => {\r\n            if (action) {\r\n                action();\r\n            }\r\n        });\r\n        return delegator;\r\n    }\r\n\r\n    public removeHTML(str: string): string {\r\n        if (!str) return str;\r\n        return str.replace(/<\\/?[^>]+>/gi, '').replace(/&nbsp;/g, '');\r\n    }\r\n\r\n    public removeAllSpaces(str?: string): string {\r\n        if (!str) return '';\r\n        return str.replace(/\\s/g, '');\r\n    }\r\n\r\n    public replaceAt(s: string, n: number, t: string) {\r\n        return s.substring(0, n) + t + s.substring(n + 1);\r\n    }\r\n\r\n    public isValidEmail(email: string): boolean {\r\n        if (!email) return true;\r\n        const regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n        return regex.test(email);\r\n    }\r\n\r\n    public convertUCode(c: string): string {\r\n        if ('aÃ£áº¡Ã Ã¡áº£ÄÄáºµáº·áº±áº³Ã¢áº«áº­áº§áº¥áº©'.indexOf(c) > -1) return 'a';\r\n        if ('dÄ'.indexOf(c) > -1) return 'd';\r\n        if ('oÃµá»Ã²Ã³á»Ã´á»á»á»á»Æ¡á»¡á»£á»á»á»'.indexOf(c) > -1) return 'o';\r\n        if ('uÅ©á»¥Ã¹Ãºá»§Æ°á»¯á»±á»«á»©á»­Æ°á»¯á»±á»«á»©á»­'.indexOf(c) > -1) return 'u';\r\n        if ('iÄ©á»Ã¬Ã­á»'.indexOf(c) > -1) return 'i';\r\n        if ('yá»¹á»µá»³Ã½á»·'.indexOf(c) > -1) return 'y';\r\n        if ('eáº½áº¹Ã¨Ã©áº½Ãªá»á»á»Ãªá»'.indexOf(c) > -1) return 'e';\r\n        return c;\r\n    }\r\n\r\n    public fuzzysearch(needle: string, haystack: string): boolean {\r\n        const haystackLC = this.removeAllSpaces(haystack.toLowerCase());\r\n        const needleLC = this.removeAllSpaces(needle.toLowerCase());\r\n        const hlen = haystack.length;\r\n        const nlen = needleLC.length;\r\n        if (nlen > hlen) {\r\n            return false;\r\n        }\r\n        if (nlen === hlen) {\r\n            return needleLC === haystackLC;\r\n        }\r\n        outer: for (let i = 0, j = 0; i < nlen; i++) {\r\n            const nch = this.convertUCode(needleLC[i]);\r\n            while (j < hlen) {\r\n                if (this.convertUCode(haystackLC[j++]) === nch) {\r\n                    continue outer;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public newGuid(): string {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    public isNullOrEmpty(obj: any): boolean {\r\n        return obj == null || obj === undefined || obj == '';\r\n    }\r\n\r\n    public toPascalCase(text: string, lowerCase?: boolean): string {\r\n        if (!text) return '';\r\n        if (!lowerCase) {\r\n            return text[0].toString().toUpperCase() + text.substring(1, text.length);\r\n        } else {\r\n            return text[0].toString().toLowerCase() + text.substring(1, text.length);\r\n        }\r\n    }\r\n\r\n    public compareObjects(source: any, target: any): ObjectChange[] {\r\n        let changes: ObjectChange[] = [];\r\n        const sourceProperties = Object.getOwnPropertyNames(source);\r\n        const targetProperties = Object.getOwnPropertyNames(target);\r\n\r\n        const addedProperties = targetProperties.filter(x => sourceProperties.indexOf(x) < 0);\r\n        const removedProperties = sourceProperties.filter(x => targetProperties.indexOf(x) < 0);\r\n        const modifiedProperties = sourceProperties.filter(x => removedProperties.indexOf(x) < 0);\r\n\r\n        for (let property of modifiedProperties) {\r\n            if (!_.isEqual(source[property], target[property])) {\r\n                changes.push(new ObjectChange({\r\n                    propertyName: property,\r\n                    changeType: ChangeType.Update,\r\n                    oldValue: source[property],\r\n                    newValue: target[property]\r\n                }));\r\n            }\r\n        }\r\n\r\n        changes.push(...addedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Add,\r\n            oldValue: target[x],\r\n            newValue: target[x]\r\n        })));\r\n\r\n        changes.push(...removedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Delete,\r\n            oldValue: source[x],\r\n            newValue: source[x]\r\n        })));\r\n        return changes;\r\n    }\r\n\r\n    public getField(valueRef: string, lowerCase?: boolean): string {\r\n        if (!valueRef) return '';\r\n        if (!lowerCase) {\r\n            return valueRef[0].toString().toUpperCase() + valueRef.substring(1, valueRef.length);\r\n        } else {\r\n            return valueRef[0].toString().toLowerCase() + valueRef.substring(1, valueRef.length);\r\n        }\r\n    }\r\n\r\n    public isNumber(input: string): boolean {\r\n        var regex = /^[+-]?\\d+(\\.\\d+)?([eE][+-]?\\d+)?$/;\r\n        return regex.test(input);\r\n    }\r\n\r\n    public isDigit(input: string): boolean {\r\n        return /^[0-9]$/.test(input);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { SettingService } from './setting.service';\r\nimport { Breadcrumb, MenuTab } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ActionService {\r\n    constructor(\r\n        private _settingService: SettingService\r\n    ) { }\r\n\r\n    public executeAsync(callback: () => any, timeout: number = 50): void {\r\n        setTimeout(() => {\r\n            if (callback) callback();\r\n        }, timeout);\r\n    }\r\n\r\n    public scrollTop(): void {\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        const userAgent = navigator.userAgent;\r\n        return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(userAgent));\r\n    }\r\n\r\n    public verify<T>(callback: Observable<T>): Observable<T> {\r\n        var mock = this._settingService.useMock();\r\n        if (mock) return of({} as T);\r\n        return callback;\r\n    }\r\n\r\n    public changeItem(item: any, menuTabs: MenuTab[], callback?: (breadCrumbs: Breadcrumb[]) => any): Breadcrumb[] {\r\n        var items: Breadcrumb[] = [];\r\n        var parent = <Breadcrumb>this.retrieveParent(item.state, menuTabs);\r\n        if (parent != null) {\r\n            items.push(parent);\r\n        }\r\n        if (!items.find(s => s.label == item.name)) {\r\n            items.push(new Breadcrumb({\r\n                label: item.name,\r\n                url: item.mainState ? `/${item.mainState}/${item.state}` : `${item.state}`\r\n            }));\r\n        }\r\n        if (callback) callback(items);\r\n        return items;\r\n    }\r\n\r\n    public retrieveParent(state: string, menuTabs: MenuTab[]): Breadcrumb {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].state == state) return new Breadcrumb({\r\n                        label: items[j].label,\r\n                        state: children[k].mainState,\r\n                        url: children[k].mainState ? `/${children[k].mainState}/${children[0].state}` : `${children[0].state}`\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public retrieveChild(state: string, menuTabs: MenuTab[]): Breadcrumb {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].mainState == state) {\r\n                        return new Breadcrumb({\r\n                            state: children[k].mainState,\r\n                            label: children[k].name,\r\n                            url: `/${children[k].mainState}/${children[0].state}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public retrieveStateName(state: string, menuTabs: MenuTab[]): string {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].state == state) return children[k].name;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { AggregatorViewModel } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AggregatorService {\r\n    protected emitters: AggregatorViewModel[] = [];\r\n\r\n    public publish<T>(key: string, value?: T): void {\r\n        if (!key) return;\r\n        let currentEmitter = <AggregatorViewModel>this.emitters.find(s => s.key == key);\r\n        if (!currentEmitter) {\r\n            currentEmitter = new AggregatorViewModel({\r\n                value: this.register(key)\r\n            });\r\n        }\r\n        currentEmitter.value.emit(value);\r\n    }\r\n\r\n    public subscribe<T>(key: string, callback: (response: T) => void): void {\r\n        if (!key) return;\r\n        let currentEmitter = <AggregatorViewModel>this.emitters.find(s => s.key == key);\r\n        if (!currentEmitter) {\r\n            currentEmitter = new AggregatorViewModel({\r\n                value: this.register(key)\r\n            });\r\n        }\r\n\r\n        currentEmitter.value.subscribe((response: T) => {\r\n            callback(response);\r\n        });\r\n    }\r\n\r\n    private register(key: string): EventEmitter<any> {\r\n        var emitter = new AggregatorViewModel({\r\n            key: key,\r\n            value: new EventEmitter<any>()\r\n        });\r\n        this.emitters.push(emitter);\r\n        return emitter.value;\r\n    }\r\n}\r\n","import { Observable, of } from 'rxjs';\r\n\r\nexport class MockService {\r\n    public verify<T>(callback: Observable<T>, response?: T): Observable<T> {\r\n        var mock = this.useMock();\r\n        if (mock) return of(response ? response : {} as T);\r\n        return callback;\r\n    }\r\n\r\n    private useMock(): boolean {\r\n        var currentValue = JSON.parse(window.localStorage.getItem('mock'));\r\n        if (!currentValue) return false;\r\n        return currentValue;\r\n    }\r\n}","import { Injectable, OnInit } from \"@angular/core\";\r\nimport { MenuKey } from '../constants/menu.const';\r\nimport { MenuTab, ExtendedMainMenuGroup, MenuItem } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MenuService {\r\n    public tabs: { name: string, menu: string, subName: string, items: ExtendedMainMenuGroup[] }[] = [];\r\n    public currentSupporterId: string;\r\n    public currentSelectedSupplierName: string;\r\n    public currentSelectedSupplierId: string;\r\n\r\n    public init(menuTabs: MenuTab[], callback: () => any, set: (role: string) => MenuItem): void {\r\n        let menuTabbedItems = menuTabs;\r\n        this.tabs = menuTabbedItems.reduce((result, current) => {\r\n            let item = set\r\n                ? set(current.role)\r\n                : new MenuItem({\r\n                    menu: current.role,\r\n                    items: current.items,\r\n                    subName: current.role,\r\n                    name: current.role\r\n                });\r\n            if (item.name) {\r\n                result.push(item);\r\n            }\r\n            return result;\r\n        }, []);\r\n        if (!this.tabs || !this.tabs[0]) {\r\n            this.tabs = [];\r\n        }\r\n        if (callback) callback();\r\n    }\r\n\r\n    public loadMenuItems(menu?: string) {\r\n        if (!menu) {\r\n            return this.tabs.reduce((result, current) => {\r\n                result.push(...current.items);\r\n                return result;\r\n            }, []);\r\n        }\r\n        const tab = this.tabs.find(x => x.menu === menu);\r\n        if (!tab) {\r\n            return;\r\n        }\r\n        return tab.items;\r\n    }\r\n\r\n    public loadFirstTabItems(key: string) {\r\n        let currentMenu = this.tabs.find(s => s.menu.toLowerCase() == key.toLowerCase());\r\n        if (!currentMenu) {\r\n            return [];\r\n        }\r\n        return currentMenu.items;\r\n    }\r\n\r\n    public loadFirstTab() {\r\n        return this.tabs[0];\r\n    }\r\n\r\n    public getTabs() {\r\n        return this.tabs;\r\n    }\r\n}","import * as _ from 'lodash';\r\nimport { Injectable } from '@angular/core';\r\nimport { ObjectChange } from '../models/base.model';\r\nimport { ChangeType } from '../enums/base.enum';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UtilityService {\r\n    public getField(valueRef: string, lowerCase?: boolean): string {\r\n        if (!valueRef) {\r\n            return '';\r\n        }\r\n        if (!lowerCase) {\r\n            return valueRef[0].toString().toUpperCase() + valueRef.substring(1, valueRef.length);\r\n        } else {\r\n            return valueRef[0].toString().toLowerCase() + valueRef.substring(1, valueRef.length);\r\n        }\r\n    }\r\n\r\n    public toPascalCase(text: string, lowerCase?: boolean): string {\r\n        if (!text) {\r\n            return '';\r\n        }\r\n        if (!lowerCase) {\r\n            return text[0].toString().toUpperCase() + text.substring(1, text.length);\r\n        } else {\r\n            return text[0].toString().toLowerCase() + text.substring(1, text.length);\r\n        }\r\n    }\r\n\r\n    public compareObjects(source: any, target: any): ObjectChange[] {\r\n        let changes: ObjectChange[] = [];\r\n        const sourceProperties = Object.getOwnPropertyNames(source);\r\n        const targetProperties = Object.getOwnPropertyNames(target);\r\n        const addedProperties = targetProperties.filter(x => sourceProperties.indexOf(x) < 0);\r\n        const removedProperties = sourceProperties.filter(x => targetProperties.indexOf(x) < 0);\r\n        const modifiedProperties = sourceProperties.filter(x => removedProperties.indexOf(x) < 0);\r\n\r\n        for (let property of modifiedProperties) {\r\n            if (!_.isEqual(source[property], target[property])) {\r\n                changes.push(new ObjectChange({\r\n                    propertyName: property,\r\n                    changeType: ChangeType.Update,\r\n                    oldValue: source[property],\r\n                    newValue: target[property]\r\n                }));\r\n            }\r\n        }\r\n\r\n        changes.push(...addedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Add,\r\n            oldValue: target[x],\r\n            newValue: target[x]\r\n        })));\r\n\r\n        changes.push(...removedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Delete,\r\n            oldValue: source[x],\r\n            newValue: source[x]\r\n        })));\r\n        \r\n        return changes;\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  SendNotificationRequest,\r\n  SendNotificationResponse,\r\n  RetrieveNotificationThreadRequest,\r\n  RetrieveNotificationThreadResponse,\r\n  SearchInboxNotificationsRequest,\r\n  SearchInboxNotificationsResponse,\r\n  RemoveNotificationDetailRequest,\r\n  RemoveNotificationDetailResponse,\r\n  RetrieveNotificationDetailRequest,\r\n  RetrieveNotificationDetailResponse,\r\n  MarkAllNotificationsReadRequest,\r\n  MarkAllNotificationsReadResponse,\r\n  NotificationDetail\r\n} from '../models/notification.model';\r\n\r\n@Injectable()\r\nexport abstract class BaseNotificationService {\r\n  public abstract success(message: string, title?: string): void;\r\n  public abstract error(message: string, title?: string): void;\r\n  public abstract info(message: string, title?: string): void;\r\n  public abstract warning(message: string, title?: string): void;\r\n  public abstract send(request: SendNotificationRequest): Observable<SendNotificationResponse>;\r\n  public abstract retrieveNotificationThread(request: RetrieveNotificationThreadRequest): Observable<RetrieveNotificationThreadResponse>;\r\n  public abstract searchNotificationDetails(request: SearchInboxNotificationsRequest): Observable<SearchInboxNotificationsResponse>;\r\n  public abstract removeNotificationDetail(request: RemoveNotificationDetailRequest): Observable<RemoveNotificationDetailResponse>;\r\n  public abstract retrieveNotificationDetail(request: RetrieveNotificationDetailRequest): Observable<RetrieveNotificationDetailResponse>;\r\n  public abstract markAllRead(request: MarkAllNotificationsReadRequest): Observable<MarkAllNotificationsReadResponse>;\r\n  public abstract registerConnection();\r\n  public abstract redirect(detail: NotificationDetail): void;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ValidationProvider {\r\n  constructor() { }\r\n\r\n  public required: (value: any) => Observable<boolean> = (value: any) => {\r\n    return of(this.isRequired(value));\r\n  }\r\n\r\n  public email: (email: string) => Observable<boolean> = (email: string) => {\r\n    if (!email) return of(true);\r\n    return of(this.isValidEmail(email));\r\n  }\r\n\r\n  public phone: (phone: string) => Observable<boolean> = (phone: string) => {\r\n    if (!phone) return of(true);\r\n    return of(this.isValidPhone(phone));\r\n  }\r\n\r\n  private isRequired(value: any): boolean {\r\n    if (typeof (value) === 'string') {\r\n      const trimmedValue = <string>value.trim();\r\n      return trimmedValue != '' && trimmedValue != undefined && trimmedValue != null;\r\n    }\r\n    if (Array.isArray(value)) {\r\n      return value.length > 0;\r\n    }\r\n    if (value) return true;\r\n    return false;\r\n  }\r\n\r\n  private isValidEmail(email: string): boolean {\r\n    if (!email) return true;\r\n    var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n    return regex.test(email);\r\n  }\r\n\r\n  private isValidPhone(phone: string): boolean {\r\n    if (!phone) return true;\r\n    return phone.length === 10;\r\n  }\r\n}","import { Renderer2, Injectable, RendererFactory2, EventEmitter, Output } from '@angular/core';\r\nimport { ValidationOption, ClientValidator, ValidationConstant, SummaryError, ValidationRule, ChangedItem } from './validation.model';\r\nimport { Subscription, Observable, forkJoin, merge, of } from 'rxjs';\r\nimport { map, defaultIfEmpty, take } from 'rxjs/operators';\r\nimport { DataService, ActionService } from '../services';\r\nimport { ValidationProvider } from './validation.provider';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ValidationService {\r\n    @Output() public onDestroy: EventEmitter<void> = new EventEmitter();\r\n    private elements: Element[] = [];\r\n    private validator: ClientValidator;\r\n    private errClass: string = ValidationConstant.DefaultErrorClass;\r\n    private styles: string = ValidationConstant.DefaultErrorStyles;\r\n    private attributeName: string = ValidationConstant.AttributeName;\r\n    private renderer: Renderer2;\r\n    private relatedProviders: ValidationService[] = [];\r\n    private subscriptions: Subscription = new Subscription();\r\n    private virtualValidationOptions: ValidationOption[] = [];\r\n    private changedItems: ChangedItem[] = [];\r\n\r\n    constructor(\r\n        protected rendererFactory: RendererFactory2,\r\n        protected validationProvider: ValidationProvider,\r\n        private _dataService: DataService,\r\n        private _actionService: ActionService\r\n    ) {\r\n        this.renderer = rendererFactory.createRenderer(null, null);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscriptions.unsubscribe();\r\n        this.onDestroy.emit();\r\n    }\r\n\r\n    public init(model: { validator: ClientValidator }): void {\r\n        this.validator = model.validator;\r\n        if (!this.validator.payloadRef) this.validator.payloadRef = () => { return {} };\r\n\r\n        if (this.validator.relatedValidationProviders) {\r\n            this.addRelatedProviders(this.validator.relatedValidationProviders);\r\n        }\r\n\r\n        this.validator.options.forEach(option => {\r\n            if (!option.displayText) option.displayText = option.validationName;\r\n            if (!option.payloadRef) option.payloadRef = this.validator.payloadRef;\r\n            option.rules.forEach(action => {\r\n                if (!action.id) action.id = this._dataService.newGuid();\r\n                if (!action.errorMessage) {\r\n                    switch (action.key) {\r\n                        case ValidationConstant.Required: {\r\n                            action.errorMessage = (element: Element, rowIndex: string) => {\r\n                                const displayingRowIndex = (+rowIndex + 1).toString();\r\n                                return `${option.displayText}${option.dynamic ? ' [' + displayingRowIndex + ']' : ''} ${this.validator.requiredMessage}`;\r\n                            };\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            action.errorMessage = () => `${option.displayText} ${this.validator.invalidMessage}`;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        this.virtualValidationOptions = this.validator.options.filter(x => x.dynamic);\r\n        this.updateAsync();\r\n    }\r\n\r\n    public updateAsync(relatedProvidersToRegister?: ValidationService[]): void {\r\n        this._actionService.executeAsync(() => {\r\n            if (relatedProvidersToRegister && relatedProvidersToRegister.length) {\r\n                this.addRelatedProviders(relatedProvidersToRegister);\r\n            }\r\n            this.registerElements();\r\n            this.registerEvents();\r\n        });\r\n    }\r\n\r\n    public executeAsync(validCallback: (errors?: SummaryError[]) => any, invalidCallback?: (errors?: SummaryError[]) => any): Observable<boolean> {\r\n        this.retrieveSummaryErrors().subscribe((response) => {\r\n            if (!response || response.length == 0) {\r\n                if (validCallback) validCallback(response);\r\n                return of(true);\r\n            } else {\r\n                if (invalidCallback) invalidCallback(response);\r\n            }\r\n        });\r\n        return of(true);\r\n    }\r\n\r\n    public isValid(show: boolean = true, focus: boolean = true): boolean {\r\n        if (show) {\r\n            this.retrieveSummaryErrors().subscribe((errors: SummaryError[]) => {\r\n                if (focus) {\r\n                    if (errors && errors.length > 0) {\r\n                        var focusElement = errors[0];\r\n                        var el = <any>focusElement.element;\r\n                        if (el) {\r\n                            this._actionService.executeAsync(() => {\r\n                                el.focus();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        let valid = true;\r\n        if (this.validator.options) {\r\n            this.validator.options.forEach((option) => {\r\n                if (option.rules) {\r\n                    option.rules.forEach((action) => {\r\n                        if (!action.isValid) {\r\n                            valid = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    public handleErrors(callback?: (response: SummaryError[]) => void): void {\r\n        this.retrieveSummaryErrors().subscribe((res) => {\r\n            if (callback) callback(res);\r\n        });\r\n    }\r\n\r\n    public commit(callback?: Function): Observable<boolean> {\r\n        return this.retrieveSummaryErrors().pipe(\r\n            map(errors => {\r\n                if (callback) callback(errors);\r\n                if (errors.length == 0) return true;\r\n                return false;\r\n            }), take(1));\r\n    }\r\n\r\n    public setElementError(element: Element, action: ValidationRule, option: ValidationOption): string {\r\n        if (!element) return;\r\n        this.renderer.removeClass(element, ValidationConstant.SuccessElementClass);\r\n        this.renderer.addClass(element, option.errorElementClass);\r\n        let errorElement = this.findErrorElement(element);\r\n        if (!errorElement) {\r\n            errorElement = this.renderer.createElement('ul');\r\n            this.renderer.setAttribute(errorElement, ValidationConstant.ERROR_ELEMENT_ID, `${this._dataService.newGuid()}`);\r\n            this.renderer.setAttribute(errorElement, 'style', this.styles);\r\n            this.renderer.addClass(errorElement, this.errClass);\r\n            this.renderer.addClass(errorElement, option.errorMessageClass);\r\n            const parentElement = this.renderer.parentNode(element);\r\n            this.renderer.appendChild(parentElement, errorElement);\r\n        }\r\n\r\n        const errorItemElementKey: string = `${action.id}`;\r\n        let errorItemElement = this.findErrorItemElement(errorElement, errorItemElementKey);\r\n        const dynamicSequenceId = this.findDynamicSequenceId(element);\r\n        const errorMessage = action.errorMessage(element, dynamicSequenceId);\r\n\r\n        if (!errorItemElement) {\r\n            errorItemElement = this.renderer.createElement('li');\r\n            this.renderer.setAttribute(errorItemElement, ValidationConstant.ERROR_ITEM_ELEMENT_ID, errorItemElementKey);\r\n            this.renderer.appendChild(errorItemElement, this.renderer.createText(errorMessage));\r\n\r\n            this.renderer.appendChild(errorElement, errorItemElement);\r\n        }\r\n        return errorMessage;\r\n    }\r\n\r\n    public clearErrorItemElement(element: any, action: ValidationRule) {\r\n        let errorElement = this.findErrorElement(element);\r\n        if (!errorElement) return;\r\n\r\n        const errorItemElementKey: string = `${action.id}`;\r\n        let errorItemElement = this.findErrorItemElement(errorElement, errorItemElementKey);\r\n        if (!errorItemElement) return;\r\n        this.renderer.removeChild(errorElement, errorItemElement);\r\n    }\r\n\r\n    public isDirty(callback?: (items: ChangedItem[]) => void): boolean {\r\n        if (!this.changedItems || this.changedItems.length == 0) return false;\r\n        var response = this.changedItems.filter(s => s.change);\r\n        if (callback) callback(response);\r\n        return response.length > 0;\r\n    }\r\n\r\n    public validateElement(element: any, option: ValidationOption): Observable<ValidationOption> {\r\n        const payload = this.validator.payloadRef();\r\n        const fieldValue = option.valueResolver ? option.valueResolver(payload) : null;\r\n        const validatedActions$ = option.rules.map(action => {\r\n            switch (action.key) {\r\n                case ValidationConstant.Required: {\r\n                    return this.validationProvider.required(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Email: {\r\n                    return this.validationProvider.email(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Phone: {\r\n                    return this.validationProvider.phone(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Custom: {\r\n                    if (!action.execute) throw new Error('!action.execute');\r\n                    if (!fieldValue) {\r\n                        action.isValid = true;\r\n                        return of(action);\r\n                    } else {\r\n                        var requiredRule = option.rules.find(s => s.key == ValidationConstant.Required);\r\n                        if (requiredRule) {\r\n                            requiredRule.isValid = true;\r\n                        }\r\n                    }\r\n                    const sequenceId = this.findDynamicSequenceId(element);\r\n                    return action.execute(fieldValue, payload, +sequenceId)\r\n                        .pipe(map(response => {\r\n                            if (response) {\r\n                                action.isValid = response.status;\r\n                                if (response.message) action.errorMessage = () => { return response.message; };\r\n                            }\r\n                            return action;\r\n                        }));\r\n                }\r\n                default: throw new Error(`Unhandled action: ${action.key}`);\r\n            }\r\n        });\r\n\r\n        return forkJoin(validatedActions$).pipe(\r\n            take(1),\r\n            map(validatedActions => {\r\n                if (option.relevantFields) this.validateRelevantFields(option.relevantFields(payload));\r\n                option.rules = validatedActions;\r\n                return option;\r\n            }),\r\n        );\r\n    }\r\n\r\n    private validateRelevantFields(relevantFields?: string[]): void {\r\n        if (!relevantFields || relevantFields.length == 0) return;\r\n        if (relevantFields && relevantFields.length > 0) {\r\n            relevantFields.forEach(item => {\r\n                for (let i = 0; i < this.elements.length; i++) {\r\n                    var attributes = this.elements[i].attributes;\r\n                    if (attributes && attributes.length > 0) {\r\n                        if (attributes[this.attributeName].value == item) {\r\n                            var option = this.findElementOption(this.elements[i]);\r\n                            if (option) {\r\n                                this.validateElement(this.elements[i], option).pipe(\r\n                                    map(newOption => option = newOption),\r\n                                    map(option => this.syncErrorMessages(this.elements[i], option)),\r\n                                ).subscribe();\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private retrieveSummaryErrors(): Observable<SummaryError[]> {\r\n        const errors$ = this.elements.map(element => {\r\n            let validationOption = this.findElementOption(element);\r\n            if (!validationOption) return;\r\n\r\n            return this.validateElement(element, validationOption).pipe(\r\n                map(newOption => validationOption = newOption),\r\n                map(option => this.syncErrorMessages(element, option)),\r\n            );\r\n        });\r\n\r\n        const errorBatch = forkJoin(errors$);\r\n        const relatedErrors = <Observable<SummaryError[]>>this.relatedProviders.reduce((previous: Observable<SummaryError[]>, provider: ValidationService) => {\r\n            const subErrors$ = provider.retrieveSummaryErrors();\r\n            return merge(previous, subErrors$);\r\n        }, of([]));\r\n\r\n        return forkJoin(errorBatch, relatedErrors).pipe(\r\n            defaultIfEmpty([[], []]),\r\n            map(value => [...value[0], ...value[1]]),\r\n            map(result => [].concat(result.filter(error => error))),\r\n        );\r\n    }\r\n\r\n    private findElementOption(element: Element): ValidationOption | null {\r\n        const validationIdAttribute = element.attributes[ValidationConstant.VALIDATION_ID];\r\n        if (!validationIdAttribute) return null;\r\n\r\n        const validationId = validationIdAttribute.value;\r\n        if (!validationId) return null;\r\n        return this.validator.options.find(option => option.validationId === validationId);\r\n    }\r\n\r\n    private findErrorItemElement(errorElement: any, key: string): any | null {\r\n        const children = <Element[]>Array.from(errorElement.children);\r\n        return children\r\n            .filter(x => x.attributes[ValidationConstant.ERROR_ITEM_ELEMENT_ID])\r\n            .find(x => x.attributes[ValidationConstant.ERROR_ITEM_ELEMENT_ID].value === key);\r\n    }\r\n\r\n    private findDynamicSequenceId(element: Element): string | null {\r\n        const sequenceIdAttribute = element.attributes[ValidationConstant.ARRAY_SEQUENCE_ID];\r\n        if (!sequenceIdAttribute) return null;\r\n\r\n        const sequenceId = sequenceIdAttribute.value;\r\n        if (!sequenceId) return null;\r\n        return sequenceId;\r\n    }\r\n\r\n    private findErrorElement(element: Element): Element {\r\n        if (element.parentElement && element.parentElement.children) {\r\n            const slibings = <Element[]>Array.from(element.parentElement.children);\r\n            let result = slibings.filter(x => x.attributes).find(x => x.attributes[ValidationConstant.ERROR_ELEMENT_ID]);\r\n            return result;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private registerElements(): void {\r\n        const nonDynamicOptions = this.validator.options.filter(x => !x.dynamic);\r\n        const nonDynamicElements = nonDynamicOptions.reduce((previous: Element[], current: ValidationOption) => {\r\n            let query = `*[${this.attributeName}=\"${current.validationName}\"]`;\r\n            if (this.validator.scope) {\r\n                query += `[scope=\"${this.validator.scope}\"]`;\r\n            }\r\n            const elements = <Element[]>Array.from(this.validator.formRef.nativeElement.querySelectorAll(query));\r\n            elements.forEach(element => {\r\n                const validationId = this._dataService.newGuid();\r\n                this.renderer.setAttribute(element, ValidationConstant.VALIDATION_ID, validationId);\r\n                current.validationId = validationId;\r\n            });\r\n            return previous.concat(elements);\r\n        }, []);\r\n\r\n        let generatedDynamicOptions = [];\r\n        let dynamicElements = [];\r\n        this.validator.options = this.validator.options.filter(x => !x.dynamic);\r\n        this.virtualValidationOptions.forEach((current: ValidationOption) => {\r\n            let query = `*[${this.attributeName}=\"${current.validationName}\"]`;\r\n            if (this.validator.scope) {\r\n                query += `[scope=\"${this.validator.scope}\"]`;\r\n            }\r\n            const elements = Array.from(this.validator.formRef.nativeElement.querySelectorAll(query));\r\n            const clonedOptions = elements.map((element, index) => {\r\n                const validationId = this._dataService.newGuid();\r\n                this.renderer.setAttribute(element, ValidationConstant.VALIDATION_ID, validationId);\r\n                this.renderer.setAttribute(element, ValidationConstant.ARRAY_SEQUENCE_ID, index.toString());\r\n                return {\r\n                    ...current,\r\n                    validationId: validationId,\r\n                    valueResolver: current.valueResolver\r\n                        ? (payload: any) => current.valueResolver(payload, index)\r\n                        : () => { return (<any>element).value; }\r\n                };\r\n            });\r\n            dynamicElements.push(...elements);\r\n            generatedDynamicOptions.push(...clonedOptions);\r\n        });\r\n\r\n        this.validator.options = nonDynamicOptions.concat(generatedDynamicOptions);\r\n        this.elements = nonDynamicElements.concat(dynamicElements);\r\n\r\n        if (this.elements) {\r\n            this.changedItems = [];\r\n            this.elements.forEach((element) => {\r\n                const payload = this.validator.payloadRef();\r\n                let elementOption = this.findElementOption(element);\r\n                this.changedItems.push(new ChangedItem({\r\n                    id: elementOption.validationId,\r\n                    field: elementOption.validationName,\r\n                    oldValue: elementOption.valueResolver ? elementOption.valueResolver(payload) : null\r\n                }));\r\n            });\r\n        }\r\n    }\r\n\r\n    private registerEvents(): void {\r\n        this.elements.filter(element => element.attributes[this.attributeName]).forEach((element: any) => {\r\n            if (!element.focusoutListener) {\r\n                element.focusoutListener = this.renderer.listen(element, 'focusout', () => {\r\n                    this.handleBlurEvent(element);\r\n                });\r\n                element.focusoutListener = this.renderer.listen(element, 'change', ($event) => {\r\n                    const payload = this.validator.payloadRef();\r\n                    let elementOption = this.findElementOption(element);\r\n                    var value = elementOption.valueResolver ? elementOption.valueResolver(payload) : null;\r\n                    if (elementOption && elementOption.dirtyCheck) {\r\n                        var currentItem = this.changedItems.find(s => s.id == elementOption.validationId);\r\n                        if (!currentItem) {\r\n                            this.changedItems.push(new ChangedItem({\r\n                                id: elementOption.validationId,\r\n                                field: elementOption.validationName,\r\n                                value: value,\r\n                                change: true\r\n                            }));\r\n                        } else {\r\n                            currentItem.value = value;\r\n                            if (currentItem.oldValue == undefined || currentItem.oldValue == '') {\r\n                                if (value == undefined || value == '') {\r\n                                    currentItem.change = false;\r\n                                } else {\r\n                                    currentItem.change = true;\r\n                                }\r\n                            } else {\r\n                                if (value == undefined || value == '') {\r\n                                    currentItem.change = true;\r\n                                } else {\r\n                                    if (currentItem.oldValue.toString() != currentItem.value.toString()) {\r\n                                        currentItem.change = true;\r\n\r\n                                    } else {\r\n                                        currentItem.change = false;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private handleBlurEvent(element: any): void {\r\n        let elementOption = this.findElementOption(element);\r\n        if (!elementOption) throw new Error('!elementOption');\r\n\r\n        this.validateElement(element, elementOption).pipe(take(1)).subscribe(newOption => {\r\n            elementOption = newOption;\r\n            this.syncErrorMessages(element, elementOption);\r\n        });\r\n    }\r\n\r\n    private syncErrorMessages(element: any, option: ValidationOption): SummaryError | null {\r\n        let errorMessages: string[] = [];\r\n        option.rules.forEach(action => {\r\n            if (action.isValid) {\r\n                this.clearErrorItemElement(element, action);\r\n            } else {\r\n                const errorMessage = this.setElementError(element, action, option);\r\n                errorMessages.push(errorMessage);\r\n            }\r\n        });\r\n\r\n        const invalidActions = option.rules.filter(x => !x.isValid);\r\n        if (invalidActions.length === 0) {\r\n            this.renderer.removeClass(element, option.errorElementClass);\r\n            this.renderer.removeClass(element, option.successElementClass);\r\n            return null;\r\n        }\r\n\r\n        return {\r\n            element: element,\r\n            messages: errorMessages\r\n        }\r\n    }\r\n\r\n    private addRelatedProviders(providers: ValidationService[]): void {\r\n        let newProviders = providers.filter(x => this.relatedProviders.indexOf(x) < 0);\r\n        newProviders.forEach(provider =>\r\n            provider.onDestroy.subscribe(() => {\r\n                this.relatedProviders = this.relatedProviders.filter(() => this.relatedProviders.indexOf(provider) < 0);\r\n            }));\r\n        this.relatedProviders.push(...newProviders);\r\n    }\r\n}","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { ValidationService } from './validation.service';\r\nimport { ValidationProvider } from './validation.provider';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: []\r\n})\r\n\r\nexport class ValidationModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: ValidationModule,\r\n      providers: [\r\n        ValidationService,\r\n        ValidationProvider\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { BaseResponse, SearchBaseRequest } from './base.model';\r\n\r\nexport class SettingItemViewModel {\r\n    key: string;\r\n    value: string\r\n}\r\n\r\nexport class SettingSearchRequest extends SearchBaseRequest {\r\n}\r\n\r\nexport class SettingSearchResponse extends BaseResponse<SettingItemViewModel> {\r\n}","import { KeyValueItem } from './base.model';\r\n\r\nexport interface BaseSearchRequest {\r\n  searchText: string;\r\n  orderBy: string;\r\n  direction: string;\r\n  createdBy: string;\r\n  pageIndex: number;\r\n  pageSize: number;\r\n}\r\n\r\nexport interface BaseSearchResponse<T> {\r\n  items: T[];\r\n  totalRecords: number;\r\n}\r\n\r\nexport class GetLookupItemsRequest {\r\n  public params: string;\r\n  constructor(init?: Partial<GetLookupItemsRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class GetLookupItemsResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  item: any;\r\n  constructor(init?: Partial<GetLookupItemsResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendNotificationRequest {\r\n  notificationTypes: string[] = [];\r\n  payloadItems: KeyValueItem[] = [];\r\n  templateCode: string;\r\n  recipients: string[] = [];\r\n  fromAbiding: boolean;\r\n  constructor(init?: Partial<SendNotificationRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendNotificationResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<SendNotificationResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationType {\r\n  public static Email: string = 'Email';\r\n  public static Sms: string = 'Sms';\r\n  public static Local: string = 'Local';\r\n}\r\n\r\nexport class EditNotificationThreadViewModel {\r\n  id: string;\r\n  hasRead: boolean;\r\n  detailGroups: NotificationDetailGroup[] = [];\r\n  constructor(init?: Partial<EditNotificationThreadViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationDetailGroup {\r\n  details: NotificationDetail[] = [];\r\n  date: Date;\r\n  constructor(init?: Partial<NotificationDetailGroup>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationDetail {\r\n  description: string;\r\n  title: string;\r\n  time: Date;\r\n  code: string;\r\n  id: string;\r\n  hasRead: boolean;\r\n  payload: any;\r\n  constructor(init?: Partial<NotificationDetail>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationThreadRequest {\r\n  id: string;\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  constructor(init?: Partial<RetrieveNotificationThreadRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationThreadResponse {\r\n  message: string;\r\n  item: EditNotificationThreadViewModel;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RetrieveNotificationThreadResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationTemplateVariable {\r\n  public static OrderIdentifier: string = 'OrderIdentifier';\r\n  public static PendingApprovalProductsCount: string = 'PendingApprovalProductsCount';\r\n  public static SuppliersCount: string = 'SuppliersCount';\r\n  public static PendingInquiriesCount: string = 'PendingInquiriesCount';\r\n  public static BuyerName: string = 'BuyerName';\r\n  public static ProductName: string = 'ProductName';\r\n}\r\n\r\nexport class RegisterChannelRequest {\r\n  constructor(init?: Partial<RegisterChannelRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RegisterChannelResponse {\r\n  message: string;\r\n  id: string; success: boolean;\r\n  constructor(init?: Partial<RegisterChannelResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendLiveNotificationRequest {\r\n  message: string;\r\n  recipients: string[] = [];\r\n  constructor(init?: Partial<SendLiveNotificationRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailRequest {\r\n  id: string;\r\n  groupType: string;\r\n  dateGroup: Date;\r\n  details: string[];\r\n  constructor(init?: Partial<RemoveNotificationDetailRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RemoveNotificationDetailResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailGroupType {\r\n  public static All: string = 'All';\r\n  public static GroupByDate: string = 'GroupByDate';\r\n  public static Single: string = 'Single';\r\n}\r\n\r\nexport class RetrieveNotificationDetailRequest {\r\n  id: string;\r\n  userId: string;\r\n  constructor(init?: Partial<RetrieveNotificationDetailRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationDetailResponse {\r\n  message: string;\r\n  item: NotificationDetail;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RetrieveNotificationDetailResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SearchInboxNotificationsRequest implements BaseSearchRequest {\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  searchText: string;\r\n  orderBy: string;\r\n  direction: string;\r\n  createdBy: string;\r\n  userId: string;\r\n  fromAbiding: boolean;\r\n  constructor(init?: Partial<SearchInboxNotificationsRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SearchInboxNotificationsResponse implements BaseSearchResponse<NotificationDetailGroup> {\r\n  message: string;\r\n  items: NotificationDetailGroup[];\r\n  totalPendingRecords: number;\r\n  totalRecords: number;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<SearchInboxNotificationsResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class MarkAllNotificationsReadRequest {\r\n  id: string;\r\n  constructor(init?: Partial<MarkAllNotificationsReadRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class MarkAllNotificationsReadResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<MarkAllNotificationsReadResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n","import { BaseTemplate } from '../models';\r\n\r\nexport class LoadingViewModel {\r\n  threshold: number = 250;\r\n  timeout: number = 999999;\r\n  template?: string;\r\n  loadingText?: string;\r\n  constructor(init?: Partial<LoadingViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationViewModel {\r\n  center?: boolean;\r\n  title?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  message?: string;\r\n  btnTitle?: string;\r\n  callback?: (close: () => any) => any;\r\n  autoClose?: boolean;\r\n  constructor(init?: Partial<NotificationViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ConfirmViewModel {\r\n  center?: boolean;\r\n  title?: string;\r\n  icon?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  message?: string;\r\n  isDeleted?: boolean;\r\n  btnAcceptTitle?: string;\r\n  btnCancelTitle?: string;\r\n  autoClose?: boolean;\r\n  acceptCallback?: (close: () => any) => any;\r\n  cancelCallback?: (close: () => any) => any;\r\n  constructor(init?: Partial<ConfirmViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TemplateViewModel extends BaseTemplate {\r\n  center?: boolean;\r\n  title?: string;\r\n  mode?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  request?: any;\r\n  icon?: string;\r\n  btnAcceptTitle?: string;\r\n  btnCancelTitle?: string;\r\n  autoClose?: boolean;\r\n  acceptCallback?: (response?: any, provider?: any, close?: () => any) => any;\r\n  cancelCallback?: (response?: any, provider?: any, close?: () => any) => any;\r\n  constructor(init?: Partial<TemplateViewModel>) {\r\n    super();\r\n    Object.assign(this, init);\r\n  }\r\n}","export class ModalServiceConstant {\r\n  public static Mode = {\r\n    Create: 'Create',\r\n    Update: 'Update',\r\n    Picker: 'Picker',\r\n    Delete: 'Delete',\r\n    Custom: 'Custom'\r\n  };\r\n}","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { NotificationViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-notification',\r\n    templateUrl: './notification.component.html',\r\n    styleUrls: ['./notification.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class NotificationComponent {\r\n    public data: NotificationViewModel;\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.callback) {\r\n            this.data.callback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n}\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { ConfirmViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-confirm',\r\n    templateUrl: './confirm.component.html',\r\n    styleUrls: ['./confirm.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class ConfirmComponent {\r\n    public data: ConfirmViewModel;\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.cancelCallback) {\r\n            this.data.cancelCallback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n\r\n    public accept() {\r\n        if (this.data.acceptCallback) {\r\n            this.data.acceptCallback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'html'\r\n})\r\nexport class HtmlPipe implements PipeTransform {\r\n  constructor(private _sanitizer: DomSanitizer) {\r\n  }\r\n\r\n  public transform(v: string): SafeHtml {\r\n    return this._sanitizer.bypassSecurityTrustHtml(v);\r\n  }\r\n}","import {\r\n  Component,\r\n  AfterViewInit,\r\n  Type,\r\n  ComponentFactoryResolver,\r\n  ViewContainerRef,\r\n  Input,\r\n  EmbeddedViewRef,\r\n  ViewChild,\r\n  ElementRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ActionService } from '../services';\r\n\r\n@Component({\r\n  selector: 'katana-loader',\r\n  templateUrl: 'loader.component.html',\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class LoaderComponent implements AfterViewInit {\r\n  @Input() public template: Type<any>;\r\n  @Input() public data: any;\r\n  @ViewChild('containerRef', { static: true }) public containerRef: ElementRef;\r\n  public componentRef: any;\r\n\r\n  constructor(\r\n    private _componentFactoryResolver: ComponentFactoryResolver,\r\n    private _actionService: ActionService,\r\n    private _viewContainerRef: ViewContainerRef) {\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    this.createComponent();\r\n  }\r\n\r\n  private createComponent() {\r\n    this._viewContainerRef.clear();\r\n    this._actionService.executeAsync(() => {\r\n      const factory = this._componentFactoryResolver.resolveComponentFactory(this.template);\r\n      this.componentRef = this._viewContainerRef.createComponent(factory);\r\n      if (this.data) {\r\n        const fields = Object.keys(this.data);\r\n        if (fields) {\r\n          fields.forEach((field) => {\r\n            this.componentRef.instance[field] = this.data[field];\r\n          });\r\n        }\r\n      }\r\n      if (this.componentRef.instance.init) {\r\n        this.componentRef.instance.init();\r\n      }\r\n      const element = (this.componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n      this.containerRef.nativeElement.appendChild(element);\r\n    });\r\n  }\r\n}","import { Input } from '@angular/core';\r\nexport class LoaderProvider {\r\n  @Input() public item: any;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { LoaderComponent } from './loader.component';\r\nimport { HtmlPipe } from './html.pipe';\r\n\r\nconst declarations = [\r\n  LoaderComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: [declarations, ...[HtmlPipe]],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class LoaderModule { }","import { Component, ViewEncapsulation, ViewChild } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { TemplateViewModel } from '../../modal.model';\r\nimport { LoaderComponent } from '../../../loader';\r\n\r\n@Component({\r\n    selector: 'katana-template',\r\n    templateUrl: './template.component.html',\r\n    styleUrls: ['./template.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class TemplateComponent {\r\n    @ViewChild('loader', { static: true }) public loader: LoaderComponent;\r\n    public data: TemplateViewModel;\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.cancelCallback) {\r\n            this.data.cancelCallback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n\r\n    public accept() {\r\n        if (this.isValid()) {\r\n            if (this.data.acceptCallback) {\r\n                this.loader.componentRef.instance.callback(this.data.mode).subscribe((response) => {\r\n                    this.data.acceptCallback(response, this.loader.componentRef.instance);\r\n                    this._modalRef.hide();\r\n                });\r\n\r\n            } else {\r\n                this._modalRef.hide();\r\n            }\r\n            if (this.data.autoClose != false) {\r\n                this._modalRef.hide();\r\n            }\r\n        }\r\n    }\r\n\r\n    public show(): boolean {\r\n        if (this.loader && this.loader.componentRef && this.loader.componentRef.instance) {\r\n            return this.loader.componentRef.instance.show();\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public isValid(): boolean {\r\n        if (this.loader && this.loader.componentRef && this.loader.componentRef.instance && this.loader.componentRef.instance.isValid) {\r\n            return this.loader.componentRef.instance.isValid();\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap';\r\nimport { NotificationViewModel, TemplateViewModel, ConfirmViewModel } from './modal.model';\r\nimport { NotificationComponent } from './components/notification/notification.component';\r\nimport { ConfirmComponent } from './components/confirm/confirm.component';\r\nimport { TemplateComponent } from './components/template/template.component';\r\nimport { Ng4LoadingSpinnerService } from 'ng4-loading-spinner';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ModalService {\r\n  private _modalInstance: BsModalRef;\r\n  constructor(\r\n    private _bsModalService: BsModalService,\r\n    private Ng4LoadingSpinnerService: Ng4LoadingSpinnerService\r\n  ) { }\r\n\r\n  public showLoading(): void {\r\n    this.Ng4LoadingSpinnerService.show();\r\n  }\r\n\r\n  public hideLoading(): void {\r\n    this.Ng4LoadingSpinnerService.hide();\r\n  }\r\n\r\n  public showNotificationDialog(data: NotificationViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(NotificationComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n\r\n  public showConfirmDialog(data: ConfirmViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(ConfirmComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n\r\n  public showTemplateDialog(data: TemplateViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(TemplateComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n}\r\n","import { Component, ViewEncapsulation, Input, OnInit } from '@angular/core';\r\nimport { LoadingViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-loading',\r\n    templateUrl: './loading.component.html',\r\n    styleUrls: ['./loading.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class LoadingComponent implements OnInit {\r\n    @Input() public option: LoadingViewModel;\r\n\r\n    ngOnInit(): void {\r\n        if (!this.option) this.option = new LoadingViewModel();\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { NotificationComponent } from './components/notification/notification.component';\r\nimport { ConfirmComponent } from './components/confirm/confirm.component';\r\nimport { TemplateComponent } from './components/template/template.component';\r\nimport { LoaderModule } from '../loader/loader.module';\r\nimport { ModalModule, ComponentLoaderFactory, PositioningService, BsModalService } from 'ngx-bootstrap';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ModalService } from './modal.service';\r\nimport { Ng4LoadingSpinnerModule, Ng4LoadingSpinnerService } from 'ng4-loading-spinner';\r\nimport { LoadingComponent } from './components/loading';\r\n\r\nconst declarations = [\r\n  NotificationComponent,\r\n  ConfirmComponent,\r\n  TemplateComponent,\r\n  LoadingComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    LoaderModule,\r\n    ModalModule.forRoot(),\r\n    Ng4LoadingSpinnerModule.forRoot()\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class CModalModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: CModalModule,\r\n      providers: [\r\n        ComponentLoaderFactory, \r\n        PositioningService,\r\n        BsModalService,\r\n        ModalService,\r\n        Ng4LoadingSpinnerService \r\n      ]\r\n    };\r\n  }\r\n}","import { BaseRequest, BaseResponse, SearchBaseRequest, SearchBaseResponse } from '../shared/models';\r\nimport { FileViewModel } from '../shared/file/file.model';\r\n\r\nexport class UserViewModel {\r\n    id: string;\r\n    fullName: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    userName: string;\r\n    email?: string;\r\n    image?: FileViewModel;\r\n    phone?: string;\r\n    dateOfBirth?: Date;\r\n    externalInfo?: any;\r\n    constructor(init?: Partial<UserViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationViewModel {\r\n    userName: string;\r\n    password: string;\r\n    constructor(init?: Partial<AuthenticationViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationLoginRequest extends BaseRequest<AuthenticationViewModel> {\r\n    token?: string;\r\n    payload: AuthenticationViewModel = new AuthenticationViewModel();\r\n    constructor(init?: Partial<AuthenticationLoginRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationLoginResponse extends BaseResponse<AuthenticationViewModel> {\r\n    user?: UserViewModel;\r\n    token?: string;\r\n    constructor(init?: Partial<AuthenticationLoginResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationCreateRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationCreateRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationCreateResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationCreateResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationUpdateRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationUpdateRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationUpdateResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationUpdateResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationRetrieveRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationRetrieveRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationRetrieveResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationRetrieveResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationDeleteRequest extends BaseRequest<AuthenticationViewModel> {\r\n    ids: string[];\r\n    constructor(init?: Partial<AuthenticationDeleteRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationDeleteResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationDeleteResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationSearchRequest extends SearchBaseRequest {\r\n    constructor(init?: Partial<AuthenticationSearchRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationSearchResponse extends SearchBaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationSearchResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}","export class AuthConst {\r\n    public static Token: string = 'Token';\r\n    public static User: string = 'User';\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  AuthenticationLoginRequest,\r\n  AuthenticationLoginResponse,\r\n  UserViewModel,\r\n  AuthenticationSearchRequest,\r\n  AuthenticationSearchResponse,\r\n  AuthenticationRetrieveRequest,\r\n  AuthenticationRetrieveResponse,\r\n  AuthenticationCreateRequest,\r\n  AuthenticationCreateResponse,\r\n  AuthenticationUpdateRequest,\r\n  AuthenticationUpdateResponse,\r\n  AuthenticationDeleteRequest,\r\n  AuthenticationDeleteResponse\r\n} from './auth.model';\r\nimport { CacheService } from '../shared/services/cache.service';\r\nimport { AuthConst } from './auth.const';\r\nimport { Router } from '@angular/router';\r\nimport { MockService } from '../shared/services/mock.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthenticationService extends MockService {\r\n  public currentUser: UserViewModel;\r\n  protected api: string = 'v1/authentications/search';\r\n  constructor(\r\n    protected httpClient: HttpClient,\r\n    private _cacheService: CacheService,\r\n    private _router: Router\r\n  ) {\r\n    super();\r\n    var user = <UserViewModel>this._cacheService.get(AuthConst.User);\r\n    this._cacheService.set(AuthConst.User, user);\r\n    this.currentUser = user;\r\n  }\r\n\r\n  public search(request: AuthenticationSearchRequest): Observable<AuthenticationSearchResponse> {\r\n    return this.verify(this.httpClient.get<AuthenticationSearchResponse>(`${this.api}/search`, { params: request as any }), request.mockData)\r\n  }\r\n\r\n  public retrieve(request: AuthenticationRetrieveRequest): Observable<AuthenticationRetrieveResponse> {\r\n    return this.verify(this.httpClient.get<AuthenticationRetrieveResponse>(`${this.api}/${request.payload.userName}`), request.mockData);\r\n  }\r\n\r\n  public login(request: AuthenticationLoginRequest): Observable<AuthenticationLoginResponse> {\r\n    return this.verify(this.httpClient.post<AuthenticationLoginResponse>(`${this.api}/login`, request), request.mockData);\r\n  }\r\n\r\n  public create(request: AuthenticationCreateRequest): Observable<AuthenticationCreateResponse> {\r\n    return this.verify(this.httpClient.post<AuthenticationCreateResponse>(`${this.api}/`, request), request.mockData);\r\n  }\r\n\r\n  public update(request: AuthenticationUpdateRequest): Observable<AuthenticationUpdateResponse> {\r\n    return this.verify(this.httpClient.put<AuthenticationUpdateResponse>(`${this.api}/`, request), request.mockData);\r\n  }\r\n\r\n  public delete(request: AuthenticationDeleteRequest): Observable<AuthenticationDeleteResponse> {\r\n    return this.verify(this.httpClient.delete<AuthenticationDeleteResponse>(`${this.api}?ids=${request.ids}`), request.mockData);\r\n  }\r\n\r\n  public logout(path: string = '/', refresh: boolean = false): void {\r\n    this._cacheService.remove(AuthConst.User);\r\n    this._router.navigate([path]);\r\n    if (refresh) window.location.href = window.location.href;\r\n  }\r\n}","import { trigger, style, animate, transition } from '@angular/animations';\r\n\r\nexport const fadeInOut = trigger(\r\n  'fadeInOut', [\r\n  transition(':enter', [\r\n    style({ opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ opacity: 0 }))\r\n  ])\r\n]);\r\n\r\nexport const fadeDownInOut = trigger(\r\n  'fadeDownInOut', [\r\n  transition(':enter', [\r\n    style({ transform: 'translateY(30px)', opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateY(0)', opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ transform: 'translateY(0)', opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateY(30px)', opacity: 0 }))\r\n  ])\r\n]);\r\n\r\nexport const fadeRightInOut = trigger(\r\n  'fadeRightInOut', [\r\n  transition(':enter', [\r\n    style({ transform: 'translateX(30px)', opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateX(0)', opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ transform: 'translateX(0)', opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateX(30px)', opacity: 0 }))\r\n  ])\r\n]);","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'katana-no-content',\r\n  templateUrl: './404.component.html'\r\n})\r\n\r\nexport class NotFoundComponent {\r\n  constructor(private _router: Router) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n}\r\n\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'katana-forbidden',\r\n  templateUrl: './403.component.html'\r\n})\r\n\r\nexport class AccessDeniedComponent {\r\n  constructor(\r\n    private _router: Router,\r\n    private _location: Location) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n\r\n  public back(): void {\r\n    this._location.back();\r\n  }\r\n}\r\n\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'katana-working',\r\n  templateUrl: './400.component.html'\r\n})\r\n\r\nexport class WorkingComponent {\r\n  constructor(private _router: Router) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NotFoundComponent } from './404/404.component';\r\nimport { AccessDeniedComponent } from './403/403.component';\r\nimport { WorkingComponent } from './400/400.component';\r\n\r\nconst declarations = [\r\n  NotFoundComponent,\r\n  AccessDeniedComponent,\r\n  WorkingComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class PageModule { }","import { MockData, Audit } from '../models';\r\n\r\nexport class FileViewModel extends Audit {\r\n    id?: string;\r\n    name?: string;\r\n    src?: string;\r\n    type?: string;\r\n    size?: number;\r\n    constructor(init?: Partial<FileViewModel>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class FileRequest extends MockData<FileResponse> {\r\n    items: FileViewModel[];\r\n    others?: FileViewModel[];\r\n    createdBy: string;\r\n    constructor(init?: Partial<FileRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class FileResponse {\r\n    code?: string;\r\n    status?: boolean;\r\n    message?: string;\r\n    totalRecords?: number;\r\n    items: FileViewModel[] = [];\r\n    constructor(init?: Partial<FileResponse>) {\r\n        Object.assign(this, init);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpEvent, HttpResponse } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\nimport { FileRequest, FileResponse, FileViewModel } from './file.model';\r\nimport { MockService } from '../services';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FileService extends MockService {\r\n    constructor(\r\n        protected httpClient: HttpClient,\r\n        protected authenticationService: AuthenticationService\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    public uploadFiles(request: FileRequest): Observable<FileResponse> {\r\n        return this.verify(this.httpClient.post<FileResponse>('v1/Files/', request), request.mockData);\r\n    }\r\n\r\n    public uploadProgress(file: File): Observable<HttpEvent<FileResponse>> {\r\n        const response = new HttpResponse<FileResponse>({\r\n            body: new FileResponse({\r\n                items: [new FileViewModel({\r\n                    src: 'https://znews-photo.zadn.vn/w660/Uploaded/xbhunku/2017_06_02/338006.jpg',\r\n                    createdDate: new Date(),\r\n                    lastModifiedDate: new Date(),\r\n                    createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                    lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                })]\r\n            })\r\n        });\r\n        return of(response);\r\n    }\r\n}\r\n\r\n","export class FileConst {\r\n    public static AcceptedFiles: string = 'txt|doc|docx|image/jpg|image/jpeg|image/png';\r\n    public static MaxSize: number = 5; //MB\r\n}","import { Injectable } from '@angular/core';\r\nimport { FileService } from './file.service';\r\nimport { ModalService } from '../modals';\r\nimport { FileViewModel, FileRequest } from './file.model';\r\nimport { FileConst } from './file.const';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FileProvider {\r\n    constructor(\r\n        private _fileService: FileService,\r\n        private _modalService: ModalService,\r\n        private _actionService: ActionService,\r\n        private _authenticationService: AuthenticationService\r\n    ) { }\r\n\r\n    public uploadAsync(files: File[], attachments: FileViewModel[], fileRef: any, callback?: () => any): void {\r\n        var request = this.buildRequest(files, attachments);\r\n        this._actionService.executeAsync(() => {\r\n            const totalAttachmentSize = this.calculateTotalBytes(attachments, request.items);\r\n            if (totalAttachmentSize > FileConst.MaxSize * 1024 * 1024) {\r\n                this._modalService.showNotificationDialog({\r\n                    autoClose: true,\r\n                    title: 'ThÃ´ng bÃ¡o',\r\n                    message: 'Dung lÆ°á»£ng khÃ´ng ÄÆ°á»£c vÆ°á»£t quÃ¡ <span class=\"text-bold text-primary\">' + FileConst.MaxSize + '</span> MB.',\r\n                    btnTitle: 'ÄÃ³ng'\r\n                });\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            } else {\r\n                if (request.others.length == 0) {\r\n                    this.uploadFileAsync(request, fileRef, callback);\r\n                } else {\r\n                    let otherTypes = '';\r\n                    request.others.forEach(file => {\r\n                        if (file) {\r\n                            if (otherTypes.indexOf(file.type) == -1) {\r\n                                otherTypes += file.type + '|';\r\n                            }\r\n                        }\r\n                    });\r\n                    if (otherTypes) otherTypes = otherTypes.substring(0, otherTypes.length - 1);\r\n                    if (request.items.length == 0) {\r\n                        this._modalService.showNotificationDialog({\r\n                            autoClose: true,\r\n                            title: 'ThÃ´ng bÃ¡o',\r\n                            message: 'Äá»nh dáº¡ng tá»p tin khÃ´ng há»£p lá» <span class=\"text-bold text-primary\">' + otherTypes + '</span>.',\r\n                            btnTitle: 'ÄÃ³ng'\r\n                        });\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    } else {\r\n                        this._modalService.showConfirmDialog({\r\n                            autoClose: true,\r\n                            title: 'ThÃ´ng bÃ¡o',\r\n                            message: 'CÃ³ <span class=\"text-bold text-primary\">' + request.others.length + '</span> Äá»nh dáº¡ng tá»p tin khÃ´ng há»£p lá» <span class=\"text-bold text-primary\">' + otherTypes + '</span>.<br/> Báº¡n cÃ³ muá»n tiáº¿p tá»¥c táº£i tá»p tin khÃ¡c khÃ´ng?',\r\n                            btnAcceptTitle: 'Tiáº¿p tá»¥c',\r\n                            btnCancelTitle: 'Há»§y',\r\n                            acceptCallback: () => {\r\n                                this.uploadFileAsync(request, fileRef, callback);\r\n                            }\r\n                        });\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private uploadFileAsync(request: FileRequest, fileRef: any, callback?: () => any): void {\r\n        this._fileService.uploadFiles(request).subscribe(response => {\r\n            if (fileRef && fileRef.value) {\r\n                fileRef.value = '';\r\n            }\r\n\r\n            if (response && response.items) {\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n\r\n                response.items.forEach((item) => {\r\n                    const currentAttachment = request.items.find(s => s.src == item.src && s.name == item.name);\r\n                    if (!currentAttachment) {\r\n                        request.items.push(item);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private calculateTotalBytes(attachments: FileViewModel[], items?: FileViewModel[]): number {\r\n        let totalAmount = 0;\r\n        if (attachments) {\r\n            if (attachments) {\r\n                attachments.forEach((attachment) => {\r\n                    totalAmount += attachment.size;\r\n                });\r\n            }\r\n\r\n            if (items) {\r\n                items.forEach((attachment) => {\r\n                    totalAmount += attachment.size;\r\n                });\r\n            }\r\n        }\r\n        return totalAmount;\r\n    }\r\n\r\n    private buildRequest(files: File[], attachments: FileViewModel[]): FileRequest {\r\n        const request: FileRequest = {\r\n            createdBy: this._authenticationService.currentUser.id,\r\n            items: []\r\n        }\r\n\r\n        const otherFiles: FileViewModel[] = [];\r\n\r\n        for (let i = 0; i < files.length; i++) {\r\n            if (files[i]) {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(files[i]);\r\n                reader.onloadend = () => {\r\n                    const base64String = <string>reader.result;\r\n                    if (files[i].type && FileConst.AcceptedFiles.indexOf(files[i].type) > -1) {\r\n                        request.items.push(\r\n                            {\r\n                                size: files[i].size,\r\n                                type: files[i].type,\r\n                                src: base64String,\r\n                                name: files[i].name\r\n                            });\r\n                    } else {\r\n                        otherFiles.push(\r\n                            {\r\n                                size: files[i].size,\r\n                                type: files[i].type,\r\n                                src: base64String,\r\n                                name: files[i].name\r\n                            });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (attachments) {\r\n            attachments.forEach((item) => {\r\n                const currentAttachment = request.items.find(s => s.src == item.src && s.name == item.name);\r\n                if (!currentAttachment) {\r\n                    request.items.push(item);\r\n                }\r\n            });\r\n        }\r\n\r\n        request.others = otherFiles;\r\n        return request;\r\n    }\r\n}\r\n","import { Component, Input, ViewChild, OnInit } from \"@angular/core\";\r\nimport { Observable, of } from 'rxjs';\r\nimport { ImageCropperComponent, ImageCroppedEvent } from \"ngx-image-cropper\";\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n    selector: 'katana-cropper',\r\n    templateUrl: './cropper.component.html',\r\n    styleUrls: ['./cropper.component.scss']\r\n})\r\n\r\nexport class CropperComponent implements OnInit {\r\n    @ViewChild('cropper', { static: true }) public cropper: ImageCropperComponent;\r\n    @Input() public imageElement: HTMLImageElement;\r\n    @Input() public eventFile: any;\r\n    @Input() public cutRatio: number = 1 / 1;\r\n    @Input() public resizeToWidth: number = 800;\r\n    @Input() public maintainAspectRatio: boolean = true;\r\n    imageChangedEvent: any = '';\r\n    croppedImage: any = '';\r\n    showCropper = false;\r\n\r\n    constructor(\r\n        private _actionService: ActionService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.init();\r\n    }\r\n\r\n    public setImage(image: any) {\r\n        this.imageChangedEvent = this.eventFile;\r\n    }\r\n\r\n    public imageLoaded() {\r\n        this.showCropper = true;\r\n        console.log('Image loaded');\r\n    }\r\n\r\n    public cropperReady() {\r\n        console.log('Cropper ready');\r\n    }\r\n\r\n    public loadImageFailed() {\r\n        console.log('Load failed');\r\n    }\r\n\r\n    public imageCropped(event: ImageCroppedEvent) {\r\n        this.croppedImage = event.base64;\r\n    }\r\n\r\n    public isValid(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public callback(): Observable<any> {\r\n        return of(this.croppedImage);\r\n    }\r\n\r\n    public getErrors() {\r\n        return of([]);\r\n    }\r\n\r\n    private init(): void {\r\n        this._actionService.executeAsync(() => {\r\n            this.imageChangedEvent = this.eventFile;\r\n        });\r\n    }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { take, finalize, tap } from 'rxjs/operators';\r\nimport { HttpEventType } from '@angular/common/http';\r\nimport { Subscription } from 'rxjs';\r\nimport { FileViewModel, FileRequest, FileResponse } from './file.model';\r\nimport { CropperComponent } from '../cropper/cropper.component';\r\nimport { FileService } from './file.service';\r\nimport { NotificationViewModel } from '../modals/modal.model';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ModalService } from '../modals/modal.service';\r\n\r\n@Component({\r\n  selector: 'katana-file-uploader',\r\n  templateUrl: './file.component.html',\r\n  styleUrls: ['./file.component.scss']\r\n})\r\n\r\nexport class UploaderComponent implements OnInit, OnDestroy {\r\n  @Input() public icon: string = 'fa fa-twitter';\r\n  @Input() public title: string = 'Chá»nh sá»­a áº£nh';\r\n  @Input() public multiple: boolean = true;\r\n  @Input() public cropImage: boolean;\r\n  @Input() public validationName: string;\r\n  @Input() public maxSize: number = 10 * 1024 * 1024;\r\n  @Input() public fileType: 'doc' | 'image' | 'audio' | 'video' | 'default' = 'default';\r\n  @Input() public cutRatio: number;\r\n  @Input() public resizeToWidth: number;\r\n  @Input() public maintainAspectRatio: boolean;\r\n  @Output('checkedLoading') changeLoading = new EventEmitter<boolean>();\r\n  @Output('checkedProgress') changeProgress = new EventEmitter<number>();\r\n  @Output() public fileUploaded: EventEmitter<FileViewModel> = new EventEmitter();\r\n  public loading: boolean;\r\n  public progress: number = 0;\r\n  private currentTypes: any[];\r\n  private subscriptions: Subscription = new Subscription();\r\n\r\n  constructor(\r\n    protected modalService: ModalService,\r\n    protected fileService: FileService,\r\n    protected authenticationService: AuthenticationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  public onFileUploaded(files: File[], event: any) {\r\n    if (!files || files.length == 0) return;\r\n    this.execute(files, event);\r\n  }\r\n\r\n  private execute(files: File[], event: any): void {\r\n    if (files.length == 0) return;\r\n    var file = files[0];\r\n    const validationResult = this.initValidation(file);\r\n    if (!validationResult.isValid) {\r\n      validationResult.errors.forEach(x => {\r\n        switch (x) {\r\n          case 'Size':\r\n            this.modalService.showNotificationDialog(new NotificationViewModel({\r\n              message: `KÃ­ch thÆ°á»c file pháº£i nhá» hÆ¡n ${this.maxSize / (1024 * 1024)} mb`\r\n            }));\r\n            break;\r\n          case 'Type':\r\n            this.modalService.showNotificationDialog(new NotificationViewModel({\r\n              message: `Loáº¡i file khÃ´ng phÃ¹ há»£p`\r\n            }));\r\n            break;\r\n        }\r\n      });\r\n      return;\r\n    }\r\n    if (this.cropImage) {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onloadend = (loadEvent: any) => {\r\n        const image = new FileViewModel({\r\n          createdDate: new Date(),\r\n          lastModifiedDate: new Date(),\r\n          createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n          lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n        });\r\n        image.src = loadEvent.target.result;\r\n        this.modalService.showTemplateDialog({\r\n          title: this.title,\r\n          customSize: 'modal-lg',\r\n          mode: 'Custom',\r\n          autoClose: true,\r\n          icon: this.icon,\r\n          data: {\r\n            imageElement: image,\r\n            eventFile: event,\r\n            cutRatio: this.cutRatio,\r\n            maintainAspectRatio: this.maintainAspectRatio,\r\n            resizeToWidth: this.resizeToWidth\r\n          },\r\n          template: CropperComponent,\r\n          acceptCallback: (base64String) => {\r\n            const base64FileParts = base64String.split(',');\r\n            if (base64FileParts.length < 2) {\r\n              return;\r\n            }\r\n            const base64FileData = base64FileParts[1];\r\n            this.loading = true;\r\n            this.changeLoading.emit(this.loading);\r\n            this.fileService.uploadFiles(new FileRequest({\r\n              createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n              items: [new FileViewModel({\r\n                src: base64FileData,\r\n                name: file.name,\r\n                size: file.size,\r\n                type: file.type,\r\n                createdDate: new Date(),\r\n                lastModifiedDate: new Date(),\r\n                createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n              })],\r\n              mockData: new FileResponse({\r\n                status: true,\r\n                items: [\r\n                  new FileViewModel({\r\n                    src: base64String,\r\n                    size: file.size,\r\n                    name: file.name,\r\n                    createdDate: new Date(),\r\n                    lastModifiedDate: new Date(),\r\n                    createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                    lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                  })\r\n                ]\r\n              })\r\n            })).pipe(take(1), finalize(() => {\r\n              this.loading = false;\r\n              this.changeLoading.emit(this.loading);\r\n            })).subscribe(response => {\r\n              if (response.items.length > 0) {\r\n                const uploadedFilePath = response.items[0].src;\r\n                this.fileUploaded.emit(new FileViewModel({\r\n                  src: uploadedFilePath,\r\n                  name: file.name,\r\n                  size: file.size,\r\n                  type: file.type,\r\n                  createdDate: new Date(),\r\n                  lastModifiedDate: new Date(),\r\n                  createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                  lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                }));\r\n              }\r\n            });\r\n          }\r\n        })\r\n      };\r\n    } else {\r\n      this.loading = true;\r\n      this.changeLoading.emit(this.loading);\r\n      const uploadFileSubscription = this.fileService.uploadProgress(file).pipe(\r\n        tap((event => {\r\n          if (event.type === HttpEventType.UploadProgress) {\r\n            this.progress = Math.round((100 * event.loaded) / event.total);\r\n            this.changeProgress.emit(this.progress);\r\n          } else if (event.type === HttpEventType.Response) {\r\n            const response = event.body;\r\n            this.progress = 0;\r\n            this.loading = false;\r\n            this.changeProgress.emit(this.progress);\r\n            this.changeLoading.emit(this.loading);\r\n            this.fileUploaded.emit(new FileViewModel({\r\n              src: response.items && response.items.length > 0 ? response.items[0].src : null,\r\n              name: file.name\r\n            }));\r\n          }\r\n        }),\r\n          (err) => {\r\n            console.log(err);\r\n          }\r\n        )).subscribe();\r\n      this.subscriptions.add(uploadFileSubscription);\r\n    }\r\n  }\r\n\r\n  private initValidation(file: File): { isValid: Boolean; errors: any[] } {\r\n    let isValid: boolean = true;\r\n    let errors = [];\r\n    if (this.fileType) {\r\n      this.initExtentionFile(this.fileType);\r\n      const types = file.name.split('.');\r\n      const extension = types[types.length - 1];\r\n      isValid = this.currentTypes.indexOf(extension) >= 0;\r\n      if (!isValid) {\r\n        errors.push('Type');\r\n        return { isValid: isValid, errors: errors };\r\n      }\r\n    }\r\n\r\n    if (this.maxSize && this.maxSize !== 0) {\r\n      isValid = +file.size < +this.maxSize;\r\n      if (!isValid) {\r\n        errors.push('Size');\r\n        return { isValid: isValid, errors: errors };\r\n      };\r\n    }\r\n    return { isValid: isValid, errors: errors };\r\n  }\r\n\r\n  private initExtentionFile(fileType: string) {\r\n    switch (fileType) {\r\n      case 'doc':\r\n        this.currentTypes = ['csv', 'doc', 'docx', 'log', 'msg', 'rtf', 'txt', 'wpf', 'pdf', 'csv', 'ppt', 'pps', 'vcf', 'xlr', 'xls', 'xlsx'];\r\n        break;\r\n      case 'image':\r\n        this.currentTypes = ['bmp', 'dds', 'gif', 'heic', 'jpg', 'png', 'psd', 'thm', 'tif', 'jpe', 'jpeg'];\r\n        break;\r\n      case 'audio':\r\n        this.currentTypes = ['aif', 'iff', 'm3u', 'm4a', 'mid', 'mp3', 'mpa', 'wav', 'wma'];\r\n        break;\r\n      case 'video':\r\n        this.currentTypes = ['3g2', '3gp', 'avi', 'flv', 'm4v', 'mov', 'mp4', 'mpg', 'wmv'];\r\n        break;\r\n      case 'default':\r\n        this.currentTypes = ['csv', 'doc', 'docx', 'log', 'msg', 'rtf', 'txt', 'wpf', 'pdf', 'csv', 'ppt', 'pps', 'vcf', 'xlr', 'xls', 'xlsx',\r\n          'bmp', 'dds', 'gif', 'heic', 'jpg', 'png', 'psd', 'thm', 'tif', 'jpe', 'jpeg',\r\n          'aif', 'iff', 'm3u', 'm4a', 'mid', 'mp3', 'mpa', 'wav', 'wma',\r\n          '3g2', '3gp', 'avi', 'flv', 'm4v', 'mov', 'mp4', 'mpg', 'wmv'\r\n        ];\r\n        break;\r\n      default: return;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageCropperModule as LibraryModule } from 'ngx-image-cropper';\r\nimport { CropperComponent } from './cropper.component';\r\n\r\n@NgModule({\r\n  declarations: [CropperComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LibraryModule\r\n  ],\r\n  exports: [CropperComponent],\r\n  entryComponents: [CropperComponent]\r\n})\r\n\r\nexport class CropperModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FileService } from './file.service';\r\nimport { FileProvider } from './file.provider';\r\nimport { UploaderComponent } from './file.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CropperModule } from '../cropper/cropper.module';\r\n\r\n@NgModule({\r\n  declarations: [UploaderComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    CropperModule\r\n  ],\r\n  exports: [UploaderComponent],\r\n  entryComponents: [UploaderComponent],\r\n  providers: [\r\n    FileService,\r\n    FileProvider\r\n  ]\r\n})\r\n\r\nexport class FileModule { }\r\n","import { Component, ViewChild, TemplateRef, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n    selector: 'katana-tab',\r\n    template: '<ng-template><ng-content></ng-content></ng-template>'\r\n})\r\n\r\nexport class TabItemComponent {\r\n    @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n    @Input() name: string;\r\n    @Input() icon: string;\r\n    public index: number;\r\n}\r\n","import { FileService } from '../file/file.service';\r\nimport { FileRequest, FileViewModel, FileResponse } from '../file/file.model';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\nexport class EditorAdapter {\r\n    protected loader: any;\r\n    protected fileService: FileService;\r\n    protected authenticationService: AuthenticationService;\r\n\r\n    constructor(loader: any, fileService: FileService, authenticationService: AuthenticationService) {\r\n        this.loader = loader;\r\n        this.fileService = fileService;\r\n        this.authenticationService = authenticationService;\r\n    }\r\n\r\n    public upload(): any {\r\n        return this.loader.file.then(file => new Promise((resolve) => {\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                const base64Data = reader.result.toString().split(',');\r\n                if (base64Data.length < 2) {\r\n                    return;\r\n                }\r\n                const base64FileData = base64Data[1];\r\n                this.fileService.uploadFiles(new FileRequest({\r\n                    items: [\r\n                        new FileViewModel({\r\n                            name: file.name,\r\n                            src: base64FileData\r\n                        })\r\n                    ],\r\n                    mockData: new FileResponse({\r\n                        items: [new FileViewModel({\r\n                            src: <string>reader.result,\r\n                            name: file.name\r\n                        })]\r\n                    })\r\n                })).subscribe(response => {\r\n                    var src = '';\r\n                    if (response.items && response.items.length > 0) {\r\n                        src = response.items[0].src;\r\n                    }\r\n                    resolve({ default: src });\r\n                }, (err) => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n            reader.readAsDataURL(file);\r\n        }));\r\n    }\r\n}","import { Component, OnDestroy, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport * as Editor from '@ckeditor/ckeditor5-build-classic';\r\nimport { FileService } from '../file';\r\nimport { EditorAdapter } from './editor.adaptor';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n  selector: 'katana-editor',\r\n  templateUrl: './editor.component.html',\r\n  styleUrls: ['./editor.component.scss']\r\n})\r\n\r\nexport class EditorComponent implements OnDestroy {\r\n  @ViewChild('nativeEditor', { static: true }) public nativeEditor: any;\r\n  @Input() public model: string = '';\r\n  @Input() public plainText: string;\r\n  @Input() public title: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<string> = new EventEmitter();\r\n  @Input() public focus: boolean;\r\n  @Output() public plainTextChange: EventEmitter<string> = new EventEmitter();\r\n  public editor = Editor;\r\n  public config: any = {\r\n    height: '600px'\r\n  };\r\n\r\n  constructor(\r\n    public fileService: FileService,\r\n    public authenticationService: AuthenticationService,\r\n    private _actionService: ActionService\r\n  ) { }\r\n\r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit(null);\r\n  }\r\n\r\n  public change(html: string) {\r\n    const plainText = this.nativeEditor.elementRef.nativeElement.textContent;\r\n    this.plainTextChange.emit(plainText);\r\n    this.modelChange.emit(html);\r\n  }\r\n\r\n  public ready(event: any, fileService: FileService, authenticationService: AuthenticationService): void {\r\n    event.plugins.get('FileRepository').createUploadAdapter = function (loader: any) {\r\n      return new EditorAdapter(loader, fileService, authenticationService);\r\n    };\r\n    if (this.focus) {\r\n      this._actionService.executeAsync(() => {\r\n        event.ui.getEditableElement().focus();\r\n      });\r\n    }\r\n  }\r\n}","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[katanaLabelExtraItem]'\r\n})\r\n\r\nexport class FormDirectorExtraItemDirective {\r\n  constructor(\r\n    public template: TemplateRef<any>\r\n  ) { }\r\n\r\n}\r\n","import { Component, Input } from \"@angular/core\";\r\nimport { FormDirectorExtraItemDirective } from './form-director-extra-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-form-director',\r\n    templateUrl: './form-director.component.html',\r\n    styleUrls: ['./form-director.component.scss'],\r\n})\r\n\r\nexport class FormDirectorComponent {\r\n    @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n    @Input() public alignVertical: boolean = true;\r\n    @Input() public title: string;\r\n    @Input() public description: string;\r\n    @Input() extraLabelItem: FormDirectorExtraItemDirective;\r\n}","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-item]'\r\n})\r\n\r\nexport class FormItemDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) { }\r\n}\r\n","import { Component, OnInit, ContentChildren, QueryList, TemplateRef, Input, SimpleChanges } from '@angular/core';\r\nimport { FormItemDirective } from './form-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-form',\r\n    templateUrl: './form.component.html',\r\n    styleUrls: ['./form.component.scss']\r\n})\r\n\r\nexport class FormComponent implements OnInit {\r\n    @ContentChildren(FormItemDirective) public formItems: QueryList<TemplateRef<any>>;\r\n    @Input() public column: 1 | 2 | 3 | 4 = 4;\r\n    public smallWidth: number = 12;\r\n    public mediumWidth: number = 4;\r\n    public largeWidth: number = 3;\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.column && changes.column.firstChange) {\r\n            const column = changes.column.currentValue;\r\n            switch (column) {\r\n                case 1: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 12;\r\n                    this.largeWidth = 12;\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 12;\r\n                    this.largeWidth = 6;\r\n                    break;\r\n                }\r\n                case 3: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 6;\r\n                    this.largeWidth = 4;\r\n                    break;\r\n                }\r\n                case 4: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 4;\r\n                    this.largeWidth = 3;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormComponent } from './form.component';\r\nimport { FormDirectorComponent } from './form-director.component';\r\nimport { FormItemDirective } from './form-item.directive';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FormDirectorExtraItemDirective } from './form-director-extra-item.directive';\r\n\r\nconst declarations = [FormComponent, FormDirectorComponent, FormItemDirective, FormDirectorExtraItemDirective];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  exports: declarations\r\n})\r\n\r\nexport class FormModule { }\r\n","import { Component, OnInit, OnDestroy, ContentChild, TemplateRef, Input, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';\r\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, tap, switchMap, map, concat, skip } from 'rxjs/operators';\r\nimport { FormDirectorExtraItemDirective } from '../form/form-director-extra-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-dropdown',\r\n    templateUrl: './dropdown.component.html',\r\n    styleUrls: ['./dropdown.component.scss']\r\n})\r\n\r\nexport class DropdownComponent implements OnInit, OnDestroy {\r\n    @ContentChild('itemTemplate', { static: true }) public itemTemplate: TemplateRef<any>;\r\n    @ContentChild('groupTemplate', { static: true }) public groupTemplate: TemplateRef<any>;\r\n    @ContentChild('footerTemplate', { static: true }) public footerTemplate: TemplateRef<any>;\r\n    @ContentChild(FormDirectorExtraItemDirective, { static: true }) extraLabelItem: FormDirectorExtraItemDirective;\r\n    @Output() public change = new EventEmitter<any>();\r\n    @Input() public title: string;\r\n    @Input() public description: string;\r\n    @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n    @Input() public alignVertical: boolean = true;\r\n    @Input() public multiple: boolean = false;\r\n    @Input() public bindLabel: string;\r\n    @Input() public bindValue: string;\r\n    @Input() public model: any;\r\n    @Input() public closeOnSelect: boolean = true;\r\n    @Input() public dropdownPosition: string = 'auto';\r\n    @Input() public loading: boolean;\r\n    @Input() public loadingText: string = 'Äang táº£i...';\r\n    @Input() public markFirst: boolean;\r\n    @Input() public notFoundText: string = 'KhÃ´ng tÃ¬m tháº¥y';\r\n    @Input() public placeholder: string = 'Chá»n thÃ´ng tin';\r\n    @Input() public pageSize: number = 10;\r\n    @Input() public groupBy: string;\r\n    @Input() public readonly: boolean = false;\r\n    @Input() public disabled: boolean = false;\r\n    @Input() public typeToSearchText: string = 'GÃµ Äá» tÃ¬m kiáº¿m';\r\n    @Input() public searchable: boolean = true;\r\n    @Input() public searchFunction: (searchText: string, index: number, pageIndex: number, pageSize: number) => Observable<{ items: any[], totalItems: number }>;\r\n    @Input() public lazyload: boolean = false;\r\n    @Input() public beforeSearch: Observable<any>;\r\n    @Input() public afterSearch: Observable<any>;\r\n    @Input() public validationName: string;\r\n    @Input() public validationScope: string;\r\n    @Input() public controlName: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    public totalItems: number = 0;\r\n    public searchItems: any[] = [];\r\n    public searchText$ = new BehaviorSubject<string>(null);\r\n    private subscriptions: Subscription = new Subscription();\r\n    private currentPage: number = 0;\r\n    private numberOfItemsFromEndBeforeFetchingMore: number = 3;\r\n    private fetchMore$: BehaviorSubject<number> = new BehaviorSubject(0);\r\n\r\n    constructor(\r\n        private changeDetectorRef: ChangeDetectorRef\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        const search$ = this.searchText$\r\n            .pipe(\r\n                debounceTime(200),\r\n                distinctUntilChanged(),\r\n                tap(() => this.loading = true),\r\n                switchMap((text: string) => {\r\n                    this.currentPage = 0;\r\n                    return this.searchFunction(text, 0, this.currentPage, this.lazyload ? this.pageSize : null);\r\n                }),\r\n                map((response: any) => this.rebind(response)),\r\n                tap(() => this.loading = false),\r\n            );\r\n\r\n        const fetchMore$ = this.fetchMore$\r\n            .pipe(\r\n                tap(() => this.loading = true),\r\n                switchMap((pageIndex: number) => {\r\n                    return this.searchFunction(this.searchText$.getValue(), 0, pageIndex, this.lazyload ? this.pageSize : null);\r\n                }),\r\n                map((response: any) => this.append(response)),\r\n                tap(() => this.loading = false),\r\n            );\r\n        this.subscriptions.add(fetchMore$.subscribe());\r\n\r\n        if (this.beforeSearch) {\r\n            this.subscriptions.add(this.beforeSearch.pipe(concat(search$)).subscribe());\r\n        } else {\r\n            this.subscriptions.add(search$.subscribe());\r\n        }\r\n\r\n        if (this.afterSearch) {\r\n            const afterSearchSubscription = this.afterSearch.pipe(skip(1)).subscribe(response => this.rebind(response));\r\n            this.subscriptions.add(afterSearchSubscription);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.unsubscribe();\r\n        if (this.emitNullOnDestroy === true)\r\n            this.change.emit(null);\r\n    }\r\n\r\n    public onBlur() {\r\n        this.searchText$.next(null);\r\n    }\r\n\r\n    public scroll(lastIndex: number) {\r\n        if (this.loading) {\r\n            return;\r\n        }\r\n\r\n        if (lastIndex + this.numberOfItemsFromEndBeforeFetchingMore >= this.searchItems.length) {\r\n            this.fetchMore();\r\n        }\r\n    }\r\n\r\n    public fetchMore() {\r\n        this.currentPage++;\r\n        this.fetchMore$.next(this.currentPage);\r\n    }\r\n\r\n    public clear() {\r\n        if (this.lazyload) {\r\n            this.currentPage = 0;\r\n            this.fetchMore$.next(this.currentPage);\r\n        }\r\n    }\r\n\r\n    private rebind(response: any) {\r\n        this.searchItems = response.items;\r\n        this.totalItems = response.totalRecords;\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n\r\n    private append(response: any) {\r\n        this.searchItems = this.searchItems.concat(response.items);\r\n        this.totalItems = response.totalRecords;\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DropdownComponent } from './dropdown.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select'\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { FormModule } from '../form/form.module';\r\n\r\n@NgModule({\r\n  declarations: [DropdownComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule,\r\n    NgSelectModule,\r\n    FormModule\r\n  ],\r\n  exports: [DropdownComponent]\r\n})\r\n\r\nexport class DropdownModule { }\r\n","import { Component, OnDestroy } from '@angular/core';\r\nimport { Router, NavigationStart, NavigationEnd, NavigationCancel, NavigationError } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'katana-spinner',\r\n  templateUrl: './spinner.component.html',\r\n})\r\n\r\nexport class SpinnerComponent implements OnDestroy {\r\n  public isSpinnerVisible = true;\r\n  private subscriptions: Subscription = new Subscription();\r\n\r\n  constructor(private router: Router) {\r\n    const routerSubscription = this.router.events.subscribe((event) => {\r\n      if (event instanceof NavigationStart) {\r\n        this.isSpinnerVisible = true;\r\n      } else if (event instanceof NavigationEnd || event instanceof NavigationCancel || event instanceof NavigationError) {\r\n        this.isSpinnerVisible = false;\r\n      }\r\n    }, () => {\r\n      this.isSpinnerVisible = false;\r\n    });\r\n    this.subscriptions.add(routerSubscription);\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.isSpinnerVisible = false;\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SpinnerComponent } from './spinner.component';\r\n\r\n@NgModule({\r\n  declarations: [SpinnerComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [SpinnerComponent]\r\n})\r\n\r\nexport class SpinnerModule { }\r\n","import { Component, Input } from '@angular/core';\r\nimport { trigger, state, style, AUTO_STYLE, transition, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'katana-card',\r\n  templateUrl: './card.component.html',\r\n  styleUrls: ['./card.component.scss'],\r\n  animations: [trigger('cardToggle', [\r\n    state('collapsed, void',\r\n      style({\r\n        overflow: 'hidden',\r\n        height: '0px',\r\n      })\r\n    ),\r\n    state('expanded',\r\n      style({\r\n        height: AUTO_STYLE,\r\n      })\r\n    ),\r\n    transition('collapsed <=> expanded', [\r\n      animate('400ms ease-in-out')\r\n    ])\r\n  ]), trigger('cardClose', [\r\n    state('open', style({\r\n      opacity: 1\r\n    })),\r\n    state('closed', style({\r\n      opacity: 0,\r\n      display: 'none'\r\n    })),\r\n    transition('open <=> closed', animate('400ms')),\r\n  ])],\r\n})\r\n\r\nexport class CardComponent {\r\n  @Input() public headerContent: string;\r\n  @Input() public title: string;\r\n  @Input() public blockClass: string;\r\n  @Input() public cardClass: string;\r\n  @Input() public classHeader = false;\r\n  public cardToggle = 'expanded';\r\n  public cardClose = 'open';\r\n  public fullCard: string;\r\n  public fullCardIcon: string;\r\n  public loadCard = false;\r\n  public isCardToggled = false;\r\n  public cardLoad: string;\r\n\r\n  public toggleCard(event: any) {\r\n    this.cardToggle = this.cardToggle === 'collapsed' ? 'expanded' : 'collapsed';\r\n  }\r\n\r\n  public closeCard(event: any) {\r\n    this.cardClose = this.cardClose === 'closed' ? 'open' : 'closed';\r\n  }\r\n\r\n  public fullScreen(event: any) {\r\n    this.fullCard = this.fullCard === 'full-card' ? '' : 'full-card';\r\n    this.fullCardIcon = this.fullCardIcon === 'icofont-resize' ? '' : 'icofont-resize';\r\n  }\r\n\r\n  public cardRefresh(event: any) {\r\n    this.loadCard = true;\r\n    this.cardLoad = 'card-load';\r\n    setTimeout(() => {\r\n      this.cardLoad = '';\r\n      this.loadCard = false;\r\n    }, 3000);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CardComponent } from './card.component';\r\n\r\n@NgModule({\r\n  declarations: [CardComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [CardComponent]\r\n})\r\n\r\nexport class CardModule { }\r\n","import { Directive, OnInit } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\nimport { Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordion]',\r\n})\r\n\r\nexport class AccordionDirective implements OnInit {\r\n  protected navlinks: AccordionLinkDirective[] = [];\r\n  private countState = 1;\r\n  private _router: Subscription;\r\n  public constructor(private router: Router) { }\r\n\r\n  public closeOtherLinks(openLink: AccordionLinkDirective): void {\r\n    this.countState++;\r\n    if ((openLink.group !== 'sub-toggled' || openLink.group !== 'main-toggled') && this.countState === 1) {\r\n      if (window.innerWidth < 768 || (window.innerWidth >= 768 && window.innerWidth <= 1024)) {\r\n        const toggledElement = <HTMLElement>document.querySelector('#mobile-collapse');\r\n        toggledElement.click();\r\n      }\r\n    }\r\n    this.navlinks.forEach((link: AccordionLinkDirective) => {\r\n      if (link !== openLink && (link.group === 'sub-toggled' || openLink.group !== 'sub-toggled')) {\r\n        link.open = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  public addLink(link: AccordionLinkDirective): void {\r\n    this.navlinks.push(link);\r\n  }\r\n\r\n  public removeGroup(link: AccordionLinkDirective): void {\r\n    const index = this.navlinks.indexOf(link);\r\n    if (index !== -1) {\r\n      this.navlinks.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  public getUrl() {\r\n    return this.router.url;\r\n  }\r\n\r\n  public ngOnInit(): any {\r\n    this._router = this.router.events.pipe(filter((event) => event instanceof NavigationEnd)).subscribe((event: NavigationEnd) => {\r\n      this.countState = 0;\r\n      this.navlinks.forEach((link: AccordionLinkDirective) => {\r\n        if (link.group) {\r\n          const routeUrl = this.getUrl();\r\n          const currentUrl = routeUrl.split('/');\r\n          if (currentUrl.indexOf(link.group) > 0) {\r\n            link.open = true;\r\n            this.closeOtherLinks(link);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { Directive, HostBinding, Inject, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { AccordionDirective } from './accordion.directive';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordionLink]'\r\n})\r\n\r\nexport class AccordionLinkDirective implements OnInit, OnDestroy {\r\n  @Input() public group: any;\r\n  @HostBinding('class.pcoded-trigger')\r\n  @Input()\r\n\r\n  get open(): boolean {\r\n    return this._open;\r\n  }\r\n\r\n  set open(value: boolean) {\r\n    this._open = value;\r\n    document.querySelector('.pcoded-inner-navbar').classList.toggle('scroll-sidebar');\r\n    if (value) {\r\n      this.nav.closeOtherLinks(this);\r\n    }\r\n  }\r\n\r\n  protected _open: boolean;\r\n  protected nav: AccordionDirective;\r\n\r\n  constructor(@Inject(AccordionDirective) nav: AccordionDirective) {\r\n    this.nav = nav;\r\n  }\r\n\r\n  public ngOnInit(): any {\r\n    this.nav.addLink(this);\r\n  }\r\n\r\n  public ngOnDestroy(): any {\r\n    this.nav.removeGroup(this);\r\n  }\r\n\r\n  public toggle(): any {\r\n    document.querySelector('.pcoded-inner-navbar').classList.add('scroll-sidebar');\r\n    this.open = !this.open;\r\n  }\r\n}\r\n","import { Directive, HostListener, Inject } from '@angular/core';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordionToggle]'\r\n})\r\n\r\nexport class AccordionAnchorDirective {\r\n  protected navlink: AccordionLinkDirective;\r\n\r\n  constructor( @Inject(AccordionLinkDirective) navlink: AccordionLinkDirective) {\r\n    this.navlink = navlink;\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: any) {\r\n    this.navlink.toggle();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AccordionDirective } from './accordion.directive';\r\nimport { AccordionAnchorDirective } from './accordionanchor.directive';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\n\r\n@NgModule({\r\n  declarations: [AccordionAnchorDirective, AccordionDirective, AccordionLinkDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [AccordionAnchorDirective, AccordionDirective, AccordionLinkDirective]\r\n})\r\n\r\nexport class AccordionModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'katanaBadge'\r\n})\r\n\r\nexport class BadgePipe implements PipeTransform {\r\n  transform(value: any, args?: any): any {\r\n    return null;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaCurrency'\r\n})\r\n\r\nexport class CurrencyPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: any, digits?: string, locale?: string): string | null {\r\n    return `${super.transform(value, '1.0')} VNÄ`;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaDate'\r\n})\r\n\r\nexport class CDatePipe extends DatePipe implements PipeTransform {\r\n  transform(value: any, args?: any): any {\r\n    return super.transform(value, 'dd/MM/yyyy');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaDateTime'\r\n})\r\nexport class CDatetimePipe extends DatePipe implements PipeTransform {\r\n  transform(value: Date) {\r\n    return super.transform(value, 'dd/MM/yyyy HH:mm');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaTime'\r\n})\r\n\r\nexport class TimePipe extends DatePipe implements PipeTransform {\r\n  transform(value: Date) {\r\n    return super.transform(value, 'hh:mm');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaNumber'\r\n})\r\n\r\nexport class NumberPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: any, digits?: string, locale?: string): string | null {\r\n    return super.transform(value, '1.0');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n    name: 'katanaSafe'\r\n})\r\n\r\nexport class SafePipe implements PipeTransform {\r\n    constructor(\r\n        private sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    transform(value: any) {\r\n        return this.sanitizer.bypassSecurityTrustHtml(value);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n    name: 'katanaEmbedVideo'\r\n})\r\n\r\nexport class CembedVideoPipe implements PipeTransform {\r\n    constructor(\r\n        private sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    transform(text: any) {\r\n        let result = text;\r\n        const extractOembedTagPattern = new RegExp('<\\s*oembed[^>]*>.*?<\\s*\\/\\s*oembed>', 'gm');\r\n        let extractOembedTagsResult = extractOembedTagPattern.exec(text);\r\n        if (extractOembedTagsResult && extractOembedTagsResult.length) {\r\n            const oembedTags = [...extractOembedTagsResult];\r\n            while (extractOembedTagsResult) {\r\n                extractOembedTagsResult = extractOembedTagPattern.exec(text);\r\n                if (extractOembedTagsResult && extractOembedTagsResult.length) {\r\n                    oembedTags.push(...extractOembedTagsResult);\r\n                }\r\n            }\r\n\r\n            const videoTags = oembedTags.map(tag => {\r\n                const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(tag);\r\n                const videoLink = match[1];\r\n                const videoTag = `<iframe src=\"https://www.youtube.com/embed/${videoLink}\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>`;\r\n                return videoTag;\r\n            });\r\n\r\n            videoTags.forEach(tag => {\r\n                result = text.replace(extractOembedTagPattern, tag);\r\n            });\r\n        }\r\n\r\n        return this.sanitizer.bypassSecurityTrustHtml(result);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaKb'\r\n})\r\n\r\nexport class KbPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: number, digits?: string, locale?: string): string | null {\r\n    return `${super.transform(Math.round(value / 1024), '1.0')} KB`;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaFile'\r\n})\r\n\r\nexport class FilePipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: string, digits?: string, locale?: string): string | null {\r\n    if (!value) return '';\r\n    var name = value.toString();\r\n    var data = name.split('.');\r\n    if (data.length == 1) return `${data[0]}`;\r\n    var index = name.indexOf(data[data.length - 1]);\r\n    return `${name.substring(0, index - 1)} ${data[data.length - 1]}`;\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CurrencyPipe } from './currency.pipe';\r\nimport { CDatePipe } from './date.pipe';\r\nimport { CDatetimePipe } from './datetime.pipe';\r\nimport { TimePipe } from './time.pipe';\r\nimport { NumberPipe } from './number.pipe';\r\nimport { BadgePipe } from './badge.pipe';\r\nimport { SafePipe } from './safe.pipe';\r\nimport { CembedVideoPipe } from './oembed-video.pipe';\r\nimport { KbPipe } from './kb.pipe';\r\nimport { FilePipe } from './file.pipe';\r\n\r\nconst pipes = [\r\n  CurrencyPipe,\r\n  CDatePipe,\r\n  CDatetimePipe,\r\n  TimePipe,\r\n  NumberPipe,\r\n  BadgePipe,\r\n  SafePipe,\r\n  CembedVideoPipe,\r\n  KbPipe,\r\n  FilePipe\r\n];\r\n\r\n@NgModule({\r\n  declarations: pipes,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: pipes\r\n})\r\n\r\nexport class FormatterModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FormatterModule,\r\n      providers: [\r\n      ]\r\n    };\r\n  }\r\n\r\n  public static forChild(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FormatterModule,\r\n      providers: pipes\r\n    };\r\n  }\r\n}\r\n","export class KeyConst {\r\n    public static ViewImage = 'VIEW_IMAGE';\r\n    public static PageChanged = 'PAGE_CHANGED';\r\n    public static NewNotifications = 'NEW_NOTIFICATIONS';\r\n    public static MenuChanged = 'MENU_CHANGED';\r\n}","export class MenuKey {\r\n    public static Admin: string = 'Admin';\r\n    public static Admin2: string = 'Admin2';\r\n}","import { Component, Input, Output, EventEmitter, SimpleChanges, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'katana-checkbox',\r\n    templateUrl: './checkbox.component.html',\r\n    styleUrls: ['./checkbox.component.scss']\r\n})\r\n\r\nexport class CheckboxComponent implements OnDestroy {\r\n    @Input() public model: boolean;\r\n    @Input() public title: string;\r\n    @Input() public customModel: any;\r\n    @Output() public customModelChange: EventEmitter<any> = new EventEmitter();\r\n    @Input() public customModelTransformation: (value: any) => any;\r\n    @Input() public disabled: boolean;\r\n    @Input() public direction: 'vertical' | 'horizontal' = 'horizontal';\r\n    @Input() validationName: string;\r\n    @Input() validationScope: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    @Output() public modelChange: EventEmitter<boolean> = new EventEmitter();\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.customModel) {\r\n            const value = changes.customModel.currentValue;\r\n            this.model = this.customModelTransformation(value);\r\n            this.customModelChange.emit(value);\r\n        }\r\n    }\r\n\r\n    public onModelChange(value: boolean) {\r\n        if (this.customModelTransformation) {\r\n            const newValue = this.customModelTransformation(value);\r\n            this.customModelChange.emit(newValue);\r\n        } else {\r\n            this.modelChange.emit(value);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.emitNullOnDestroy === true)\r\n            this.modelChange.emit(null);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CheckboxComponent } from './checkbox.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [CheckboxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule\r\n  ],\r\n  exports: [CheckboxComponent]\r\n})\r\n\r\nexport class CheckboxModule { }\r\n","import { Component, Input, Output, EventEmitter, OnDestroy, ContentChild, AfterViewInit, ViewChildren, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormDirectorExtraItemDirective } from '../form';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n  selector: 'katana-textbox',\r\n  templateUrl: './textbox.component.html',\r\n  styleUrls: ['./textbox.component.scss']\r\n})\r\n\r\nexport class TextboxComponent implements OnDestroy, AfterViewInit {\r\n  @Input() public title: string;\r\n  @Input() public model: string | number;\r\n  @Input() public type: 'text' | 'currency' | 'phone' | 'email' | 'number' | 'password' = 'text';\r\n  @Input() public name: string;\r\n  @Input() public placeholder: string = 'Äiá»n thÃ´ng tin';\r\n  @Input() public readonly: boolean = false;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public maxCharacters: number = 100;\r\n  @Input() public minNumber: number;\r\n  @Input() public maxNumber: number;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n  @Input() public alignVertical: boolean = true;\r\n  @Input() public controlName: string;\r\n  @Input() public description: string;\r\n  @Input() public emitNullOnDestroy: boolean = false;\r\n  @Input() public suffix: string;\r\n  @Input() public item: any;\r\n  @Input() public focus: boolean;\r\n  @Output() public modelChange: EventEmitter<string | number> = new EventEmitter();\r\n  @ContentChild(FormDirectorExtraItemDirective, { static: true }) extraLabelItem: FormDirectorExtraItemDirective;\r\n  @ViewChild('itemRef', { static: true }) public itemRef: ElementRef;\r\n\r\n  constructor(\r\n    private _actionService: ActionService\r\n  ) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.focus) {\r\n      this._actionService.executeAsync(() => {\r\n        var elements = document.getElementsByTagName('input');\r\n        if (elements) {\r\n          for (let i = 0; i < elements.length; i++) {\r\n            if (elements[i].id == this.item.id) {\r\n              elements[i].focus();\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy === true) {\r\n      this.modelChange.emit(null);\r\n    }\r\n  }\r\n\r\n  public submitNumeric(newValue: number) {\r\n    if (this.minNumber && newValue < this.minNumber) {\r\n      this.modelChange.emit(this.minNumber);\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    if (this.maxNumber && newValue > this.maxNumber) {\r\n      this.modelChange.emit(this.maxNumber);\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    this.modelChange.emit(newValue);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TextboxComponent } from './textbox.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\nimport { FormModule } from '../form/form.module';\r\nimport { CURRENCY_MASK_CONFIG } from 'ng2-currency-mask/src/currency-mask.config';\r\n\r\nexport const CustomCurrencyMaskConfig = {\r\n  align: 'left',\r\n  allowNegative: false,\r\n  decimal: '.',\r\n  precision: 0,\r\n  prefix: '',\r\n  suffix: ' VNÄ',\r\n  thousands: ','\r\n};\r\n\r\n@NgModule({\r\n  declarations: [TextboxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FormModule,\r\n    CurrencyMaskModule\r\n  ],\r\n  exports: [TextboxComponent],\r\n  providers: [\r\n    { provide: CURRENCY_MASK_CONFIG, useValue: CustomCurrencyMaskConfig }\r\n  ]\r\n})\r\n\r\nexport class TextboxModule {\r\n}\r\n\r\n","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-row-detail]'\r\n})\r\n\r\nexport class TableRowDetailDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) {}\r\n}","import { Observable } from 'rxjs';\r\nimport { TableComponent } from './table.component';\r\nimport { TemplateRef, ElementRef, Type } from '@angular/core';\r\n\r\nexport interface TableEditInline {\r\n  enabled?: boolean;\r\n  autoCommit?: boolean;\r\n  createAsync?: (item: any) => Observable<any>;\r\n  updateAsync?: (item: any, column?: TableColumn) => Observable<any>;\r\n}\r\n\r\nexport interface TableCell {\r\n  item?: any;\r\n  column?: TableColumn;\r\n}\r\n\r\nexport class TableColumn {\r\n  title?: () => string;\r\n  valueRef?: () => any;\r\n  direction?: string;\r\n  allowSort?: boolean;\r\n  allowFilter?: boolean;\r\n  order?: number;\r\n  customClass?: string;\r\n  defaultSorter?: boolean;\r\n  width?: number;\r\n  textAlign?: string;\r\n  type?: TableColumnType;\r\n  showTooltip?: boolean;\r\n  editInline?: boolean;\r\n  callback?: (provider?: TableComponent, element?: ElementRef, $event?: any) => any;\r\n  customTemplate?: () => TemplateRef<any>;\r\n  hide?: () => boolean;\r\n  dropdownConfiguration?: {\r\n    searchFunction: (text: string, index: number, currentPage: number, pageSize: number) => Observable<{ items: any[], totalRecords: number }>,\r\n    multiple?: boolean,\r\n    bindLabel: string,\r\n    bindValue: string,\r\n  };\r\n  id?: string;\r\n  filterTemplate?: () => TemplateRef<any>;\r\n\r\n  constructor(init?: Partial<TableColumn>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TableSorter {\r\n  direction?: string;\r\n  orderBy?: string;\r\n  order?: number;\r\n}\r\n\r\nexport class TableAction {\r\n  id?: string;\r\n  title?: () => string;\r\n  tooltip?: () => string;\r\n  icon?: string;\r\n  type?: string = TableConstant.ActionType.Inline;\r\n  customClass?: string;\r\n  executeAsync?: (item?: any, element?: ElementRef, provider?: any, index?: number, loadedCallback?: Function) => any;\r\n  disabled?: boolean;\r\n  hide?: (item?: any) => boolean;\r\n  lazyload?: boolean;\r\n  constructor(init?: Partial<TableAction>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport interface TableRequest {\r\n  searchText?: string;\r\n  pageSize?: number;\r\n  pageIndex?: number;\r\n  sorters?: TableSorter[];\r\n  data?: any;\r\n}\r\n\r\nexport class TableText {\r\n  placeholderSearch?: string = TableConstant.DisplayText.PlaceholderSearch;\r\n  btnSearch?: string = TableConstant.DisplayText.BtnSearch;\r\n  btnReset?: string = TableConstant.DisplayText.BtnReset;\r\n  action?: string = TableConstant.DisplayText.Action;\r\n  selectPageSize?: string = TableConstant.DisplayText.SelectPageSize;\r\n  deleteTitle?: string = TableConstant.DisplayText.DeleteTitle;\r\n  btnAcceptTitle?: string = TableConstant.DisplayText.BtnAcceptTitle;\r\n  btnCancelTitle?: string = TableConstant.DisplayText.BtnCancelTitle\r\n  filterTitle?: string = TableConstant.DisplayText.FilterTitle;\r\n  applyFilter?: string = TableConstant.DisplayText.ApplyFilter;\r\n  detailTitle?: string = TableConstant.DisplayText.DetailTitle;\r\n  pageTitle?: string = TableConstant.DisplayText.PageTitle;\r\n  advancedSearchTitle?: string = TableConstant.DisplayText.AdvancedSearchTitle;\r\n  advancedBtnTitle?: string = TableConstant.DisplayText.AdvancedBtnTitle;\r\n  advancedBtnCancelTitle?: string = TableConstant.DisplayText.AdvancedBtnCancelTitle;\r\n  allTitle?: string = TableConstant.DisplayText.AllTitle;\r\n}\r\n\r\nexport class TableMessage {\r\n  notFoundMessage?: string = TableConstant.Message.NotFoundMessage;\r\n  foundMessage?: string = TableConstant.Message.FoundMessage;\r\n  invalidFormatMessage?: string = TableConstant.Message.InvalidFormatMessage;\r\n  selectedItemsMessage?: string = TableConstant.Message.SelectedItemsMessage;\r\n  confirmSelectAllRecordsMessage?: string = TableConstant.Message.ConfirmSelectAllRecordsMessage;\r\n  confirmClearAllRecordsMessage?: string = TableConstant.Message.ConfirmClearAllRecordsMessage;\r\n  deleteMessage?: string = TableConstant.Message.DeleteMessage;\r\n  loadingMessage?: string = TableConstant.Message.LoadingMessage;\r\n  refMessage?: string = TableConstant.Message.RefMessage;\r\n}\r\n\r\nexport interface TableResponse<T> {\r\n  totalRecords?: number;\r\n  items?: T[];\r\n}\r\n\r\nexport interface TableServiceProvider {\r\n  searchAsync?: (request?: any) => Observable<any>;\r\n  createAsync?: (item: any) => Observable<any>;\r\n  updateAsync?: (item: any) => Observable<any>;\r\n  deleteAsync?: (ids: string, all?: boolean) => Observable<any>;\r\n  exportAsync?: (request?: any) => Observable<any>;\r\n}\r\n\r\nexport class TableDatetimeFormat {\r\n  format: string = 'MM/dd/yyyy';\r\n  full: boolean = true;\r\n  constructor(init: Partial<TableDatetimeFormat>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class EdittedField {\r\n  item: any;\r\n  field?: string;\r\n  index?: number;\r\n  constructor(init: Partial<EdittedField>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TableOption {\r\n  sort?: (a: any, b: any, orderBy: string) => number;\r\n  multiple?: boolean = true;\r\n  datetimeFormat?: TableDatetimeFormat = new TableDatetimeFormat({});\r\n  paging?: boolean;\r\n  selectedItems?: any[];\r\n  serviceProvider?: TableServiceProvider;\r\n  localData?: () => any[];\r\n  request?: TableRequest;\r\n  mainColumns: TableColumn[] = [];\r\n  displayText?: TableText;\r\n  message?: TableMessage;\r\n  componentClass?: string;\r\n  actions?: TableAction[] = [];\r\n  topButtons?: TableAction[] = [];\r\n  rowDetailTemplate?: Type<any>;\r\n  expandFilterArea?: boolean;\r\n  pageSizes?: number[];\r\n  defaultPageSize?: number = 5;\r\n  totalToolbarItem?: number = 5;\r\n  maxPage?: number;\r\n  key?: string;\r\n  title?: string;\r\n  maxLenghtext?: number;\r\n  mode: TableMode = TableMode.full;\r\n  hideSequenceColumn?: boolean = false;\r\n  hideCheckboxColumn?: boolean = false;\r\n  displayMode?: 'list' | 'full';\r\n  defaultOrderBy?: string;\r\n  defautOrderDirection?: string;\r\n  inlineEdit?: boolean = false;\r\n  searchFields?: string[];\r\n  constructor(init: Partial<TableOption>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport enum TableMode {\r\n  compact = 'compact',\r\n  full = 'full'\r\n}\r\n\r\n\r\nexport class TableConstant {\r\n  public static ComponentClass: string = 'primary';\r\n  public static Key: string = 'name';\r\n  public static DatetimeLocate: string = 'vi-VN';\r\n  public static PageSizes: number[] = [5, 10, 15, 20, 50];\r\n  public static Message = {\r\n    NotFoundMessage: 'ChÆ°a cÃ³ thÃ´ng tin',\r\n    InvalidFormatMessage: 'khÃ´ng há»£p lá».',\r\n    FoundMessage: 'TÃ¬m tháº¥y <span class=\"confirm-highlight\">[0]</span> káº¿t quáº£.',\r\n    SelectedItemsMessage: 'ÄÃ£ chá»n <span class=\"highlight\">[0]</span> báº£n ghi.',\r\n    ConfirmSelectAllRecordsMessage: '<span class=\"confirm-highlight\">Chá»n táº¥t cáº£ káº¿t quáº£?</span>',\r\n    ConfirmClearAllRecordsMessage: '<span class=\"confirm-highlight text-danger\">Bá» chá»n táº¥t cáº£ </span>?',\r\n    DeleteMessage: 'Báº¡n cÃ³ cháº¯c cháº¯n muá»n xÃ³a <span class=\"confirm-highlight text-danger\">[0]</span> khÃ´ng?',\r\n    LoadingMessage: 'Äang táº£i dá»¯ liá»u...',\r\n    RefMessage: 'liÃªn quan tá»i'\r\n  };\r\n\r\n  public static DisplayText = {\r\n    PlaceholderSearch: 'Nháº­p tá»« khÃ³a tÃ¬m kiáº¿m...',\r\n    BtnReset: 'KhÃ´i phá»¥c',\r\n    BtnSearch: 'TÃ¬m kiáº¿m',\r\n    Action: 'HÃ nh Äá»ng',\r\n    SelectPageSize: 'Hiá»n thá»',\r\n    DeleteTitle: 'XÃ³a',\r\n    BtnAcceptTitle: 'Äá»ng Ã½',\r\n    BtnCancelTitle: 'ÄÃ³ng',\r\n    FilterTitle: 'TÃ¬m kiáº¿m theo',\r\n    ApplyFilter: 'Ãp dá»¥ng lá»c',\r\n    DetailTitle: 'ThÃ´ng tin chi tiáº¿t',\r\n    PageTitle: 'Trang',\r\n    AdvancedSearchTitle: 'TÃ¬m kiáº¿m nÃ¢ng cao',\r\n    AdvancedBtnTitle: 'TÃ¬m kiáº¿m',\r\n    AdvancedBtnCancelTitle: 'Há»§y bá»',\r\n    AllTitle: 'Táº¥t cáº£'\r\n  };\r\n\r\n  public static Direction = {\r\n    ASC: 'asc',\r\n    DESC: 'desc'\r\n  };\r\n\r\n  public static TextAlign = {\r\n    Left: 'left',\r\n    Right: 'right',\r\n    Center: 'center'\r\n  };\r\n\r\n  public static Action = {\r\n    Edit: 'edit',\r\n    Delete: 'delete',\r\n    Custom: 'Custom'\r\n  }\r\n  public static ActionType = {\r\n    Both: 'both',\r\n    Toolbar: 'toolbar',\r\n    Inline: 'inline'\r\n  }\r\n};\r\n\r\nexport enum TableColumnType {\r\n  Number = 'number',\r\n  String = 'string',\r\n  Date = 'date',\r\n  DateTime = 'datetime',\r\n  DateRange = 'daterange',\r\n  DateTimeRange = 'datetimerange',\r\n  Time = 'time',\r\n  TimeRange = 'timerange',\r\n  Boolean = 'boolean',\r\n  Description = 'description',\r\n  Currency = 'currency',\r\n  Dropdown = 'dropdown',\r\n  Custom = 'custom',\r\n}","import { Component, OnInit, Input, ViewChild, ElementRef, ContentChild, Renderer2, RendererFactory2, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\nimport { TableOption, TableColumn, TableAction, TableMode, TableConstant, TableResponse, TableText, TableMessage, TableColumnType, EdittedField } from './table.model';\r\nimport { TableRowDetailDirective } from './table-row-detail.directive';\r\nimport { Observable, of, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\nimport { DataService } from '../services/data.service';\r\nimport { delay } from \"rxjs/operators\";\r\n\r\n@Component({\r\n  selector: 'katana-table',\r\n  templateUrl: './table.component.html',\r\n  styleUrls: ['./table.component.scss'],\r\n  animations: [\r\n    trigger('cAnimation', [\r\n      state('void', style({})),\r\n      state('*', style({})),\r\n      transition(':enter', [\r\n        style({ transform: 'translateY(-30px)', opacity: 0 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateY(0)', opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        style({ transform: 'translateY(0)', opacity: 1 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateY(-30px)', opacity: 0 }))\r\n      ])\r\n    ]),\r\n    trigger('cAnimationFadeRight', [\r\n      state('void', style({})),\r\n      state('*', style({})),\r\n      transition(':enter', [\r\n        style({ transform: 'translateX(30px)', opacity: 0 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateX(0)', opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        style({ transform: 'translateX(0)', opacity: 1 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateX(30px)', opacity: 0 }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class TableComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() public option: TableOption;\r\n  @ViewChild('searchRef', { static: true }) public searchRef: ElementRef;\r\n  @ViewChild('gotoRef', { static: true }) public gotoRef: ElementRef;\r\n  @ViewChild('tableRef', { static: true }) public tableRef: ElementRef;\r\n  @ContentChild(TableRowDetailDirective, { static: true }) public rowDetailTemplate: TableRowDetailDirective;\r\n  public items: any[] = [];\r\n  public totalRecords: number = 0;\r\n  public loading: boolean;\r\n  public selectedItems: any[] = [];\r\n  public pageSize: number;\r\n  public orderBy: string;\r\n  public direction: string;\r\n  public totalPages: number[] = [];\r\n  public currentPage: number = 0;\r\n  public filter: any = {};\r\n  public maxPage: number = 5;\r\n  public selectedAll: boolean = false;\r\n  public filterColumns: TableColumn[] = [];\r\n  public toolbarActions: TableAction[] = [];\r\n  public inlineActions: TableAction[] = [];\r\n  public filterSectionToggle: boolean = false;\r\n  public textSearched: string = ``;\r\n  public showReset: boolean = false;\r\n  private defaultPageSize: number = 5;\r\n  private localData?: any[];\r\n  private _render: Renderer2;\r\n  public hasFilterSection: boolean;\r\n  public hasToolbarSection: boolean;\r\n  public hasFooterSection: boolean;\r\n  public hasDetailTemplate: boolean;\r\n  public hasPageSizeChooser: boolean;\r\n  public changePage$: BehaviorSubject<number> = new BehaviorSubject(0);\r\n  private request: any = {};\r\n  private previousRequest: any = {};\r\n  private recursiveCounter: number = 0;\r\n  private subscriptions: Subscription = new Subscription();\r\n  protected edittedFields: EdittedField[] = [];\r\n\r\n  constructor(\r\n    private thisElement: ElementRef,\r\n    protected rendererFactory: RendererFactory2,\r\n    protected dataService: DataService\r\n  ) {\r\n    this._render = rendererFactory.createRenderer(null, null);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.init();\r\n    const changePageSubscription = this.changePage$.pipe(distinctUntilChanged()).subscribe(pageIndex => {\r\n      if (pageIndex < 0 || pageIndex >= this.totalPages.length) return;\r\n      this.currentPage = pageIndex;\r\n      if (!this.option.request) {\r\n        this.option.request = {};\r\n      }\r\n      this.option.request.pageIndex = this.currentPage;\r\n      this.searchAsync(null, null, true).subscribe();\r\n    });\r\n    this.subscriptions.add(changePageSubscription);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.registerEvents();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  public init(): void {\r\n    if (this.option.selectedItems && this.option.selectedItems.length > 0) {\r\n      if (!this.selectedItems) this.selectedItems = [];\r\n      this.option.selectedItems.forEach((item) => {\r\n        this.selectedItems.push(item);\r\n      });\r\n    }\r\n\r\n    if (!this.option.mode) this.option.mode = TableMode.full;\r\n    if (!this.option.actions) this.option.actions = [];\r\n    if (!this.option.key) this.option.key = TableConstant.Key;\r\n    if (!this.option.totalToolbarItem) this.option.totalToolbarItem = 5;\r\n    if (this.option.maxPage) this.maxPage = this.option.maxPage;\r\n    if (!this.option.defaultOrderBy) this.option.defaultOrderBy = 'CreatedDate';\r\n    if (!this.option.defautOrderDirection) this.option.defautOrderDirection = TableConstant.Direction.DESC;\r\n    if (!this.option.componentClass) {\r\n      this.option.componentClass = TableConstant.ComponentClass;\r\n      this.thisElement.nativeElement.classList.add(this.option.componentClass);\r\n    }\r\n\r\n    if (this.option.maxLenghtext === undefined || this.option.maxLenghtext === null) {\r\n      this.option.maxLenghtext = 150;\r\n    }\r\n\r\n    this.initTableTableTexts();\r\n    this.initTableTableMessages();\r\n    this.initMainColumns();\r\n    if (this.option.actions) {\r\n      this.option.actions.forEach((action) => {\r\n        if (!action.type) action.type = TableConstant.ActionType.Inline;\r\n      });\r\n    }\r\n    this.toolbarActions = this.option.actions.filter(x => [TableConstant.ActionType.Both, TableConstant.ActionType.Toolbar].indexOf(x.type) >= 0);\r\n    this.inlineActions = this.option.actions.filter(x => [TableConstant.ActionType.Both, TableConstant.ActionType.Inline].indexOf(x.type) >= 0);\r\n\r\n    const inFullMode = this.option.mode === TableMode.full;\r\n    this.filterColumns = this.option.mainColumns.filter(column => column.allowFilter)\r\n      .sort((a: TableColumn, b: TableColumn) => a.order > b.order ? 1 : a.order === b.order ? 0 : -1);\r\n    this.hasFilterSection = inFullMode;\r\n\r\n    if (this.option.paging === undefined) {\r\n      this.option.paging = inFullMode;\r\n    }\r\n\r\n    if (inFullMode) {\r\n      if (!this.option.pageSizes) this.option.pageSizes = TableConstant.PageSizes;\r\n      if (!this.option.defaultPageSize) this.option.defaultPageSize = TableConstant.PageSizes[0];\r\n      if (this.option.defaultPageSize) this.defaultPageSize = this.option.defaultPageSize;\r\n    }\r\n\r\n    const hasToolbarActions = this.option.actions && this.option.actions.filter(x => [TableConstant.ActionType.Toolbar, TableConstant.ActionType.Both].indexOf(x.type) >= 0).length > 0;\r\n    const hasTopButtons = this.option.topButtons && this.option.topButtons.length > 0;\r\n\r\n    this.hasToolbarSection = inFullMode || hasToolbarActions || hasTopButtons;\r\n    this.hasFooterSection = inFullMode || this.option.paging;\r\n    this.hasPageSizeChooser = this.option.paging;\r\n    if (this.option.hideCheckboxColumn === undefined) {\r\n      this.option.hideCheckboxColumn = !hasToolbarActions;\r\n    }\r\n\r\n    if (!this.option.request) {\r\n      this.option.request = {\r\n        pageIndex: 0,\r\n        pageSize: this.defaultPageSize\r\n      };\r\n      if (this.option.defaultPageSize) {\r\n        this.option.request.pageSize = this.option.defaultPageSize;\r\n        this.pageSize = this.option.request.pageSize;\r\n      }\r\n      this.searchAsync().subscribe();\r\n    } else {\r\n      if (!this.option.request.pageSize) {\r\n        this.pageSize = this.option.request.pageSize;\r\n      } else {\r\n        this.pageSize = this.defaultPageSize;\r\n      }\r\n      this.searchAsync().subscribe();\r\n    }\r\n  }\r\n\r\n  public callback(): Observable<any> {\r\n    return of(this.selectedItems);\r\n  }\r\n\r\n  public copy(item: any, refresh: boolean = true, execute?: (item: any) => void, callback?: (copyItem: any) => void): void {\r\n    if (!this.items) this.items = [];\r\n    var copyItem = this.dataService.cloneItem(item);\r\n    if (copyItem.id) copyItem.id = this.dataService.newGuid();\r\n    if (execute) {\r\n      execute(copyItem);\r\n    }\r\n    if (this.option.localData) {\r\n      this.localData.push(copyItem);\r\n    }\r\n    this.items.push(copyItem);\r\n    if (callback) callback(copyItem);\r\n    if (refresh == true) {\r\n      this.searchAsync(true).subscribe();\r\n    }\r\n  }\r\n\r\n  public acceptInlineEdit(field: string, index: number): void {\r\n    this.closeInlineEdit(field, index);\r\n  }\r\n\r\n  public cancelInlineEdit(item: any, field: string, index: number): void {\r\n    var currentItem = this.retrieveInlineEdit(field, index);\r\n    if (!currentItem) return;\r\n    item[field] = currentItem.item[field];\r\n    this.closeInlineEdit(field, index);\r\n  }\r\n\r\n  public closeInlineEdit(field: string, index: number): void {\r\n    var itemIndex = this.edittedFields.findIndex(s => s.field == field && s.index == index);\r\n    if (itemIndex > -1) this.edittedFields.splice(itemIndex, 1);\r\n  }\r\n\r\n  public editInline(item: any, field: string, index: number): void {\r\n    if (!item) return;\r\n    var currentItem = this.retrieveInlineEdit(field, index);\r\n    if (!currentItem) {\r\n      this.edittedFields.push({\r\n        item: this.dataService.cloneItem(item),\r\n        index: index,\r\n        field: field\r\n      });\r\n    } else {\r\n      currentItem.item = this.dataService.cloneItem(item);\r\n    }\r\n  }\r\n\r\n  public hasInlineEdit(item: any, field: string, index: number): boolean {\r\n    if (!this.option || this.option.inlineEdit != true) return false;\r\n    if (!item || !this.edittedFields || this.edittedFields.length == 0) return false;\r\n    return (<EdittedField[]>this.edittedFields).findIndex(s => s.field == field && s.index == index) > -1;\r\n  }\r\n\r\n  public retrieveInlineEdit(field: string, index: number): EdittedField {\r\n    if (!this.edittedFields || this.edittedFields.length == 0) return null;\r\n    return (<EdittedField[]>this.edittedFields).find(s => s.field == field && s.index == index);\r\n  }\r\n\r\n  public resetFilters(): void {\r\n    this.filter = {};\r\n    this.selectedItems = [];\r\n    this.selectedAll = false;\r\n    this.filterSectionToggle = false;\r\n    this.totalPages = [];\r\n    this.option.request.pageIndex = 0;\r\n    this.currentPage = 0;\r\n    if (!this.option.request.pageSize) {\r\n      this.pageSize = this.option.request.pageSize;\r\n    } else {\r\n      this.pageSize = this.defaultPageSize;\r\n    }\r\n    this.option.request.pageSize = this.pageSize;\r\n    this.searchAsync().subscribe();\r\n    this.showReset = false;\r\n    this.request = {};\r\n  }\r\n\r\n  public getToolbarActions(standard: boolean): TableAction[] {\r\n    let actions: TableAction[] = [];\r\n    if (this.toolbarActions) {\r\n      this.toolbarActions.forEach((action, index) => {\r\n        if (!standard) {\r\n          if (index >= this.option.totalToolbarItem) {\r\n            actions.push(action);\r\n          }\r\n        } else {\r\n          if (index < this.option.totalToolbarItem) {\r\n            actions.push(action);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return actions;\r\n  }\r\n\r\n  public changePageSize(): void {\r\n    this.option.request.pageSize = this.pageSize;\r\n    this.option.request.pageIndex = 0;\r\n    this.searchAsync().subscribe();\r\n  }\r\n\r\n  public handkeKeypress($event): void {\r\n    if ($event && $event.which == 13) {\r\n      this.searchAsync().subscribe();\r\n    }\r\n  }\r\n\r\n  public goto($event: any, blur?: boolean): void {\r\n    if ($event.which == 13 || blur == true) {\r\n      this.currentPage = $event.target.value - 1;\r\n      if (this.currentPage < 0) this.currentPage = 0;\r\n      if (this.currentPage >= this.totalPages.length) {\r\n        this.currentPage = this.totalPages.length - 1;\r\n      }\r\n      $event.target.value = this.currentPage + 1;\r\n      this.changePage$.next(this.currentPage);\r\n    } else {\r\n      if ($event.which < 48 || $event.which > 57) $event.preventDefault();\r\n    }\r\n  }\r\n\r\n  public toggleFilterSection() {\r\n    this.filterSectionToggle = !this.filterSectionToggle;\r\n  }\r\n\r\n  public showSorter(column: TableColumn, direction: string): boolean {\r\n    return column.direction === direction;\r\n  }\r\n\r\n  public toggleRowDetail(item: any) {\r\n    item.toggle = !item.toggle;\r\n  }\r\n\r\n  public sortAsync(column: TableColumn): void {\r\n    if (!column.valueRef) return;\r\n    this.resetSortAsync(column);\r\n    if (column && column.allowSort != false) {\r\n      if (!column.direction) {\r\n        column.direction = TableConstant.Direction.ASC;\r\n      } else {\r\n        column.direction = column.direction == TableConstant.Direction.ASC ? TableConstant.Direction.DESC : TableConstant.Direction.ASC;\r\n      }\r\n    }\r\n    this.orderBy = this.dataService.toPascalCase(column.valueRef());\r\n    this.direction = column.direction;\r\n    this.searchAsync(null, null, false).subscribe();\r\n  }\r\n\r\n  public selectAll(selected: boolean): void {\r\n    this.selectedItems = selected ? [...this.items] : [];\r\n  }\r\n\r\n  public clearAll(): void {\r\n    this.selectedItems = [];\r\n    this.selectedAll = false;\r\n  }\r\n\r\n  public selectItem(item: any): void {\r\n    const selectedIds = this.selectedItems.map(x => x.id);\r\n    const existingItemIndex = selectedIds.indexOf(item.id);\r\n    if (existingItemIndex >= 0) {\r\n      this.selectedItems.splice(existingItemIndex, 1);\r\n    } else {\r\n      this.selectedItems.push(item);\r\n    }\r\n    if (!this.option.multiple) {\r\n      const currentItem = this.selectedItems.find(s => s.id == item.id);\r\n      if (currentItem) {\r\n        this.selectedItems = [currentItem];\r\n      }\r\n    }\r\n  }\r\n\r\n  public isRowSelected(item: any) {\r\n    const selectedIds = this.selectedItems.map(x => x.id);\r\n    return selectedIds.indexOf(item.id) >= 0;\r\n  }\r\n\r\n  public hasAnyAction(item?: any): boolean {\r\n    const aliveActions = this.inlineActions.filter(x => !x.hide || !x.hide(item));\r\n    return aliveActions.length > 0;\r\n  }\r\n\r\n  public executeActionAsync(action: TableAction, item?: any, $event?: any, index?: number, loadedCallback?: Function): void {\r\n    if (action) {\r\n      const target = $event ? $event.target : null;\r\n      action.executeAsync(item, target, this, index, loadedCallback);\r\n    }\r\n  }\r\n\r\n  public isActive(item: any): boolean {\r\n    if (this.selectedItems.length === 0) return false;\r\n\r\n    const currentItem = this.selectedItems.find(s => s.id === item.id);\r\n    return currentItem && currentItem.checkedRow;\r\n  }\r\n\r\n  public getCurrentIndex(index: number): number {\r\n    if (this.option.request) {\r\n      return this.option.request.pageIndex * this.option.request.pageSize + index + 1;\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  public getDropdownDisplayText(column: TableColumn, item: any) {\r\n    const values = item[column.valueRef()];\r\n    if (!values) return '';\r\n\r\n    if (values instanceof Array) {\r\n      const result = <string[]>values.filter(x => x).map(x => x[column.dropdownConfiguration.bindLabel]);\r\n      return result.join(', ');\r\n    }\r\n    return values[column.dropdownConfiguration.bindLabel];\r\n  }\r\n\r\n  public getPages(n: number): number[] {\r\n    let pages = [];\r\n    if (this.totalPages.length < n) {\r\n      for (let i = this.totalPages.length - 1; i >= 0; i--) {\r\n        pages.push(i);\r\n      }\r\n      return pages;\r\n    }\r\n    if (this.currentPage < n) {\r\n      for (let i = n - 1; i >= 0; i--) {\r\n        pages.push(i);\r\n      }\r\n    } else {\r\n      const count = Math.floor(n / 2);\r\n      const max = this.currentPage + count >= this.totalPages.length ? this.totalPages.length - 1 : this.currentPage + count;\r\n      for (let i = max; i >= this.currentPage - count; i--) {\r\n        pages.push(i);\r\n      }\r\n    }\r\n    return pages;\r\n  }\r\n\r\n  public reload(keepSelectedItems: boolean = false): Observable<boolean> {\r\n    return this.searchAsync(null, null, keepSelectedItems);\r\n  }\r\n\r\n  public search(advancedFilter?: boolean) {\r\n    this.searchAsync(advancedFilter).subscribe();\r\n  }\r\n\r\n  public trackRecords(record: any) {\r\n    return record ? record.id : undefined;\r\n  }\r\n\r\n  public searchAsync(advancedFilter?: boolean, currentPage?: number, keepSelectedItems: boolean = true): Observable<boolean> {\r\n    this.loading = true;\r\n    const request = this.buildRequest(currentPage, advancedFilter);\r\n    if (this.option.localData) {\r\n      this.localData = this.option.localData();\r\n      this.searchLocalItems(request).subscribe((response) => {\r\n        this.bindResultData(response, keepSelectedItems);\r\n      });\r\n    } else {\r\n      if (!this.option.serviceProvider || !this.option.serviceProvider.searchAsync) throw new Error('!this.option.serviceProvider.searchAsync');\r\n      this.option.serviceProvider.searchAsync(request).subscribe((response) => {\r\n        this.bindResultData(response, keepSelectedItems);\r\n      });\r\n    }\r\n    return of(true);\r\n  }\r\n\r\n  private checkedAllPageItems(): boolean {\r\n    if (!this.selectedItems || !this.items || this.items.length == 0) {\r\n      return false;\r\n    }\r\n    let check = true;\r\n    this.items.forEach((item) => {\r\n      const currentItem = this.selectedItems.find(s => s.id === item.id);\r\n      if (!currentItem) {\r\n        check = false;\r\n        return check;\r\n      }\r\n    });\r\n    return check;\r\n  }\r\n\r\n  private setDefaultOrder(request: any): void {\r\n    if (this.option.defaultOrderBy) this.orderBy = this.option.defaultOrderBy;\r\n    if (this.option.defautOrderDirection) this.direction = this.option.defautOrderDirection;\r\n    request.orderBy = this.orderBy;\r\n    request.direction = this.direction;\r\n    if (!this.orderBy) {\r\n      this.orderBy = \"Id\";\r\n      this.direction = TableConstant.Direction.ASC;\r\n    }\r\n  }\r\n\r\n  public setFilter(key: string, value: any) {\r\n    this.request[key] = value;\r\n    this.currentPage = 0;\r\n    this.filter[key] = value;\r\n    if (this.option && this.option.request) this.option.request.pageIndex = 0;\r\n  }\r\n\r\n  private retrieveAdvancedFilters(advancedFilter: boolean, request: any): void {\r\n    this.filterColumns.forEach((column: TableColumn) => {\r\n      let value = this.filter[column.valueRef()];\r\n      if (value == undefined || value == 'undefined') {\r\n        value = '';\r\n      }\r\n      if (advancedFilter == true) {\r\n        if (column.type && (column.type.toLowerCase() == 'date' || column.type.toLowerCase() == 'datetime' || column.type.toLowerCase() == 'time')) {\r\n          if (value && value != '') {\r\n            const datetimeValues = <Date[]>value;\r\n            if (datetimeValues.length == 1) {\r\n              request[column.valueRef() + 'From'] = this.convertDatetime(datetimeValues[0], 'From');\r\n            } else if (datetimeValues.length == 2) {\r\n              request[column.valueRef() + 'From'] = this.convertDatetime(datetimeValues[0], 'From');\r\n              request[column.valueRef() + 'To'] = this.convertDatetime(datetimeValues[1], 'To');\r\n            }\r\n          }\r\n        } else {\r\n          request[column.valueRef()] = value;\r\n        }\r\n      } else {\r\n        request[column.valueRef()] = value;\r\n      }\r\n    });\r\n  }\r\n\r\n  private buildRequest(currentPage?: number, advancedFilter?: boolean): any {\r\n    this.previousRequest = Object.assign({}, this.request);\r\n    let searchText = this.filter.searchText;\r\n    this.textSearched = this.filter.searchText;\r\n    if (searchText == undefined || searchText == 'undefined') {\r\n      searchText = '';\r\n    }\r\n    this.request.pageSize = this.option.request.pageSize;\r\n    if (!this.option.paging) {\r\n      this.request.pageSize = 999999;\r\n      this.pageSize = 999999;\r\n    }\r\n    this.request.searchText = searchText;\r\n    this.request.direction = this.direction;\r\n    this.request.orderBy = this.orderBy;\r\n    if (!this.orderBy) this.setDefaultOrder(this.request);\r\n    this.retrieveAdvancedFilters(advancedFilter, this.request);\r\n    this.request.pageIndex = this.option.request.pageIndex;\r\n    if (currentPage) {\r\n      this.request.pageIndex = currentPage;\r\n      this.currentPage = currentPage;\r\n    }\r\n\r\n    const changes = this.dataService.compareObjects(this.previousRequest, this.request);\r\n    const isChanged = changes.filter(x => ['pageIndex', 'pageSize'].indexOf(x.propertyName) < 0).length > 0;\r\n    if (isChanged) {\r\n      this.option.request.pageIndex = 0;\r\n      this.request.pageIndex = 0;\r\n      this.currentPage = 0;\r\n    }\r\n    return this.request;\r\n  }\r\n\r\n  private convertDatetime(dt: Date, type: string): string {\r\n    if (!dt) return '';\r\n    let convertedDatetime = new Date(dt);\r\n    let days = convertedDatetime.getDate().toString();\r\n    if (days.length < 2) days = '0' + days;\r\n    let months = (convertedDatetime.getMonth() + 1).toString();\r\n    if (months.length < 2) months = '0' + months;\r\n    let hours = convertedDatetime.getHours().toString();\r\n    if (hours.length < 2) hours = '0' + hours;\r\n    let minutes = convertedDatetime.getMinutes().toString();\r\n    if (minutes.length < 2) minutes = '0' + minutes;\r\n    const year = convertedDatetime.getFullYear();\r\n\r\n    switch (this.option.datetimeFormat.format) {\r\n      case 'dd/MM/yyyy':\r\n        return days + '/' + months + '/' + year + (type == 'From' ? ' 00:00' : ' 23:59');\r\n      case 'dd/MM/yyyy HH:mm':\r\n        return days + '/' + months + '/' + year + ' ' + hours + ':' + minutes;\r\n      case 'MM/dd/yyyy':\r\n        return months + '/' + days + '/' + year + (type == 'From' ? ' 00:00' : ' 23:59');\r\n      case 'MM/dd/yyyy HH:mm':\r\n        return months + '/' + days + '/' + year + ' ' + hours + ':' + minutes;\r\n    }\r\n  }\r\n\r\n  private searchLocalItems(request: any): Observable<any> {\r\n    let result: any[] = this.localData;\r\n    const orderBy = this.dataService.getField(request.orderBy, true);\r\n    if (request.direction == TableConstant.Direction.ASC) {\r\n      if (!this.option.sort) {\r\n        result = result.sort((a: any, b: any) => a[orderBy] > b[orderBy] ? 1 : a[orderBy] === b[orderBy] ? 0 : -1);\r\n      } else {\r\n        result = result.sort((a: any, b: any) => this.option.sort(a, b, orderBy));\r\n      }\r\n    } else {\r\n      if (!this.option.sort) {\r\n        result = result.sort((b: any, a: any) => a[orderBy] > b[orderBy] ? 1 : a[orderBy] === b[orderBy] ? 0 : -1);\r\n      } else {\r\n        result = result.sort((b: any, a: any) => this.option.sort(a, b, orderBy));\r\n      }\r\n    }\r\n\r\n    let items: any[] = [];\r\n    if (request.pageIndex >= 0 && request.pageSize > 0) {\r\n      const localResult = [];\r\n      if (request.searchText && this.option.searchFields && this.option.searchFields.length > 0) {\r\n        this.option.searchFields.forEach(field => {\r\n          const response = result.filter(s => this.fuzzysearch(request.searchText, s[field]));\r\n          if (response) {\r\n            response.forEach((item) => {\r\n              if (localResult.findIndex(s => s.id == item.id) == -1) {\r\n                localResult.push(item);\r\n              }\r\n            });\r\n          }\r\n        });\r\n        result = localResult;\r\n      }\r\n\r\n      var filter = {};\r\n      this.retrieveAdvancedFilters(true, filter);\r\n      if (this.filterColumns) {\r\n        this.filterColumns.forEach((column) => {\r\n          var value = filter[column.valueRef()];\r\n          if (value) {\r\n            result = result.filter(s => this.fuzzysearch(value, s[column.valueRef()]));\r\n          }\r\n        });\r\n      }\r\n      items = result.filter(s => (result.indexOf(s) >= request.pageIndex * request.pageSize) && (result.indexOf(s) < (request.pageIndex + 1) * request.pageSize));\r\n    }\r\n    const response: TableResponse<any> = {\r\n      items: items,\r\n      totalRecords: result.length\r\n    };\r\n    return of(response).pipe(delay(250));\r\n  }\r\n\r\n  private convertUCode(c: string): string {\r\n    if ('aÃ£áº¡Ã Ã¡áº£ÄÄáºµáº·áº±áº³Ã¢áº«áº­áº§áº¥áº©'.indexOf(c) > -1) return 'a';\r\n    if ('dÄ'.indexOf(c) > -1) return 'd';\r\n    if ('oÃµá»Ã²Ã³á»Ã´á»á»á»á»Æ¡á»¡á»£á»á»á»'.indexOf(c) > -1) return 'o';\r\n    if ('uÅ©á»¥Ã¹Ãºá»§Æ°á»¯á»±á»«á»©á»­Æ°á»¯á»±á»«á»©á»­'.indexOf(c) > -1) return 'u';\r\n    if ('iÄ©á»Ã¬Ã­á»'.indexOf(c) > -1) return 'i';\r\n    if ('yá»¹á»µá»³Ã½á»·'.indexOf(c) > -1) return 'y';\r\n    if ('eáº½áº¹Ã¨Ã©áº½Ãªá»á»á»Ãªá»'.indexOf(c) > -1) return 'e';\r\n    return c;\r\n  }\r\n\r\n  private fuzzysearch(needle: any, haystack: any): boolean {\r\n    if (!needle || !haystack) return false;\r\n    const haystackLC = this.removeAllSpaces(haystack.toString().toLowerCase());\r\n    const needleLC = this.removeAllSpaces(needle.toString().toLowerCase());\r\n    const hlen = haystack.toString().length;\r\n    const nlen = needleLC.toString().length;\r\n    if (nlen > hlen) {\r\n      return false;\r\n    }\r\n    if (nlen === hlen) {\r\n      return needleLC === haystackLC;\r\n    }\r\n    outer: for (let i = 0, j = 0; i < nlen; i++) {\r\n      const nch = this.convertUCode(needleLC[i]);\r\n      while (j < hlen) {\r\n        if (this.convertUCode(haystackLC[j++]) === nch) {\r\n          continue outer;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private removeAllSpaces(str?: string): string {\r\n    if (!str) return '';\r\n    return str.replace(/\\s/g, '');\r\n  }\r\n\r\n  private bindResultData(response: TableResponse<any>, keepSelectedItems: boolean = true): void {\r\n    this.items = response.items;\r\n    this.totalRecords = response.totalRecords;\r\n    this.calculatePages();\r\n\r\n    if (!keepSelectedItems) {\r\n      this.selectedItems = [];\r\n    }\r\n\r\n    this.selectedAll = this.checkedAllPageItems();\r\n\r\n    if (this.currentPage > this.totalPages.length - 1) {\r\n      this.recursiveCounter++;\r\n      if (this.recursiveCounter < 3) {\r\n        this.searchAsync(null, this.totalPages.length - 1).subscribe();\r\n      }\r\n    }\r\n    this.loading = false;\r\n  }\r\n\r\n  private calculatePages(): void {\r\n    let pages = Math.floor(this.totalRecords / this.pageSize);\r\n    if (pages <= 0) {\r\n      pages = 1;\r\n    }\r\n    if (this.totalRecords % this.pageSize > 0) {\r\n      pages += 1;\r\n    }\r\n    if (this.totalRecords < this.pageSize) {\r\n      pages = 1;\r\n    }\r\n    this.totalPages = [];\r\n    for (let i = 0; i < pages; i++) {\r\n      this.totalPages.push(i);\r\n    }\r\n  }\r\n\r\n  private resetSortAsync(currentColumn: TableColumn): void {\r\n    this.option.mainColumns = this.option.mainColumns.map(column => {\r\n      if (column.id !== currentColumn.id) column.direction = undefined;\r\n      return column;\r\n    });\r\n  }\r\n\r\n  private initTableTableTexts(): void {\r\n    if (!this.option.displayText) {\r\n      this.option.displayText = new TableText();\r\n    } else {\r\n      if (!this.option.displayText) this.option.displayText.placeholderSearch = TableConstant.DisplayText.PlaceholderSearch;\r\n      if (!this.option.displayText.btnSearch) this.option.displayText.btnSearch = TableConstant.DisplayText.BtnSearch;\r\n      if (!this.option.displayText.btnReset) this.option.displayText.btnReset = TableConstant.DisplayText.BtnReset;\r\n      if (!this.option.displayText.action) this.option.displayText.action = TableConstant.DisplayText.Action;\r\n      if (!this.option.displayText.selectPageSize) this.option.displayText.selectPageSize = TableConstant.DisplayText.SelectPageSize;\r\n      if (!this.option.displayText.deleteTitle) this.option.displayText.deleteTitle = TableConstant.DisplayText.DeleteTitle;\r\n      if (!this.option.displayText.btnAcceptTitle) this.option.displayText.btnAcceptTitle = TableConstant.DisplayText.BtnAcceptTitle;\r\n      if (!this.option.displayText.btnCancelTitle) this.option.displayText.btnCancelTitle = TableConstant.DisplayText.BtnCancelTitle\r\n      if (!this.option.displayText.filterTitle) this.option.displayText.filterTitle = TableConstant.DisplayText.FilterTitle;\r\n      if (!this.option.displayText.applyFilter) this.option.displayText.applyFilter = TableConstant.DisplayText.ApplyFilter;\r\n      if (!this.option.displayText.detailTitle) this.option.displayText.detailTitle = TableConstant.DisplayText.DetailTitle;\r\n      if (!this.option.displayText.pageTitle) this.option.displayText.pageTitle = TableConstant.DisplayText.PageTitle;\r\n      if (!this.option.displayText.advancedSearchTitle) this.option.displayText.advancedSearchTitle = TableConstant.DisplayText.AdvancedSearchTitle;\r\n      if (!this.option.displayText.advancedBtnTitle) this.option.displayText.advancedBtnTitle = TableConstant.DisplayText.AdvancedBtnTitle;\r\n      if (!this.option.displayText.advancedBtnCancelTitle) this.option.displayText.advancedBtnCancelTitle = TableConstant.DisplayText.AdvancedBtnCancelTitle;\r\n      if (!this.option.displayText.allTitle) this.option.displayText.allTitle = TableConstant.DisplayText.AllTitle;\r\n    }\r\n  }\r\n\r\n  private initTableTableMessages(): void {\r\n    if (!this.option.message) {\r\n      this.option.message = new TableMessage();\r\n    } else {\r\n      if (!this.option.message.notFoundMessage) this.option.message.notFoundMessage = TableConstant.Message.NotFoundMessage;\r\n      if (!this.option.message.foundMessage) this.option.message.foundMessage = TableConstant.Message.FoundMessage;\r\n      if (!this.option.message.invalidFormatMessage) this.option.message.invalidFormatMessage = TableConstant.Message.InvalidFormatMessage;\r\n      if (!this.option.message.selectedItemsMessage) this.option.message.selectedItemsMessage = TableConstant.Message.SelectedItemsMessage;\r\n      if (!this.option.message.confirmSelectAllRecordsMessage) this.option.message.confirmSelectAllRecordsMessage = TableConstant.Message.ConfirmSelectAllRecordsMessage;\r\n      if (!this.option.message.confirmClearAllRecordsMessage) this.option.message.confirmClearAllRecordsMessage = TableConstant.Message.ConfirmClearAllRecordsMessage;\r\n      if (!this.option.message.deleteMessage) this.option.message.deleteMessage = TableConstant.Message.DeleteMessage;\r\n      if (!this.option.message.loadingMessage) this.option.message.loadingMessage = TableConstant.Message.LoadingMessage;\r\n      if (!this.option.message.refMessage) this.option.message.refMessage = TableConstant.Message.RefMessage;\r\n    }\r\n  }\r\n\r\n  private initMainColumns(): void {\r\n    if (!this.option.mainColumns) {\r\n      this.option.mainColumns = [];\r\n    }\r\n    this.option.mainColumns.forEach((column) => {\r\n      if (!column.textAlign) column.textAlign = TableConstant.TextAlign.Left;\r\n      if (column && !column.id) {\r\n        column.id = this.dataService.newGuid();\r\n      }\r\n      if (column.allowFilter) {\r\n        if (column.type === TableColumnType.Dropdown) {\r\n          if (!column.dropdownConfiguration) throw new Error('!column.dropdownConfiguration');\r\n        }\r\n        this.filterColumns.push(column);\r\n        this.filter[column.valueRef()] = null;\r\n      }\r\n    });\r\n    this.option.mainColumns = this.option.mainColumns.sort((a: TableColumn, b: TableColumn) => a.order > b.order ? 1 : a.order === b.order ? 0 : -1);\r\n  }\r\n\r\n\r\n  private registerEvents() {\r\n    if (this.gotoRef) {\r\n      this._render.listen(this.gotoRef.nativeElement, 'keydown', ($event) => {\r\n        const value = $event.which;\r\n        let max = '9999999';\r\n        if (this.gotoRef.nativeElement.attributes['max']) {\r\n          max = this.gotoRef.nativeElement.attributes['max'].value;\r\n        }\r\n        if ((value >= 48 && value <= 57) || (value >= 96 && value <= 105) || value == 8 || value == 13) {\r\n          if (value >= 48 && value <= 57) {\r\n            if (parseInt(max) < parseInt($event.target.value + (parseInt(value) - 48))) {\r\n              $event.preventDefault();\r\n              $event.target.value = max;\r\n            }\r\n          } else if (value >= 96 && value <= 105) {\r\n            if (parseInt(max) < parseInt($event.target.value + (parseInt(value) - 96))) {\r\n              $event.preventDefault();\r\n              $event.target.value = max;\r\n            }\r\n          }\r\n          else return;\r\n        } else {\r\n          $event.preventDefault();\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-button',\r\n  templateUrl: './button.component.html',\r\n  styleUrls: ['./button.component.scss']\r\n})\r\n\r\nexport class ButtonComponent implements OnInit {\r\n  @Input() public title: string;\r\n  @Input() public customClass: 'default' | 'success' | 'warning' | 'danger' | 'link' | 'info' | 'inverse' | 'primary' | 'outline-primary' | 'outline-inverse' = 'default';\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public icon: string;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public tooltip: string;\r\n  @Output() public execute: EventEmitter<any> = new EventEmitter();\r\n  public loading: boolean = false;\r\n\r\n  ngOnInit() { }\r\n\r\n  public handleAction($event): void {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n\r\n  public retrieveButtonClass(): string {\r\n    if (this.customClass) return `btn-${this.customClass}`;\r\n    return 'btn-default';\r\n  }\r\n}\r\n","import { Component, ViewChild, TemplateRef, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-dropdown-button',\r\n  templateUrl: './dropdown-button.component.html',\r\n  styleUrls: ['./dropdown-button.component.scss']\r\n})\r\n\r\nexport class DropdownButtonComponent {\r\n  @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n  @Input() public title: string;\r\n  @Input() public disabled: boolean;\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public customClass: string;\r\n  @Input() public icon: string;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Output() public execute: EventEmitter<Function> = new EventEmitter();\r\n  public loading: boolean;\r\n\r\n  public handleAction($event) {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, ContentChildren } from '@angular/core';\r\nimport { DropdownButtonComponent } from './dropdown-button.component';\r\n\r\n@Component({\r\n  selector: 'katana-dropdown-buttons',\r\n  templateUrl: './dropdown-buttons.component.html',\r\n  styleUrls: ['./dropdown-buttons.component.scss']\r\n})\r\n\r\nexport class DropdownButtonsComponent {\r\n  @Input() public title: string;\r\n  @Input() public customClass: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public icon: string;\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Output() public execute: EventEmitter<any> = new EventEmitter();\r\n  @ContentChildren(DropdownButtonComponent) public items: DropdownButtonComponent[];\r\n  public loading: boolean;\r\n\r\n  public handleAction($event) {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonComponent } from './button/button.component';\r\nimport { DropdownButtonsComponent } from './dropdown-buttons/dropdown-buttons.component';\r\nimport { DropdownButtonComponent } from './dropdown-buttons/dropdown-button.component';\r\nimport { BsDropdownModule } from 'ngx-bootstrap';\r\n\r\n@NgModule({\r\n  declarations: [ButtonComponent, DropdownButtonsComponent, DropdownButtonComponent],\r\n  imports: [\r\n    CommonModule,\r\n    BsDropdownModule.forRoot()\r\n  ],\r\n  exports: [ButtonComponent, DropdownButtonsComponent, DropdownButtonComponent]\r\n})\r\n\r\nexport class ButtonModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-datetime-picker',\r\n  templateUrl: './datetime.component.html',\r\n  styleUrls: ['./datetime.component.scss']\r\n})\r\n\r\nexport class DatetimePickerComponent implements OnDestroy {\r\n  @Input() public title: string;\r\n  @Input() public model: Date;\r\n  @Input() public disabled: boolean;\r\n  @Input() public minValue: Date;\r\n  @Input() public maxValue: Date;\r\n  @Input() public placeholder: string = 'Äiá»n thÃ´ng tin';\r\n  @Input() public startView: 'month' | 'years' | 'multi-years' = 'month';\r\n  @Input() public pickerType: 'calendar' | 'timer' | 'both' = 'calendar';\r\n  @Input() public pickerMode: 'popup' | 'dialog' = 'popup';\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<Date> = new EventEmitter();\r\n\r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy)\r\n      this.modelChange.emit(null);\r\n  }\r\n}\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-daterange-picker',\r\n  templateUrl: './daterange.component.html',\r\n  styleUrls: ['./daterange.component.scss']\r\n})\r\n\r\nexport class DaterangePickerComponent implements OnDestroy {\r\n  @Input() public title: string;\r\n  @Input() public model: Date[];\r\n  @Input() public disabled: boolean;\r\n  @Input() public minValue: Date;\r\n  @Input() public maxValue: Date;\r\n  @Input() public placeholder: string = 'Äiá»n thÃ´ng tin';\r\n  @Input() public startView: 'month' | 'years' | 'multi-years' = 'month';\r\n  @Input() public pickerType: 'calendar' | 'timer' | 'both' = 'calendar';\r\n  @Input() public pickerMode: 'popup' | 'dialog' = 'popup';\r\n  @Input() public selectMode: 'range' | 'single' | 'rangeFrom' | 'rangeTo' = 'range';\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<Date[]> = new EventEmitter();\r\n  \r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy)\r\n      this.modelChange.emit(null);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, Injectable } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { OwlDateTimeModule, OwlNativeDateTimeModule, OWL_DATE_TIME_LOCALE, OwlDateTimeIntl } from 'ng-pick-datetime';\r\nimport { DatetimePickerComponent } from './datetime/datetime.component';\r\nimport { DaterangePickerComponent } from './daterange/daterange.component';\r\n\r\nconst declarations = [DatetimePickerComponent, DaterangePickerComponent];\r\n\r\n@NgModule({\r\n    declarations: declarations,\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        OwlDateTimeModule,\r\n        OwlNativeDateTimeModule\r\n    ],\r\n    entryComponents: declarations,\r\n    exports: declarations\r\n})\r\n\r\nexport class DatetimePickerModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: DatetimePickerModule,\r\n            providers: [\r\n            ]\r\n        };\r\n    }\r\n\r\n    public static forChild(): ModuleWithProviders {\r\n        return {\r\n            ngModule: DatetimePickerModule,\r\n            providers: [\r\n                { provide: OWL_DATE_TIME_LOCALE, useValue: 'vi' },\r\n                { provide: OwlDateTimeIntl, useClass: DefaultDateTimeLabels }\r\n            ]\r\n        };\r\n    }\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DefaultDateTimeLabels extends OwlDateTimeIntl {\r\n    upSecondLabel = 'ThÃªm 1 giÃ¢y';\r\n    downSecondLabel = 'Bá»t 1 giÃ¢y';\r\n    upMinuteLabel = 'ThÃªm 1 phÃºt';\r\n    downMinuteLabel = 'Bá»t 1 phÃºt';\r\n    upHourLabel = 'ThÃªm 1 giá»';\r\n    downHourLabel = 'Bá»t 1 giá»';\r\n    prevMonthLabel = 'ThÃ¡ng trÆ°á»c';\r\n    nextMonthLabel = 'ThÃ¡ng tá»i';\r\n    prevYearLabel = 'NÄm trÆ°á»c';\r\n    nextYearLabel = 'NÄm tá»i';\r\n    prevMultiYearLabel = '21 nÄm trÆ°á»c';\r\n    nextMultiYearLabel = '21 nÄm sau';\r\n    switchToMonthViewLabel = 'Xem theo thÃ¡ng';\r\n    switchToMultiYearViewLabel = 'Xem theo thÃ¡ng nÄm';\r\n    cancelBtnLabel = 'Quay láº¡i';\r\n    setBtnLabel = 'Chá»n';\r\n    rangeFromLabel = 'Tá»«';\r\n    rangeToLabel = 'Äáº¿n';\r\n    hour12AMLabel = 'AM';\r\n    hour12PMLabel = 'PM';\r\n};","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EditorComponent } from './editor.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\n\r\n@NgModule({\r\n  declarations: [EditorComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    CKEditorModule\r\n  ],\r\n  exports: [EditorComponent]\r\n})\r\n\r\nexport class EditorModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TableComponent } from './table.component';\r\nimport { NgStringPipesModule } from 'ngx-pipes';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { TextboxModule } from '../textbox/textbox.module';\r\nimport { DropdownModule } from '../dropdown/dropdown.module';\r\nimport { ButtonModule } from '../button/button.module';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\nimport { CheckboxModule } from '../checkbox/checkbox.module';\r\nimport { DatetimePickerModule } from '../datetime-picker/datetime-picker.module';\r\nimport { TableRowDetailDirective } from './table-row-detail.directive';\r\nimport { EditorModule } from '../editor/editor.module';\r\n\r\n@NgModule({\r\n  declarations: [TableComponent, TableRowDetailDirective],\r\n  imports: [\r\n    CommonModule,\r\n    ValidationModule.forRoot(),\r\n    FormsModule,\r\n    TextboxModule,\r\n    DropdownModule,\r\n    ButtonModule,\r\n    FormatterModule,\r\n    CheckboxModule,\r\n    DatetimePickerModule.forChild(),\r\n    NgStringPipesModule,\r\n    TextboxModule,\r\n    ButtonModule,\r\n    EditorModule\r\n  ],\r\n  exports: [TableComponent, TableRowDetailDirective]\r\n})\r\n\r\nexport class TableModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { MediaItem } from '../../models/base.model';\r\n\r\n@Component({\r\n  selector: 'katana-full-media',\r\n  templateUrl: './full-media.component.html',\r\n  styles: []\r\n})\r\n\r\nexport class FullMediaComponent implements OnInit {\r\n  @Input() model: MediaItem;\r\n\r\n  videoPlayerHtml: SafeHtml;\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.videoPlayerHtml = this.generateHtml();\r\n  }\r\n\r\n  private generateHtml(): SafeHtml {\r\n    const isExternal = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.test(this.model.fullSrc);\r\n\r\n    let videoTag = '';\r\n    if (isExternal) {\r\n      const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(this.model.fullSrc);\r\n      const videoId = match[1];\r\n      videoTag = `<iframe  style=\"width:100%; min-height: 500px;\"  src=\"https://www.youtube.com/embed/${videoId}\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>`;\r\n    } else {\r\n      videoTag = `<video controls style=\"width:100%\"><source src=\"${this.model.fullSrc}\" type=\"video/mp4\"></video>`;\r\n    }\r\n\r\n    return this.sanitizer.bypassSecurityTrustHtml(videoTag);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FullMediaComponent } from '../full-media/full-media.component';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { MediaItem } from '../../models/base.model';\r\nimport { ModalService } from '../../modals/modal.service';\r\n\r\n@Component({\r\n  selector: 'katana-media',\r\n  templateUrl: './media-viewer.component.html',\r\n  styles: ['./media-viewer.component.scss']\r\n})\r\n\r\nexport class MediaViewerComponent implements OnInit {\r\n  @Input() title: string\r\n  @Input() model: MediaItem;\r\n  @Output() modelChange: EventEmitter<MediaItem> = new EventEmitter<MediaItem>();\r\n  @Output() public removed: EventEmitter<MediaItem> = new EventEmitter();\r\n  public selected: boolean;\r\n  public thumbnailHtml: SafeHtml;\r\n\r\n  constructor(\r\n    protected modalService: ModalService,\r\n    protected sanitizer: DomSanitizer\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    const isExternal = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.test(this.model.fullSrc);\r\n    if (isExternal) {\r\n      const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(this.model.fullSrc);\r\n      const videoId = match[1];\r\n      this.thumbnailHtml = this.sanitizer.bypassSecurityTrustHtml(`<img style=\"height:90px\" src=\"https://img.youtube.com/vi/${videoId}/0.jpg\"></img>`);\r\n    } else {\r\n      this.thumbnailHtml = this.sanitizer.bypassSecurityTrustHtml(`<img style=\"height:90px\" src=\"${this.model.src}\"></img>`);\r\n    }\r\n  }\r\n\r\n  viewMedia(): void {\r\n    this.modalService.showTemplateDialog({\r\n      template: FullMediaComponent,\r\n      title: 'Xem chi tiáº¿t',\r\n      customSize: 'modal-lg',\r\n      data: {\r\n        model: this.model\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(): void {\r\n    this.removed.emit(this.model);\r\n    this.modelChange.emit(null);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MediaViewerComponent } from './media-viewer/media-viewer.component';\r\nimport { FullMediaComponent } from './full-media/full-media.component';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [MediaViewerComponent, FullMediaComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormatterModule\r\n  ],\r\n  exports: [MediaViewerComponent, FullMediaComponent],\r\n  entryComponents: [FullMediaComponent]\r\n})\r\n\r\nexport class MediaViewerModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FileViewModel } from '../file/file.model';\r\n\r\n@Component({\r\n    selector: 'katana-image-viewer',\r\n    templateUrl: './image-viewer.component.html',\r\n    styleUrls: ['./image-viewer.component.scss']\r\n})\r\n\r\nexport class ImageViewerComponent implements OnDestroy {\r\n    @Input() public uploadIcon: string;\r\n    @Input() public uploadTitle: string;\r\n    @Input() public multiple: boolean = false;\r\n    @Input() public model;\r\n    @Input() public size: 'small' | 'medium' | 'large' | 'full' | 'tiny' = 'small';\r\n    @Input() public defaultImageUrl = 'https://cmcglobal.com.vn/css/image-common/Combined%20Shape.svg';\r\n    @Input() public title: string;\r\n    @Input() public editable: boolean = false;\r\n    @Input() public customClasses: string;\r\n    @Output() public imageRemoved: EventEmitter<string> = new EventEmitter();\r\n    @Input() public radious: boolean = false;\r\n    @Input() validationName: string;\r\n    @Input() public cutRatio: number = 1 / 1;\r\n    @Input() public resizeToWidth: number;\r\n    @Input() public maintainAspectRatio: boolean;\r\n    @Input() validationScope: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    @Output() public modelChange: EventEmitter<any> = new EventEmitter();\r\n    @Output() public selectedChange: EventEmitter<boolean> = new EventEmitter();\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.emitNullOnDestroy === true)\r\n            this.modelChange.emit(null);\r\n    }\r\n\r\n    public fileUploaded(file: FileViewModel): void {\r\n        let model = this.model;\r\n        if (!model) model = {};\r\n        model.src = file.src;\r\n        this.modelChange.emit(model);\r\n    }\r\n\r\n    public imageSrc(): string {\r\n        if (this.model && this.model.src) {\r\n            return this.model.src;\r\n        } else {\r\n            return this.defaultImageUrl;\r\n        }\r\n    }\r\n\r\n    public removeImage(): void {\r\n        this.model.src = this.defaultImageUrl;\r\n        this.modelChange.emit(null);\r\n        this.imageRemoved.emit(this.model.src);\r\n    }\r\n\r\n    public selectImage(item: any): void {\r\n        if (!item) return;\r\n        if (!item.selected) item.selected = false;\r\n        item.selected = !item.selected;\r\n        this.selectedChange.emit(item.selected);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageViewerComponent } from './image-viewer.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { FileModule } from '../file/file.module';\r\n\r\n@NgModule({\r\n  declarations: [ImageViewerComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FileModule,\r\n    ValidationModule,\r\n  ],\r\n  exports: [ImageViewerComponent]\r\n})\r\n\r\nexport class ImageViewerModule { }\r\n","import { Component, Input, ViewChild, TemplateRef, OnInit } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { TableOption, TableColumnType } from '../../table/table.model';\r\nimport { FileResponse, FileRequest, FileViewModel } from '../../file/file.model';\r\nimport { TableComponent } from '../../table/table.component';\r\n\r\n@Component({\r\n  selector: 'katana-gallery',\r\n  templateUrl: './gallery.component.html',\r\n  styleUrls: ['./gallery.component.scss']\r\n})\r\n\r\nexport class GalleryComponent implements OnInit {\r\n  @Input() public items: (request: FileRequest) => Observable<FileResponse>;\r\n  @Input() public headers: string[];\r\n  @ViewChild('imageTemplate', { static: true }) public imageTemplate: TemplateRef<any>;\r\n  @ViewChild('sizeTemplate', { static: true }) public sizeTemplate: TemplateRef<any>;\r\n  @ViewChild('nameTemplate', { static: true }) public nameTemplate: TemplateRef<any>;\r\n  @ViewChild('tableRef', { static: true }) public tableRef: TableComponent;\r\n  public option: TableOption;\r\n\r\n  ngOnInit(): void {\r\n    this.initTable();\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return this.tableRef.selectedItems.length > 0;\r\n  }\r\n\r\n  public callback(): Observable<FileViewModel[]> {\r\n    return of(this.tableRef.selectedItems);\r\n  }\r\n\r\n  private initTable(): void {\r\n    this.option = new TableOption({\r\n      serviceProvider: {\r\n        searchAsync: (request) => {\r\n          return this.items(request);\r\n        }\r\n      },\r\n      searchFields: [\"name\", \"createdBy\", \"createdDate\", \"lastModifiedDate\", \"lastModifiedBy\"],\r\n      inlineEdit: true,\r\n      mainColumns: [\r\n        {\r\n          title: () => this.headers[0],\r\n          valueRef: () => 'src',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.imageTemplate\r\n        },\r\n        {\r\n          title: () => this.headers[1],\r\n          valueRef: () => 'name',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.nameTemplate,\r\n          allowSort: true\r\n        },\r\n        {\r\n          title: () => this.headers[2],\r\n          valueRef: () => 'size',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.sizeTemplate\r\n        },\r\n        {\r\n          title: () => this.headers[3],\r\n          valueRef: () => 'createdDate',\r\n          type: TableColumnType.Date,\r\n          allowSort: true\r\n        }\r\n      ]\r\n    });\r\n  }\r\n}\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FileViewModel, FileResponse, FileRequest } from '../file/file.model';\r\nimport { ModalService } from '../modals/modal.service';\r\nimport { TemplateViewModel } from '../modals/modal.model';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { DataService } from '../services/data.service';\r\nimport { of, Observable } from 'rxjs';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'katana-viewer',\r\n  templateUrl: './viewer.component.html',\r\n  styleUrls: ['./viewer.component.scss']\r\n})\r\n\r\nexport class ViewerComponent implements OnDestroy {\r\n  public isLoading: boolean = false;\r\n  public images: FileViewModel[] = [];\r\n  public useLibrary: boolean = true;\r\n  @Input() public headers: string[] = ['#', 'TÃªn', 'KÃ­ch thÆ°á»c', 'NgÃ y táº¡o'];\r\n  @Input() public multiple: boolean;\r\n  @Input() public galleryItems: (request: FileRequest) => Observable<FileResponse>;\r\n  @Input() public componentTitle: string = 'ThÃªm áº£nh';\r\n  @Input() public uploadDialogTitle: string = 'Chá»nh sá»­a áº£nh';\r\n  @Input() public uploadDialogIcon: string = 'fa fa-twitter';\r\n  @Input() public uploadTitle: string = 'Táº£i lÃªn';\r\n  @Input() public uploadIcon: string = 'fa fa-exchange';\r\n  @Input() public openGalleryTitle: string = 'Chá»n tá»« thÆ° viá»n';\r\n  @Input() public openGalleryIcon: string = 'fa fa-google-wallet';\r\n  @Input() public title: string;\r\n  @Input() public model: any[] = [];\r\n  @Input() public zoomPrimaryImage: boolean = true;\r\n  @Input() public editable: boolean = true;\r\n  @Input() public cutRatio: number = 1 / 1;\r\n  @Input() public resizeToWidth: number;\r\n  @Input() public maintainAspectRatio: boolean;\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<any[]> = new EventEmitter();\r\n  @Output() public onOpenUserMediaGallery: EventEmitter<void> = new EventEmitter();\r\n\r\n  constructor(\r\n    private _modalService: ModalService,\r\n    private _dataService: DataService,\r\n    protected authenticationService: AuthenticationService\r\n  ) { }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit([]);\r\n  }\r\n\r\n  public addImage(file: FileViewModel): void {\r\n    this.images = this.model;\r\n    if (!this.images) this.images = [];\r\n    this.images.push({\r\n      src: file.src,\r\n      name: file.name,\r\n      size: file.size,\r\n      createdDate: new Date(),\r\n      lastModifiedDate: new Date(),\r\n      createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n      lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n    });\r\n    this.modelChange.emit(this.images);\r\n  }\r\n\r\n  public setLoading(loading: boolean): void {\r\n    this.isLoading = loading;\r\n  }\r\n\r\n  public openUserMediaGallery(): void {\r\n    this.onOpenUserMediaGallery.emit();\r\n    var items = <any[]>this._dataService.cloneItems(this.images);\r\n    if (!items) items = [];\r\n    this._modalService.showTemplateDialog(new TemplateViewModel({\r\n      template: GalleryComponent,\r\n      title: this.openGalleryTitle,\r\n      icon: this.openGalleryIcon,\r\n      customSize: 'modal-lg',\r\n      data: {\r\n        headers: this.headers,\r\n        items: !this.useLibrary ? () => {\r\n          return of(new FileResponse({\r\n            code: '200',\r\n            status: true,\r\n            totalRecords: 0,\r\n            items: []\r\n          }));\r\n        } : () => {\r\n          if (!this.galleryItems) {\r\n            return of(new FileResponse({\r\n              code: '200',\r\n              status: true,\r\n              totalRecords: items.length,\r\n              items: items\r\n            }));\r\n          } else {\r\n            return this.galleryItems;\r\n          }\r\n        }\r\n      },\r\n      acceptCallback: (response: FileViewModel[]) => {\r\n        response.forEach(item => {\r\n          this.images.push(item);\r\n        });\r\n        this.modelChange.emit(this.images);\r\n      }\r\n    }));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgxDnDModule } from '@swimlane/ngx-dnd';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { ViewerComponent } from './viewer.component';\r\nimport { ImageViewerModule } from '../image-viewer/image-viewer.module';\r\nimport { FileModule } from '../file/file.module';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { TableModule } from '../table/table.module';\r\nimport { CardModule } from '../card/card.module';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    GalleryComponent,\r\n    ViewerComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ImageCropperModule,\r\n    ImageViewerModule,\r\n    FileModule,\r\n    ValidationModule,\r\n    NgxDnDModule,\r\n    TableModule,\r\n    CardModule,\r\n    FormatterModule\r\n  ],\r\n  entryComponents: [\r\n    GalleryComponent,\r\n    ViewerComponent\r\n  ],\r\n  exports: [\r\n    GalleryComponent,\r\n    ViewerComponent]\r\n})\r\n\r\nexport class ViewerModule { }\r\n","import { Component, ViewChild, TemplateRef, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-radio-item',\r\n  templateUrl: './radio-item.component.html',\r\n  styleUrls: ['./radio-item.component.scss']\r\n})\r\n\r\nexport class RadioItemComponent {\r\n  @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n  @Input() public value: any;\r\n  @Input() public label: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public checked: boolean = false;\r\n  public groupIndex: number;\r\n  private selectedCallBack: Function;\r\n\r\n  public changeItem($event: Event) {\r\n    $event.stopPropagation();\r\n    if (this.selectedCallBack) {\r\n      this.selectedCallBack(this);\r\n    }\r\n  }\r\n\r\n  public select($event) {\r\n    $event.stopPropagation();\r\n  }\r\n\r\n  public registerSelectedCallback(callback: Function) {\r\n    this.selectedCallBack = callback;\r\n  }\r\n}\r\n","import { AfterContentInit, ContentChildren, QueryList, Input, Output, EventEmitter, OnDestroy, Directive } from '@angular/core';\r\nimport { RadioItemComponent } from './radio-item/radio-item.component';\r\n\r\n@Directive({\r\n    selector: 'katana-radio-items'\r\n})\r\n\r\nexport class RadioComponent implements AfterContentInit, OnDestroy {\r\n    @ContentChildren(RadioItemComponent) public items: QueryList<RadioItemComponent>;\r\n    @Output() public modelChange: EventEmitter<any> = new EventEmitter();\r\n    @Input() public model: any;\r\n    @Input() public label: string;\r\n    @Input() public disabled: boolean;\r\n    @Input() public formControlName: string;\r\n    @Input() public validationName: string;\r\n\r\n    ngAfterContentInit(): void {\r\n        this.items.forEach((s, index) => {\r\n            s.groupIndex = index;\r\n            if (this.model !== null && this.model !== undefined && this.model === s.value) {\r\n                s.checked = true;\r\n            }\r\n            s.registerSelectedCallback((componentRef: RadioItemComponent) => {\r\n                this.items.forEach(item => {\r\n                    item.checked = false;\r\n                });\r\n                let selectedItem = this.items.find(y => y.groupIndex === componentRef.groupIndex);\r\n                selectedItem.checked = true;\r\n                this.model = componentRef.value;\r\n                this.modelChange.emit(componentRef.value);\r\n            });\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.modelChange.emit(null);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RadioComponent } from './radio.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RadioItemComponent } from './radio-item/radio-item.component';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [RadioComponent, RadioItemComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule\r\n  ],\r\n  exports: [RadioComponent, RadioItemComponent]\r\n})\r\n\r\nexport class RadioModule { }\r\n","import { Component, Input } from '@angular/core';\r\nimport { TrackingGroup } from '../models/base.model';\r\n\r\n@Component({\r\n  selector: 'katana-timeline',\r\n  templateUrl: './timeline.component.html',\r\n  styleUrls: ['./timeline.component.scss']\r\n})\r\n\r\nexport class TimelineComponent {\r\n  @Input() public items: TrackingGroup[] = [];\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TimelineComponent } from './timeline.component';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [TimelineComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormatterModule\r\n  ],\r\n  entryComponents: [TimelineComponent],\r\n  exports: [TimelineComponent]\r\n})\r\n\r\nexport class TimelineModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-chips',\r\n  templateUrl: './chip.component.html',\r\n  styleUrls: ['./chip.component.scss']\r\n})\r\n\r\nexport class ChipComponent implements OnDestroy {\r\n  @Input() public title: string;\r\n  @Input() public model: string[];\r\n  @Input() public placeholder: string = 'Nháº­p thÃ´ng tin';\r\n  @Input() public maxItems: number;\r\n  @Input() public disabled: boolean;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<string[]> = new EventEmitter();\r\n  @Output() public onAdd: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onRemove: EventEmitter<any> = new EventEmitter();\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit([]);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ChipComponent } from './chip.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TagInputModule } from 'ngx-chips';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [ChipComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TagInputModule,\r\n    ValidationModule\r\n  ],\r\n  entryComponents: [ChipComponent],\r\n  exports: [ChipComponent]\r\n})\r\n\r\nexport class ChipModule { }\r\n","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-panel-header]'\r\n})\r\n\r\nexport class PanelHeaderDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) {}\r\n}","import { Component, ContentChild, Input } from '@angular/core';\r\nimport { trigger, state, style, AUTO_STYLE, transition, animate } from '@angular/animations';\r\nimport { PanelHeaderDirective } from './panel-header.directive';\r\n\r\n@Component({\r\n  selector: 'katana-panel',\r\n  templateUrl: './panel.component.html',\r\n  styleUrls: ['./panel.component.scss'],\r\n  animations: [\r\n    trigger('expand', [\r\n      state('false',\r\n        style({\r\n          overflow: 'hidden',\r\n          height: '0px',\r\n        })\r\n      ),\r\n      state('true',\r\n        style({\r\n          height: AUTO_STYLE,\r\n        })\r\n      ),\r\n      transition('0 <=> 1', [\r\n        animate('300ms ease-in-out')\r\n      ])\r\n    ]),\r\n  ]\r\n})\r\n\r\nexport class PanelComponent {\r\n  @ContentChild(PanelHeaderDirective, { static: true }) public panelHeader: PanelHeaderDirective;\r\n  @Input() public title: string;\r\n  @Input() public icon: string;\r\n  @Input() public includeBorder: boolean = true;\r\n  @Input() public expand: boolean = true;\r\n  @Input() public disabled: boolean;\r\n\r\n  public toggle() {\r\n    this.expand = !this.expand;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PanelComponent } from './panel.component';\r\nimport { PanelHeaderDirective } from './panel-header.directive';\r\n\r\n@NgModule({\r\n  declarations: [PanelComponent, PanelHeaderDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [PanelComponent, PanelHeaderDirective]\r\n})\r\n\r\nexport class PanelModule { }\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[katana-list-item]'\r\n})\r\n\r\nexport class ListItemDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}","import { Component, ContentChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { ListItemDirective } from './list-item.directive';\r\nimport { finalize, take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'katana-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.scss']\r\n})\r\n\r\nexport class ListComponent {\r\n  @ContentChild(ListItemDirective, { static: true }) public listItemTemplate: ListItemDirective;\r\n  @Input() public eventSelect: boolean = true;\r\n  @Input() public model: any[];\r\n  @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n  @Input() public emptyListMessage: string = 'KhÃ´ng cÃ³ giÃ¡ trá» nÃ o trong danh sÃ¡ch';\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() public pageSize: number = 10;\r\n  @Input() public searchFunction: Function;\r\n  @Output() public itemSelected: EventEmitter<any> = new EventEmitter();\r\n  public loading: boolean;\r\n  public numberOfItemsFromEndBeforeFetchingMore: number = 3;\r\n  public searchItems: any[] = [];\r\n  public searchText$ = new BehaviorSubject<string>(null);\r\n  private subscriptions: Subscription[] = [];\r\n  private currentPage: number = 0;\r\n  private selectedItems: any[] = [];\r\n\r\n  public isSelected(item: any): boolean {\r\n    if (this.eventSelect) {\r\n      return this.selectedItems.indexOf(item) >= 0;\r\n    }\r\n  }\r\n\r\n  public selectItem(item: any, index: any) {\r\n    if (this.eventSelect) {\r\n      this.model.forEach(s => {\r\n        s.selected = false;\r\n      });\r\n      const indexObj = this.model.find(s => s.id === item.id);\r\n      indexObj.selected = true;\r\n    }\r\n    this.itemSelected.emit(item);\r\n  }\r\n\r\n  public getSelectedItems() {\r\n    return this.selectedItems;\r\n  }\r\n\r\n  public scroll(lastIndex: number) {\r\n    if (this.loading) {\r\n      return;\r\n    }\r\n    if (lastIndex + this.numberOfItemsFromEndBeforeFetchingMore >= this.model.length) {\r\n      this.fetchMore();\r\n    }\r\n  }\r\n\r\n  public fetchMore() {\r\n    this.currentPage++;\r\n    this.loading = true;\r\n    const fetchMoreSubsription = this.searchFunction(this.searchText$.getValue(), 0, this.currentPage, this.pageSize)\r\n      .pipe(take(1), finalize(() => this.loading = false))\r\n      .subscribe((response: any) => {\r\n        this.model = this.model.concat(response.items);\r\n        this.loading = false;\r\n      });\r\n    this.subscriptions.push(fetchMoreSubsription);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ListComponent } from './list.component';\r\nimport { ListItemDirective } from './list-item.directive';\r\n\r\n@NgModule({\r\n  declarations: [ListComponent, ListItemDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [ListComponent, ListItemDirective]\r\n})\r\n\r\nexport class ListModule { }\r\n","import { Component, ViewChild, ElementRef, AfterViewInit, Input, Output, EventEmitter, Type } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthenticationLoginRequest, AuthenticationLoginResponse } from './auth.model';\r\nimport { AuthenticationService } from './auth.service';\r\nimport { AuthConst } from './auth.const';\r\nimport { CacheService } from '../shared/services';\r\nimport { ValidationService, ValidationOption, RequiredValidationRule, ClientValidator } from '../shared/validation';\r\nimport { fadeInOut } from '../shared/triggers';\r\nimport { BaseTemplate } from '../shared';\r\n\r\n@Component({\r\n  selector: 'katana-auth',\r\n  templateUrl: './auth.component.html',\r\n  styleUrls: ['./auth.component.scss'],\r\n  animations: [fadeInOut]\r\n})\r\n\r\nexport class AuthComponent implements AfterViewInit {\r\n  @Input() public title: string = 'Login';\r\n  @Input() public validator: ClientValidator;\r\n  @Input() public succeedPath: string;\r\n  @Input() public failurePath: string;\r\n  @Input() public template: BaseTemplate;\r\n  @Output() public completed = new EventEmitter<AuthenticationLoginResponse>();\r\n  @ViewChild('formRef', { static: true }) public formRef: ElementRef;\r\n  public request: AuthenticationLoginRequest = new AuthenticationLoginRequest();\r\n\r\n  constructor(\r\n    private _router: Router,\r\n    private _cacheService: CacheService,\r\n    private _authenticationService: AuthenticationService,\r\n    private _validationService: ValidationService\r\n  ) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.initValidations();\r\n  }\r\n\r\n  public login(): void {\r\n    if (!this._validationService.isValid()) return;\r\n    this._authenticationService.login(this.request).subscribe((response: AuthenticationLoginResponse) => {\r\n      if (response.success) {\r\n        this._cacheService.set(AuthConst.User, response.user);\r\n        this.completed.emit(response);\r\n        if (this.succeedPath) this._router.navigate([this.succeedPath]);\r\n      } else {\r\n        this._cacheService.remove(AuthConst.User);\r\n        this.completed.emit(response);\r\n        if (this.failurePath) this._router.navigate([this.failurePath]);\r\n      }\r\n    });\r\n  }\r\n\r\n  private initValidations(): void {\r\n    if (!this.formRef) throw new Error('formRef is null');\r\n    var options: ValidationOption[] = [\r\n      new ValidationOption({\r\n        validationName: 'UserName',\r\n        valueResolver: () => this.request.payload.userName,\r\n        rules: [new RequiredValidationRule()]\r\n      }),\r\n      new ValidationOption({\r\n        validationName: 'Password',\r\n        valueResolver: () => this.request.payload.password,\r\n        rules: [new RequiredValidationRule()]\r\n      })\r\n    ];\r\n\r\n    var validator = new ClientValidator({\r\n      formRef: this.formRef,\r\n      options: options,\r\n      payloadRef: () => this\r\n    });\r\n\r\n    this._validationService.init({\r\n      validator: this.validator ? this.validator : validator\r\n    });\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AuthComponent } from './auth.component';\r\nimport { AuthenticationService } from './auth.service';\r\nimport { LoaderModule } from '../shared/loader';\r\n\r\nconst declarations = [\r\n  AuthComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    LoaderModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations\r\n})\r\n\r\nexport class AuthModule { \r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AuthModule,\r\n      providers: [\r\n        AuthenticationService\r\n      ]\r\n    };\r\n  }\r\n}","import { Component, OnInit, ContentChildren, Output, EventEmitter, Input, ChangeDetectorRef } from '@angular/core';\r\nimport { TabItemComponent } from './tab-item.component';\r\n\r\n@Component({\r\n  selector: 'katana-tabs',\r\n  templateUrl: './tab.component.html',\r\n  styleUrls: ['./tab.component.scss']\r\n})\r\n\r\nexport class TabComponent {\r\n  @ContentChildren(TabItemComponent) public tabs: TabItemComponent[];\r\n  @Output() public change: EventEmitter<TabItemComponent> = new EventEmitter();\r\n  @Input() public displayMode: 'full' | 'default' = 'default';\r\n\r\n  public activeTabIndex: number = 0;\r\n  public clicked: boolean = false;\r\n\r\n  constructor(\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) { }\r\n\r\n  public switchTab(tabIndex: number, tab: TabItemComponent) {\r\n    if (this.activeTabIndex === tabIndex) return;\r\n    this._changeDetectorRef.detectChanges();\r\n    this.activeTabIndex = tabIndex;\r\n    tab.index = tabIndex;\r\n    this.change.emit(tab);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TabComponent } from './tab.component';\r\nimport { TabItemComponent } from './tab-item.component';\r\n\r\nconst declarations = [\r\n  TabComponent,\r\n  TabItemComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations\r\n})\r\n\r\nexport class TabModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { filter } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\nimport { ButtonDefinition } from '../shared/models/base.model';\r\nimport { ToolbarAction } from '../shared/enums/base.enum';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DefaultLayoutService {\r\n    public navType: string;\r\n    public themeLayout: string;\r\n    public layoutType: string;\r\n    public verticalPlacement: string;\r\n    public verticalLayout: string;\r\n    public deviceType: string;\r\n    public imgSrc: string;\r\n    public imgTitle: string;\r\n    public verticalNavType: string;\r\n    public verticalEffect: string;\r\n    public vNavigationView: string;\r\n    public pcodedHeaderPosition: string;\r\n    public pcodedSidebarPosition: string;\r\n    public headerTheme: string;\r\n    public logoTheme: string;\r\n    public innerHeight: string;\r\n    public windowWidth: number;\r\n    public toggleOn: boolean;\r\n    public headerFixedMargin: string;\r\n    public navBarTheme: string;\r\n    public activeItemTheme: string;\r\n    public isCollapsedMobile: string;\r\n    public chatToggle: string;\r\n    public chatToggleInverse: string;\r\n    public chatInnerToggle: string;\r\n    public chatInnerToggleInverse: string;\r\n    public menuTitleTheme: string;\r\n    public itemBorder: boolean;\r\n    public itemBorderStyle: string;\r\n    public subItemBorder: boolean;\r\n    public subItemIcon: string;\r\n    public dropDownIcon: string;\r\n    public isSidebarChecked: boolean;\r\n    public isHeaderChecked: boolean;\r\n    private subscriptions: Subscription = new Subscription();\r\n    private toolbarItems: ButtonDefinition[] = [];\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private _aggregatorService: AggregatorService\r\n    ) {\r\n        this.navType = 'st5';\r\n        this.themeLayout = 'vertical';\r\n        this.vNavigationView = 'view1';\r\n        this.verticalPlacement = 'left';\r\n        this.verticalLayout = 'wide';\r\n        this.deviceType = 'desktop';\r\n        this.verticalNavType = 'offcanvas';\r\n        this.verticalEffect = 'shrink';\r\n        this.pcodedHeaderPosition = 'fixed';\r\n        this.pcodedSidebarPosition = 'fixed';\r\n        this.headerTheme = 'theme1';\r\n        this.logoTheme = 'theme1';\r\n        this.toggleOn = true;\r\n        this.headerFixedMargin = '57px';\r\n        this.navBarTheme = 'themelight1';\r\n        this.activeItemTheme = 'theme4';\r\n        this.isCollapsedMobile = 'no-block';\r\n        this.chatToggle = 'out';\r\n        this.chatToggleInverse = 'in';\r\n        this.chatInnerToggle = 'off';\r\n        this.chatInnerToggleInverse = 'on';\r\n        this.menuTitleTheme = 'theme5';\r\n        this.itemBorder = true;\r\n        this.itemBorderStyle = 'none';\r\n        this.subItemBorder = true;\r\n        this.subItemIcon = 'style6';\r\n        this.dropDownIcon = 'style1';\r\n        this.isSidebarChecked = true;\r\n        this.isHeaderChecked = true;\r\n        const scrollHeight = window.screen.height - 150;\r\n        this.innerHeight = scrollHeight + 'px';\r\n        this.windowWidth = window.innerWidth;\r\n        this.setMenuAttributes(this.windowWidth);\r\n\r\n        const navigationSubscription = this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\r\n            this.toolbarItems = [];\r\n        });\r\n        this.subscriptions.add(navigationSubscription);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscriptions.unsubscribe();\r\n    }\r\n\r\n    public onResize(event) {\r\n        this.innerHeight = event.target.innerHeight + 'px';\r\n        this.windowWidth = event.target.innerWidth;\r\n        let reSizeFlag = true;\r\n        if (this.deviceType === 'tablet' && this.windowWidth >= 768 && this.windowWidth <= 1024) {\r\n            reSizeFlag = false;\r\n        } else if (this.deviceType === 'mobile' && this.windowWidth < 768) {\r\n            reSizeFlag = false;\r\n        }\r\n        if (reSizeFlag) {\r\n            this.setMenuAttributes(this.windowWidth);\r\n        }\r\n    }\r\n\r\n    public setMenuAttributes(windowWidth) {\r\n        if (windowWidth >= 768 && windowWidth <= 1024) {\r\n            this.deviceType = 'tablet';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'push';\r\n        } else if (windowWidth < 768) {\r\n            this.deviceType = 'mobile';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'overlay';\r\n        } else {\r\n            this.deviceType = 'desktop';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'shrink';\r\n        }\r\n    }\r\n\r\n    public toggleOpened() {\r\n        if (this.windowWidth < 768) {\r\n            this.toggleOn = this.verticalNavType === 'offcanvas' ? true : this.toggleOn;\r\n        }\r\n        this.verticalNavType = this.verticalNavType === 'expanded' ? 'offcanvas' : 'expanded';\r\n    }\r\n\r\n    public onClickedOutside(e: Event) {\r\n        if (this.windowWidth < 768 && this.toggleOn && this.verticalNavType !== 'offcanvas') {\r\n            this.toggleOn = true;\r\n            this.verticalNavType = 'offcanvas';\r\n        }\r\n    }\r\n\r\n    public onMobileMenu() {\r\n        this.isCollapsedMobile = this.isCollapsedMobile === 'yes-block' ? 'no-block' : 'yes-block';\r\n    }\r\n\r\n    public toggleChat() {\r\n        this.chatToggle = this.chatToggle === 'out' ? 'in' : 'out';\r\n        this.chatToggleInverse = this.chatToggleInverse === 'out' ? 'in' : 'out';\r\n        this.chatInnerToggle = 'off';\r\n        this.chatInnerToggleInverse = 'off';\r\n    }\r\n\r\n    public toggleChatInner() {\r\n        this.chatInnerToggle = this.chatInnerToggle === 'off' ? 'on' : 'off';\r\n        this.chatInnerToggleInverse = this.chatInnerToggleInverse === 'off' ? 'on' : 'off';\r\n    }\r\n\r\n    public setSidebarPosition() {\r\n        this.isSidebarChecked = !this.isSidebarChecked;\r\n        this.pcodedSidebarPosition = this.isSidebarChecked === true ? 'fixed' : 'absolute';\r\n    }\r\n\r\n    public setHeaderPosition() {\r\n        this.isHeaderChecked = !this.isHeaderChecked;\r\n        this.pcodedHeaderPosition = this.isHeaderChecked === true ? 'fixed' : 'relative';\r\n        this.headerFixedMargin = this.isHeaderChecked === true ? '50px' : '';\r\n    }\r\n\r\n    public setBackgroundPattern(pattern) {\r\n        document.querySelector('body').setAttribute('themebg-pattern', pattern);\r\n    }\r\n\r\n    public setLayoutType(type: string) {\r\n        this.layoutType = type;\r\n        if (type === 'dark') {\r\n            this.headerTheme = 'theme6';\r\n            this.navBarTheme = 'theme1';\r\n            this.logoTheme = 'theme6';\r\n            document.querySelector('body').classList.add('dark');\r\n        } else {\r\n            this.headerTheme = 'theme1';\r\n            this.navBarTheme = 'themelight1';\r\n            this.logoTheme = 'theme1';\r\n            document.querySelector('body').classList.remove('dark');\r\n        }\r\n    }\r\n\r\n    public setNavBarTheme(theme: string) {\r\n        if (theme === 'themelight1') {\r\n            this.navBarTheme = 'themelight1';\r\n        } else {\r\n            this.navBarTheme = 'theme1';\r\n        }\r\n    }\r\n\r\n    public initToolbarItems(actions: string[]) {\r\n        this.toolbarItems = actions.map(action => {\r\n            switch (action) {\r\n                case ToolbarAction.Save:\r\n                    return new ButtonDefinition({ action: action, title: 'LÆ°u', style: 'primary', lazyload: true });\r\n                case ToolbarAction.SaveAll:\r\n                    return new ButtonDefinition({ action: action, title: 'LÆ°u táº¥t cáº£', lazyload: true });\r\n                case ToolbarAction.Cancel:\r\n                    return new ButtonDefinition({ action: action, title: 'Há»§y lÆ°u' });\r\n                case ToolbarAction.Back:\r\n                    return new ButtonDefinition({ action: action, title: 'Quay láº¡i' });\r\n                case ToolbarAction.EditColumnOptions:\r\n                    return new ButtonDefinition({ action: action, title: 'Quáº£n lÃ½ cá»t' });\r\n                case ToolbarAction.SaveAndNew:\r\n                    return new ButtonDefinition({ action: action, title: 'LÆ°u vÃ  táº¡o má»i', lazyload: true });\r\n                case ToolbarAction.Reset:\r\n                    return new ButtonDefinition({ action: action, title: 'LÃ m má»i' });\r\n            }\r\n        });\r\n    }\r\n\r\n    public getToolbarItems() {\r\n        return this.toolbarItems;\r\n    }\r\n\r\n    public hasToolbarItems(): boolean {\r\n        if (!this.toolbarItems) return false;\r\n        return this.toolbarItems.length > 0;\r\n    }\r\n\r\n    public showImage(image: any) {\r\n        this._aggregatorService.publish(KeyConst.ViewImage, image);\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit, OnChanges } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { ActivatedRoute, Router, NavigationStart } from '@angular/router';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { NotificationDetail } from '../shared/models/notification.model';\r\nimport { MenuTab, Breadcrumb } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\n\r\n@Component({\r\n    templateUrl: './backsite-layout.component.html',\r\n})\r\n\r\nexport class AdminLayoutComponent implements OnInit, AfterViewInit {\r\n    public notifications: NotificationDetail[] = [];\r\n    public logo: string = 'https://cmcglobal.com.vn/css/image-common/Combined%20Shape.svg';\r\n    public title: string = 'CMC Global - Aspire to inspire the Digital World';;\r\n    public menuTabs: MenuTab[];\r\n    public isModalShow: boolean = false;\r\n    public modalImageSrc: string = '';\r\n    public imageAltText: string = '';\r\n    public breadcrumbs: Breadcrumb[] = [];\r\n    public breadcrumb: Breadcrumb;\r\n    public url: string = '/dashboard';\r\n\r\n    constructor(\r\n        public workspaceLayoutService: DefaultLayoutService,\r\n        public route: ActivatedRoute,\r\n        protected router: Router,\r\n        protected actionService: ActionService,\r\n        protected aggregatorService: AggregatorService\r\n    ) {\r\n        this.breadcrumb = new Breadcrumb({\r\n            label: 'Home',\r\n            url: this.url\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.aggregatorService.subscribe(KeyConst.ViewImage, (image: any) => {\r\n            this.isModalShow = true;\r\n            this.modalImageSrc = image.src;\r\n            this.imageAltText = image.altText;\r\n        });\r\n\r\n        this.route.data.subscribe(data => {\r\n            if (data) {\r\n                this.menuTabs = <MenuTab[]>data.menuTabs;\r\n                if (data.logo) this.logo = <string>data.logo;\r\n                if (data.title)<string>data.title;\r\n                if (data.url) this.url = <string>data.url;\r\n                if (data.breadcrumb) {\r\n                    this.breadcrumb = <Breadcrumb>data.breadcrumb;\r\n                }\r\n                if (this.router.url == '/') {\r\n                    this.router.navigate([this.url]);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.router.events.subscribe((event) => {\r\n            if (event instanceof NavigationStart) {\r\n                if (this.router.url == '/') {\r\n                    this.router.navigate([this.url]);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public closeImage(): void {\r\n        this.isModalShow = false;\r\n    }\r\n\r\n    public changeMenu(items: Breadcrumb[]): void {\r\n        this.breadcrumbs = items;\r\n        this.breadcrumbs.splice(0, 0, this.breadcrumb);\r\n        this.aggregatorService.publish(KeyConst.MenuChanged, this.breadcrumbs);\r\n    }\r\n}\r\n","import { Component, ViewEncapsulation, Output, EventEmitter, Input, OnInit } from \"@angular/core\";\r\nimport { Breadcrumb, MenuTab } from '../shared/models/base.model';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { ActionService } from '../shared/services/action.service';\r\n\r\n@Component({\r\n    selector: 'default-breadcrumbs',\r\n    templateUrl: './breadcrumbs.component.html',\r\n    styleUrls: ['./breadcrumbs.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class DefaultBreadcrumbsComponent implements OnInit {\r\n    @Input() public items: Breadcrumb[];\r\n    @Input() public menuTabs: MenuTab[];\r\n    @Output() change: EventEmitter<Breadcrumb[]> = new EventEmitter();\r\n\r\n    constructor(\r\n        protected aggregatorService: AggregatorService,\r\n        protected actionService: ActionService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.aggregatorService.subscribe(KeyConst.MenuChanged, (items: Breadcrumb[]) => {\r\n            this.items = items;\r\n        });\r\n    }\r\n\r\n    public selectItem(item: Breadcrumb): void {\r\n        if (!this.items || this.items.length == 0) return;\r\n        var index = this.items.findIndex(s => s.label == item.label);\r\n        if (index == -1) return;\r\n\r\n        var data = [];\r\n        for (let i = 0; i < this.items.length; i++) {\r\n            data.push(this.items[i]);\r\n            if (this.items[i].label == item.label) break;\r\n        }\r\n        var child = this.actionService.retrieveChild(item.state, this.menuTabs);\r\n        if (child) {\r\n            data.push(child);\r\n        }\r\n        this.items = data;\r\n        this.aggregatorService.publish(KeyConst.MenuChanged, this.items);\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { animate, style, transition, trigger } from '@angular/animations';\r\nimport { DefaultLayoutService } from './layout.service';\r\n\r\n@Component({\r\n    selector: 'default-customizer',\r\n    templateUrl: 'customizer.component.html',\r\n    styleUrls: [],\r\n    animations: [\r\n        trigger('fadeInOutTranslate', [\r\n            transition(':enter', [\r\n                style({ opacity: 0 }),\r\n                animate('400ms ease-in-out', style({ opacity: 1 }))\r\n            ]),\r\n            transition(':leave', [\r\n                style({ transform: 'translate(0)' }),\r\n                animate('400ms ease-in-out', style({ opacity: 0 }))\r\n            ])\r\n        ])\r\n    ]\r\n})\r\n\r\nexport class DefaultCustomizerComponent {\r\n    public configOpenRightBar: string;\r\n\r\n    constructor(\r\n        public workspaceLayoutService: DefaultLayoutService\r\n    ) { }\r\n\r\n    public toggleRightbar() {\r\n        this.configOpenRightBar = this.configOpenRightBar === 'open' ? '' : 'open';\r\n    }\r\n}\r\n","import { Component } from \"@angular/core\";\r\n\r\n@Component({\r\n    selector: 'default-footer',\r\n    templateUrl: './footer.component.html'\r\n})\r\n\r\nexport class DefaultFooterComponent {\r\n    constructor(\r\n    ) { }\r\n}\r\n","import { Component, Input } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { NotificationDetail } from '../shared/models/notification.model';\r\nimport { UserViewModel } from '../auth/auth.model';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { AuthenticationService } from '../auth/auth.service';\r\nimport { FileViewModel } from '../shared/file/file.model';\r\n\r\n@Component({\r\n    selector: 'default-header',\r\n    templateUrl: './header.component.html',\r\n    styleUrls: ['./header.component.scss']\r\n})\r\n\r\nexport class DefaultHeaderComponent {\r\n    @Input() public notifications: NotificationDetail[] = [];\r\n    @Input() public logo: string;\r\n    @Input() public title: string;\r\n    public loading: boolean = false;\r\n    public filter: string;\r\n    public user: UserViewModel;\r\n    public isMobile: boolean;\r\n\r\n    constructor(\r\n        public layoutService: DefaultLayoutService,\r\n        protected router: Router,\r\n        protected route: ActivatedRoute,\r\n        protected actionService: ActionService,\r\n        protected aggregatorService: AggregatorService,\r\n        protected authenticationService: AuthenticationService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.isMobile = this.actionService.isMobile();\r\n        if (this.isMobile) {\r\n            this.toggleMenu();\r\n        }\r\n\r\n        this.user = this.authenticationService.currentUser;\r\n        this.user = new UserViewModel({\r\n            fullName: 'Nguyá»n Trung Hiáº¿u - CMC Global SA',\r\n            userName: 'nthieu4',\r\n            image: new FileViewModel({\r\n                src: 'https://img.icons8.com/cotton/64/000000/user-female--v3.png'\r\n            })\r\n        });\r\n    }\r\n\r\n    public toggleMenu(): void {\r\n        if (this.layoutService.verticalEffect == 'overlay') {\r\n            this.layoutService.verticalEffect = 'shrink';\r\n        } else {\r\n            this.layoutService.verticalEffect = 'overlay';\r\n        }\r\n    }\r\n\r\n    public logout(): void {\r\n        this.authenticationService.logout();\r\n    }\r\n}\r\n","import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { Breadcrumb, MenuTab } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { Router } from '@angular/router';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\n\r\n@Component({\r\n    selector: 'default-navbar',\r\n    templateUrl: './navbar.component.html'\r\n})\r\n\r\nexport class DefaultNavBarComponent implements OnInit {\r\n    @Input() public hideBreadcrumbsSection: boolean = false;\r\n    @Input() public items: Breadcrumb[];\r\n    @Input() public menuTabs: MenuTab[] = [];\r\n    @Input() public url: string;\r\n    @Input() public breadcrumb: Breadcrumb;\r\n\r\n    constructor(\r\n        private _actionService: ActionService,\r\n        private _router: Router,\r\n        protected aggregatorService: AggregatorService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        if (!this.items || this.items.length == 0) {\r\n            if (this.menuTabs.length > 0) {\r\n                var data = this._router.url;\r\n                var states = data.split('/');\r\n                if (states.length > 0) {\r\n                    var state = states[states.length - 1];\r\n                    if (!state && this.url) {\r\n                        data = this.url;\r\n                        states = data.split('/');\r\n                        state = states[states.length - 1];\r\n                    }\r\n                    if (state) {\r\n                        var name = this._actionService.retrieveStateName(state, this.menuTabs);\r\n                        this._actionService.changeItem({ state: state, name: name }, this.menuTabs, (items) => {\r\n                            this.items = items;\r\n                            this.items.splice(0, 0, this.breadcrumb);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.aggregatorService.subscribe(KeyConst.MenuChanged, (items: Breadcrumb[]) => {\r\n            this.items = items;\r\n        });\r\n    }\r\n\r\n    public retrieveCurrentItem(): Breadcrumb {\r\n        if (!this.items || this.items.length == 0) return null;\r\n        return this.items[this.items.length - 1];\r\n    }\r\n}\r\n","import { Component, Input, AfterViewInit, OnInit, Output, EventEmitter } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { MenuService } from '../shared/services/menu.service';\r\nimport { ExtendedMainMenuGroup, MenuTab, MenuItem, Breadcrumb } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\n\r\n@Component({\r\n  selector: 'default-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss']\r\n})\r\n\r\nexport class DefaultSidebarComponent implements OnInit, AfterViewInit {\r\n  @Input() public menuTabs: MenuTab[] = [];\r\n  @Input() public navigateTo: (menu: string, router: Router) => void;\r\n  @Input() public set: (role: string) => MenuItem;\r\n  @Output() public change = new EventEmitter<Breadcrumb[]>();\r\n  public menuItems: ExtendedMainMenuGroup[] = [];\r\n  public isCollapsedSideBar: string;\r\n  public currentUrl: string;\r\n  public collapsedItems: ExtendedMainMenuGroup[] = [];\r\n  public isSupplier = false;\r\n  public tabs: { name: string, menu: string, subName: string }[] = [];\r\n  public carouselTile: any;\r\n  public isPageLoad: boolean = false;\r\n  public isMobile: boolean;\r\n  public clicked: boolean;\r\n\r\n  constructor(\r\n    public workspaceLayoutService: DefaultLayoutService,\r\n    protected route: ActivatedRoute,\r\n    protected router: Router,\r\n    protected menuService: MenuService,\r\n    protected actionService: ActionService\r\n  ) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.actionService.executeAsync(() => {\r\n      this.menuService.init(this.menuTabs, () => {\r\n        this.tabs = this.menuService.getTabs();\r\n        this.currentUrl = this.tabs[0].menu;\r\n        this.menuItems = this.menuService.loadFirstTabItems(this.currentUrl);\r\n        this.actionService.executeAsync(() => {\r\n          this.isCollapsedSideBar = 'no-block';\r\n        });\r\n      }, this.set);\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.navigateTo) {\r\n      this.navigateTo = (menu: string, router: Router) => {\r\n        router.navigate(['/', menu, 'dashboard']);\r\n      }\r\n    }\r\n    this.isMobile = this.actionService.isMobile();\r\n    if (this.isMobile) {\r\n      if (this.workspaceLayoutService.verticalEffect == 'overlay') {\r\n        this.workspaceLayoutService.verticalEffect = 'shrink';\r\n      } else {\r\n        this.workspaceLayoutService.verticalEffect = 'overlay';\r\n      }\r\n    }\r\n  }\r\n\r\n  public toggleMenu(): void {\r\n    if (this.isMobile) {\r\n      if (this.workspaceLayoutService.verticalEffect == 'overlay') {\r\n        this.workspaceLayoutService.verticalEffect = 'shrink';\r\n      } else {\r\n        this.workspaceLayoutService.verticalEffect = 'overlay';\r\n      }\r\n    }\r\n  }\r\n\r\n  public removeActiveStateNavigationMenu(): void {\r\n    let navigationLevelArr = document.querySelectorAll(\".pcoded-left-item--wrapper .pcoded-navigatio-lavel\");\r\n    for (let i = 0; i < navigationLevelArr.length; i++) {\r\n      navigationLevelArr[i].classList.remove(\"active\");\r\n    }\r\n    let subMenuLevelArr = document.querySelectorAll(\".pcoded-left-item--wrapper .pcoded-left-item\");\r\n    for (let i = 0; i < subMenuLevelArr.length; i++) {\r\n      subMenuLevelArr[i].classList.remove(\"active\");\r\n    }\r\n    let mainContentWrapper = document.querySelector(\".pcoded-main-container .pcoded-content\");\r\n    mainContentWrapper.classList.remove(\"active\");\r\n  }\r\n\r\n  public toggleGroup(group: ExtendedMainMenuGroup, $event: any): void {\r\n    if (event != null || event != undefined) {\r\n      let target = $event.target || $event.srcElement || $event.currentTarget;\r\n      let curNavigationLevel = target.closest(\".pcoded-navigatio-lavel\");\r\n      if (curNavigationLevel.classList.contains(\"active\")) {\r\n        this.removeActiveStateNavigationMenu();\r\n      } else {\r\n        this.removeActiveStateNavigationMenu();\r\n        let listChildrenItemInTarget = target.closest(\".pcoded-left-item--wrapper\").children;\r\n        for (let i = 0; i < listChildrenItemInTarget.length; i++) {\r\n          if (listChildrenItemInTarget[i].classList.contains(\"pcoded-left-item\")) {\r\n            listChildrenItemInTarget[i].classList.add(\"active\");\r\n          }\r\n        }\r\n        target.closest(\".pcoded-navigatio-lavel\").classList.toggle(\"active\");\r\n        let mainContentWrapper = document.querySelector(\".pcoded-main-container .pcoded-content\");\r\n        mainContentWrapper.classList.add(\"active\");\r\n      }\r\n    }\r\n    const index = this.collapsedItems.indexOf(group);\r\n    if (index >= 0) {\r\n      this.collapsedItems.splice(index, 1);\r\n    } else {\r\n      this.collapsedItems.push(group);\r\n    }\r\n  }\r\n\r\n  public isGroupCollapsed(group: ExtendedMainMenuGroup): boolean {\r\n    return this.collapsedItems.indexOf(group) >= 0;\r\n  }\r\n\r\n  public toggleOpenedSidebar() {\r\n    this.isCollapsedSideBar = this.isCollapsedSideBar === 'yes-block' ? 'no-block' : 'yes-block';\r\n  }\r\n\r\n  public loadMenu(menu: string): void {\r\n    this.menuItems = this.menuService.loadMenuItems(menu);\r\n    this.currentUrl = menu.toLocaleLowerCase();\r\n    this.navigateTo(this.currentUrl, this.router);\r\n  }\r\n\r\n  public selectItem($event: any, item: any): void {\r\n    let naviLevelAll = document.querySelectorAll(\".pcoded-navigatio-lavel\");\r\n    for (let i = 0; i < naviLevelAll.length; i++) {\r\n      naviLevelAll[i].classList.remove(\"active\");\r\n    }\r\n\r\n    let target = $event.target || $event.srcElement || $event.currentTarget;\r\n    target.closest(\".pcoded-left-item--wrapper\").classList.add(\"active\");\r\n    let listChildrenItemInTarget = target.closest(\".pcoded-left-item--wrapper\").children;\r\n\r\n    for (let i = 0; i < listChildrenItemInTarget.length; i++) {\r\n      if (listChildrenItemInTarget[i].classList.contains(\"pcoded-navigatio-lavel\")) {\r\n        listChildrenItemInTarget[i].classList.add(\"active\");\r\n      }\r\n    }\r\n\r\n    this.changeItem(item);\r\n  }\r\n\r\n  public changeItem(item: any): void {\r\n    this.actionService.changeItem(item, this.menuTabs, (items: Breadcrumb[]) => {\r\n      this.change.emit(items);\r\n    });\r\n  }\r\n}\r\n","import { Component, ViewChild, ViewContainerRef, TemplateRef } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { ButtonDefinition, ToolbarActionPayload } from '../shared/models/base.model';\r\nimport { ToolbarAction } from '../shared/enums/base.enum';\r\nimport { SummaryError } from '../shared/validation/validation.model';\r\nimport { KeyConst } from '../shared';\r\n\r\n@Component({\r\n    selector: 'default-toolbar',\r\n    templateUrl: './toolbar.component.html'\r\n})\r\n\r\nexport class DefaultToolbarComponent {\r\n    @ViewChild('errorContainer', { read: ViewContainerRef, static: true }) public errorContainer: ViewContainerRef;\r\n    @ViewChild('errorTemplate', { static: true }) public errorTemplate: TemplateRef<any>;\r\n\r\n    constructor(\r\n        public layoutService: DefaultLayoutService,\r\n        private _aggregatorService: AggregatorService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._aggregatorService.subscribe(KeyConst.PageChanged, () => {\r\n            if (this.errorContainer) {\r\n                this.errorContainer.clear();\r\n            }\r\n        });\r\n    }\r\n\r\n    public onButtonClicked(loadedCallback: Function, item: ButtonDefinition) {\r\n        let payload = new ToolbarActionPayload({ action: item.action, loadedCallback: loadedCallback });\r\n        if (item.action === ToolbarAction.Save) {\r\n            payload.callback = (errors: SummaryError[]) => {\r\n                this.errorContainer.clear();\r\n                this.errorContainer.createEmbeddedView(this.errorTemplate, { errors: errors });\r\n            };\r\n        }\r\n        this._aggregatorService.publish('ToolbarButtonClicked', payload);\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'floating-toolbar',\r\n  templateUrl: './floating-toolbar.component.html',\r\n  styleUrls: ['./floating-toolbar.component.scss'],\r\n  animations: [\r\n    trigger('show', [\r\n      state('true',\r\n        style({\r\n          bottom: '15px',\r\n        })\r\n      ),\r\n      state('false',\r\n        style({\r\n          bottom: '-100%',\r\n        })\r\n      ),\r\n      transition('0 <=> 1', [\r\n        animate('400ms ease-in-out')\r\n      ])\r\n    ]),\r\n  ]\r\n})\r\n\r\nexport class FloatingToolbarComponent implements OnInit {\r\n  public show: boolean = false;\r\n  public widthProcess: number = 100;\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  clickHide() {\r\n    this.show = false;\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from \"@angular/core\";\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ClickOutsideModule } from 'ng-click-outside';\r\nimport { AdminLayoutComponent } from './backsite-layout.component';\r\nimport { DefaultBreadcrumbsComponent } from './breadcrumbs.component';\r\nimport { DefaultCustomizerComponent } from './customizer.component';\r\nimport { DefaultFooterComponent } from './footer.component';\r\nimport { DefaultHeaderComponent } from './header.component';\r\nimport { DefaultNavBarComponent } from './navbar.component';\r\nimport { DefaultSidebarComponent } from './sidebar.component';\r\nimport { DefaultToolbarComponent } from './toolbar.component';\r\nimport { FloatingToolbarComponent } from './floating-toolbar.component';\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { SpinnerModule } from '../shared/spinner/spinner.module';\r\nimport { CardModule } from '../shared/card/card.module';\r\nimport { FormatterModule } from '../shared/formatter/formatter.module';\r\nimport { AccordionModule } from '../shared/accordion/accordion.module';\r\nimport { ButtonModule } from '../shared/button/button.module';\r\nimport { AccordionDirective } from '../shared/accordion/accordion.directive';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AdminLayoutComponent,\r\n    DefaultBreadcrumbsComponent,\r\n    DefaultCustomizerComponent,\r\n    DefaultFooterComponent,\r\n    DefaultHeaderComponent,\r\n    DefaultNavBarComponent,\r\n    DefaultSidebarComponent,\r\n    DefaultToolbarComponent,\r\n    FloatingToolbarComponent\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    CommonModule,\r\n    RouterModule,\r\n    SpinnerModule,\r\n    CardModule,\r\n    ClickOutsideModule,\r\n    FormatterModule,\r\n    AccordionModule,\r\n    ButtonModule\r\n  ],\r\n  exports: [\r\n    AdminLayoutComponent,\r\n    DefaultBreadcrumbsComponent,\r\n    DefaultCustomizerComponent,\r\n    DefaultFooterComponent,\r\n    DefaultHeaderComponent,\r\n    DefaultNavBarComponent,\r\n    DefaultSidebarComponent,\r\n    DefaultToolbarComponent,\r\n    FloatingToolbarComponent\r\n  ],\r\n})\r\n\r\nexport class LayoutModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: LayoutModule,\r\n      providers: [\r\n        DefaultLayoutService,\r\n        AccordionDirective\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ValidationModule } from './components/shared/validation/validation.module';\nimport { CModalModule } from './components/shared/modals';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AuthModule } from './components/auth/auth.module';\nimport { AggregatorService } from './components/shared/services/aggregator.service';\nimport { TabModule } from './components/shared/tab/tab.module';\nimport { DatetimePickerModule } from './components/shared/datetime-picker';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { EditorModule } from './components/shared/editor/editor.module';\nimport { ButtonModule } from './components/shared/button/button.module';\nimport { FormModule } from './components/shared/form/form.module';\nimport { DropdownModule } from './components/shared/dropdown/dropdown.module';\nimport { CardModule } from './components/shared/card/card.module';\nimport { AccordionModule } from './components/shared/accordion/accordion.module';\nimport { FormatterModule } from './components/shared/formatter/formatter.module';\nimport { LayoutModule } from './components/layout/layout.module';\nimport { SpinnerModule } from './components/shared/spinner/spinner.module';\nimport { ClickOutsideModule } from 'ng-click-outside';\nimport { CheckboxModule } from './components/shared/checkbox/checkbox.module';\nimport { TextboxModule } from './components/shared/textbox/textbox.module';\nimport { TableModule } from './components/shared/table/table.module';\nimport { FileModule } from './components/shared/file/file.module';\nimport { MediaViewerModule } from './components/shared/media-viewer/media-viewer.module';\nimport { ImageViewerModule } from './components/shared/image-viewer/image-viewer.module';\nimport { ViewerModule } from './components/shared/viewer/viewer.module';\nimport { RadioModule } from './components/shared/radio/radio.module';\nimport { TimelineModule } from './components/shared/timeline/timeline.module';\nimport { ChipModule } from './components/shared/chip/chip.module';\nimport { PanelModule } from './components/shared/panel/panel.module';\nimport { ListModule } from './components/shared/list/list.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    TabModule,\n    EditorModule,\n    ButtonModule,\n    CardModule,\n    AccordionModule,\n    FormModule,\n    ClickOutsideModule,\n    SpinnerModule,\n    CardModule,\n    CheckboxModule,\n    TextboxModule,\n    TableModule,\n    FileModule,\n    MediaViewerModule,\n    ImageViewerModule,\n    ViewerModule,\n    RadioModule,\n    TimelineModule,\n    ChipModule,\n    PanelModule,\n    ListModule,\n    FormatterModule.forChild(),\n    ValidationModule.forRoot(),\n    CModalModule.forRoot(),\n    AuthModule.forRoot(),\n    DatetimePickerModule.forChild(),\n    LayoutModule.forRoot()\n  ],\n  exports: [\n    AuthModule,\n    TabModule,\n    CModalModule,\n    DatetimePickerModule,\n    EditorModule,\n    FormModule,\n    DropdownModule,\n    SpinnerModule,\n    CardModule,\n    ButtonModule,\n    AccordionModule,\n    CheckboxModule,\n    TextboxModule,\n    TableModule,\n    FileModule,\n    MediaViewerModule,\n    ImageViewerModule,\n    ViewerModule,\n    RadioModule,\n    TimelineModule,\n    ChipModule,\n    PanelModule,\n    ListModule\n  ],\n  providers: []\n})\n\nexport class Framework4CModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: Framework4CModule,\n      providers: [\n        AggregatorService\n      ]\n    };\n  }\n}\n"]}